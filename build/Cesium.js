/**
 * Cesium - https://github.com/AnalyticalGraphicsInc/cesium
 *
 * Copyright 2011-2017 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md for full licensing details.
 */
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/**
 * @license
 *
 * Grauw URI utilities
 *
 * See: http://hg.grauw.nl/grauw-lib/file/tip/src/uri.js
 *
 * @author Laurens Holst (http://www.grauw.nl/)
 *
 *   Copyright 2012 Laurens Holst
 *
 *   Licensed under the Apache License, Version 2.0 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 *
 */

/**
  @license
  when.js - https://github.com/cujojs/when

  MIT License (c) copyright B Cavalier & J Hann

 * A lightweight CommonJS Promises/A and when() implementation
 * when is part of the cujo.js family of libraries (http://cujojs.com/)
 *
 * Licensed under the MIT License at:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * @version 1.7.1
 */

/**
@license
mersenne-twister.js - https://gist.github.com/banksean/300494

   Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,
   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

     1. Redistributions of source code must retain the above copyright
        notice, this list of conditions and the following disclaimer.

     2. Redistributions in binary form must reproduce the above copyright
        notice, this list of conditions and the following disclaimer in the
        documentation and/or other materials provided with the distribution.

     3. The names of its contributors may not be used to endorse or promote
        products derived from this software without specific prior written
        permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
   A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
   EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
   PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/**
@license
sprintf.js from the php.js project - https://github.com/kvz/phpjs
Directly from https://github.com/kvz/phpjs/blob/master/functions/strings/sprintf.js

php.js is copyright 2012 Kevin van Zonneveld.

Portions copyright Brett Zamir (http://brett-zamir.me), Kevin van Zonneveld
(http://kevin.vanzonneveld.net), Onno Marsman, Theriault, Michael White
(http://getsprink.com), Waldo Malqui Silva, Paulo Freitas, Jack, Jonas
Raoni Soares Silva (http://www.jsfromhell.com), Philip Peterson, Legaev
Andrey, Ates Goral (http://magnetiq.com), Alex, Ratheous, Martijn Wieringa,
Rafa? Kukawski (http://blog.kukawski.pl), lmeyrick
(https://sourceforge.net/projects/bcmath-js/), Nate, Philippe Baumann,
Enrique Gonzalez, Webtoolkit.info (http://www.webtoolkit.info/), Carlos R.
L. Rodrigues (http://www.jsfromhell.com), Ash Searle
(http://hexmen.com/blog/), Jani Hartikainen, travc, Ole Vrijenhoek,
Erkekjetter, Michael Grier, Rafa? Kukawski (http://kukawski.pl), Johnny
Mast (http://www.phpvrouwen.nl), T.Wild, d3x,
http://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript,
Rafa? Kukawski (http://blog.kukawski.pl/), stag019, pilus, WebDevHobo
(http://webdevhobo.blogspot.com/), marrtins, GeekFG
(http://geekfg.blogspot.com), Andrea Giammarchi
(http://webreflection.blogspot.com), Arpad Ray (mailto:arpad@php.net),
gorthaur, Paul Smith, Tim de Koning (http://www.kingsquare.nl), Joris, Oleg
Eremeev, Steve Hilder, majak, gettimeofday, KELAN, Josh Fraser
(http://onlineaspect.com/2007/06/08/auto-detect-a-time-zone-with-javascript/),
Marc Palau, Martin
(http://www.erlenwiese.de/), Breaking Par Consulting Inc
(http://www.breakingpar.com/bkp/home.nsf/0/87256B280015193F87256CFB006C45F7),
Chris, Mirek Slugen, saulius, Alfonso Jimenez
(http://www.alfonsojimenez.com), Diplom@t (http://difane.com/), felix,
Mailfaker (http://www.weedem.fr/), Tyler Akins (http://rumkin.com), Caio
Ariede (http://caioariede.com), Robin, Kankrelune
(http://www.webfaktory.info/), Karol Kowalski, Imgen Tata
(http://www.myipdf.com/), mdsjack (http://www.mdsjack.bo.it), Dreamer,
Felix Geisendoerfer (http://www.debuggable.com/felix), Lars Fischer, AJ,
David, Aman Gupta, Michael White, Public Domain
(http://www.json.org/json2.js), Steven Levithan
(http://blog.stevenlevithan.com), Sakimori, Pellentesque Malesuada,
Thunder.m, Dj (http://phpjs.org/functions/htmlentities:425#comment_134018),
Steve Clay, David James, Francois, class_exists, nobbler, T. Wild, Itsacon
(http://www.itsacon.net/), date, Ole Vrijenhoek (http://www.nervous.nl/),
Fox, Raphael (Ao RUDLER), Marco, noname, Mateusz "loonquawl" Zalega, Frank
Forte, Arno, ger, mktime, john (http://www.jd-tech.net), Nick Kolosov
(http://sammy.ru), marc andreu, Scott Cariss, Douglas Crockford
(http://javascript.crockford.com), madipta, Slawomir Kaniecki,
ReverseSyntax, Nathan, Alex Wilson, kenneth, Bayron Guevara, Adam Wallner
(http://web2.bitbaro.hu/), paulo kuong, jmweb, Lincoln Ramsay, djmix,
Pyerre, Jon Hohle, Thiago Mata (http://thiagomata.blog.com), lmeyrick
(https://sourceforge.net/projects/bcmath-js/this.), Linuxworld, duncan,
Gilbert, Sanjoy Roy, Shingo, sankai, Oskar Larsson H?gfeldt
(http://oskar-lh.name/), Denny Wardhana, 0m3r, Everlasto, Subhasis Deb,
josh, jd, Pier Paolo Ramon (http://www.mastersoup.com/), P, merabi, Soren
Hansen, Eugene Bulkin (http://doubleaw.com/), Der Simon
(http://innerdom.sourceforge.net/), echo is bad, Ozh, XoraX
(http://www.xorax.info), EdorFaus, JB, J A R, Marc Jansen, Francesco, LH,
Stoyan Kyosev (http://www.svest.org/), nord_ua, omid
(http://phpjs.org/functions/380:380#comment_137122), Brad Touesnard, MeEtc
(http://yass.meetcweb.com), Peter-Paul Koch
(http://www.quirksmode.org/js/beat.html), Olivier Louvignes
(http://mg-crea.com/), T0bsn, Tim Wiel, Bryan Elliott, Jalal Berrami,
Martin, JT, David Randall, Thomas Beaucourt (http://www.webapp.fr), taith,
vlado houba, Pierre-Luc Paour, Kristof Coomans (SCK-CEN Belgian Nucleair
Research Centre), Martin Pool, Kirk Strobeck, Rick Waldron, Brant Messenger
(http://www.brantmessenger.com/), Devan Penner-Woelk, Saulo Vallory, Wagner
B. Soares, Artur Tchernychev, Valentina De Rosa, Jason Wong
(http://carrot.org/), Christoph, Daniel Esteban, strftime, Mick@el, rezna,
Simon Willison (http://simonwillison.net), Anton Ongson, Gabriel Paderni,
Marco van Oort, penutbutterjelly, Philipp Lenssen, Bjorn Roesbeke
(http://www.bjornroesbeke.be/), Bug?, Eric Nagel, Tomasz Wesolowski,
Evertjan Garretsen, Bobby Drake, Blues (http://tech.bluesmoon.info/), Luke
Godfrey, Pul, uestla, Alan C, Ulrich, Rafal Kukawski, Yves Sucaet,
sowberry, Norman "zEh" Fuchs, hitwork, Zahlii, johnrembo, Nick Callen,
Steven Levithan (stevenlevithan.com), ejsanders, Scott Baker, Brian Tafoya
(http://www.premasolutions.com/), Philippe Jausions
(http://pear.php.net/user/jausions), Aidan Lister
(http://aidanlister.com/), Rob, e-mike, HKM, ChaosNo1, metjay, strcasecmp,
strcmp, Taras Bogach, jpfle, Alexander Ermolaev
(http://snippets.dzone.com/user/AlexanderErmolaev), DxGx, kilops, Orlando,
dptr1988, Le Torbi, James (http://www.james-bell.co.uk/), Pedro Tainha
(http://www.pedrotainha.com), James, Arnout Kazemier
(http://www.3rd-Eden.com), Chris McMacken, gabriel paderni, Yannoo,
FGFEmperor, baris ozdil, Tod Gentille, Greg Frazier, jakes, 3D-GRAF, Allan
Jensen (http://www.winternet.no), Howard Yeend, Benjamin Lupton, davook,
daniel airton wermann (http://wermann.com.br), Atli T¨®r, Maximusya, Ryan
W Tenney (http://ryan.10e.us), Alexander M Beedie, fearphage
(http://http/my.opera.com/fearphage/), Nathan Sepulveda, Victor, Matteo,
Billy, stensi, Cord, Manish, T.J. Leahy, Riddler
(http://www.frontierwebdev.com/), Rafa? Kukawski, FremyCompany, Matt
Bradley, Tim de Koning, Luis Salazar (http://www.freaky-media.com/), Diogo
Resende, Rival, Andrej Pavlovic, Garagoth, Le Torbi
(http://www.letorbi.de/), Dino, Josep Sanz (http://www.ws3.es/), rem,
Russell Walker (http://www.nbill.co.uk/), Jamie Beck
(http://www.terabit.ca/), setcookie, Michael, YUI Library:
http://developer.yahoo.com/yui/docs/YAHOO.util.DateLocale.html, Blues at
http://hacks.bluesmoon.info/strftime/strftime.js, Ben
(http://benblume.co.uk/), DtTvB
(http://dt.in.th/2008-09-16.string-length-in-bytes.html), Andreas, William,
meo, incidence, Cagri Ekin, Amirouche, Amir Habibi
(http://www.residence-mixte.com/), Luke Smith (http://lucassmith.name),
Kheang Hok Chin (http://www.distantia.ca/), Jay Klehr, Lorenzo Pisani,
Tony, Yen-Wei Liu, Greenseed, mk.keck, Leslie Hoare, dude, booeyOH, Ben
Bryan

Licensed under the MIT (MIT-LICENSE.txt) license.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL KEVIN VAN ZONNEVELD BE LIABLE FOR ANY CLAIM, DAMAGES
OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/

// Copyright 2012 Google Inc., Apache 2.0 license.

/**
@license
tween.js - https://github.com/sole/tween.js

Copyright (c) 2010-2012 Tween.js authors.

Easing equations Copyright (c) 2001 Robert Penner http://robertpenner.com/easing/

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

/**
  @license
  fontmetrics.js - https://github.com/Pomax/fontmetrics.js

  Copyright (C) 2011 by Mike "Pomax" Kamermans

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
**/

!function(){var e,t,r;!function(n){function i(e,t){return w.call(e,t)}function o(e,t){var r,n,i,o,a,s,u,l,c,h,f,d,p=t&&t.split("/"),m=_.map,y=m&&m["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,_.nodeIdCompat&&O.test(e[a])&&(e[a]=e[a].replace(O,"")),"."===e[0].charAt(0)&&p&&(d=p.slice(0,p.length-1),e=d.concat(e)),c=0;c<e.length;c++)if("."===(f=e[c]))e.splice(c,1),c-=1;else if(".."===f){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((p||y)&&m){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),p)for(h=p.length;h>0;h-=1)if((i=m[p.slice(0,h).join("/")])&&(i=i[n])){o=i,s=c;break}if(o)break;!u&&y&&y[n]&&(u=y[n],l=c)}!o&&u&&(o=u,s=l),o&&(r.splice(0,s,o),e=r.join("/"))}return e}function a(e,t){return function(){var r=T.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),p.apply(n,r.concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function u(e){return function(t){g[e]=t}}function l(e){if(i(E,e)){var t=E[e];delete E[e],v[e]=!0,d.apply(n,t)}if(!i(g,e)&&!i(v,e))throw new Error("No "+e);return g[e]}function c(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function h(e){return e?c(e):[]}function f(e){return function(){return _&&_.config&&_.config[e]||{}}}var d,p,m,y,g={},E={},_={},v={},w=Object.prototype.hasOwnProperty,T=[].slice,O=/\.js$/;m=function(e,t){var r,n=c(e),i=n[0],a=t[1];return e=n[1],i&&(i=o(i,a),r=l(i)),i?e=r&&r.normalize?r.normalize(e,s(a)):o(e,a):(e=o(e,a),n=c(e),i=n[0],e=n[1],i&&(r=l(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:r}},y={require:function(e){return a(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:f(e)}}},d=function(e,t,r,o){var s,c,f,d,p,_,w,T=[],O=typeof r;if(o=o||e,_=h(o),"undefined"===O||"function"===O){for(t=!t.length&&r.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if(d=m(t[p],_),"require"===(c=d.f))T[p]=y.require(e);else if("exports"===c)T[p]=y.exports(e),w=!0;else if("module"===c)s=T[p]=y.module(e);else if(i(g,c)||i(E,c)||i(v,c))T[p]=l(c);else{if(!d.p)throw new Error(e+" missing "+c);d.p.load(d.n,a(o,!0),u(c),{}),T[p]=g[c]}f=r?r.apply(g[e],T):void 0,e&&(s&&s.exports!==n&&s.exports!==g[e]?g[e]=s.exports:f===n&&w||(g[e]=f))}else e&&(g[e]=r)},e=t=p=function(e,t,r,i,o){if("string"==typeof e)return y[e]?y[e](t):l(m(e,h(t)).f);if(!e.splice){if(_=e,_.deps&&p(_.deps,_.callback),!t)return;t.splice?(e=t,t=r,r=null):e=n}return t=t||function(){},"function"==typeof r&&(r=i,i=o),i?d(n,e,t,r):setTimeout(function(){d(n,e,t,r)},4),p},p.config=function(e){return p(e)},e._defined=g,r=function(e,t,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(r=t,t=[]),i(g,e)||i(E,e)||(E[e]=[e,t,r])},r.amd={jQuery:!0}}(),r("Core/defined",[],function(){"use strict";function e(e){return void 0!==e&&null!==e}return e}),r("Core/DeveloperError",["./defined"],function(e){"use strict";function t(e){this.name="DeveloperError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t.throwInstantiationError=function(){throw new t("This function defines an interface and should not be called directly.")},t}),r("ThirdParty/Uri",[],function(){function e(t){if(t instanceof e)this.scheme=t.scheme,this.authority=t.authority,this.path=t.path,this.query=t.query,this.fragment=t.fragment;else if(t){var r=n.exec(t);this.scheme=r[1],this.authority=r[2],this.path=r[3],this.query=r[4],this.fragment=r[5]}}function t(e){var t=unescape(e);return o.test(t)?t:e.toUpperCase()}function r(e,t,r,n){return(t||"")+r.toLowerCase()+(n||"")}e.prototype.scheme=null,e.prototype.authority=null,e.prototype.path="",e.prototype.query=null,e.prototype.fragment=null;var n=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");e.prototype.getScheme=function(){return this.scheme},e.prototype.getAuthority=function(){return this.authority},e.prototype.getPath=function(){return this.path},e.prototype.getQuery=function(){return this.query},e.prototype.getFragment=function(){return this.fragment},e.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},e.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},e.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},e.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(a,r).replace(i,t)),this.path&&(this.path=this.path.replace(i,t)),this.query&&(this.query=this.query.replace(i,t)),this.fragment&&(this.fragment=this.fragment.replace(i,t))};var i=/%[0-9a-z]{2}/gi,o=/[a-zA-Z0-9\-\._~]/,a=/(.*@)?([^@:]*)(:.*)?/;return e.prototype.resolve=function(t){var r=new e;return this.scheme?(r.scheme=this.scheme,r.authority=this.authority,r.path=this.path,r.query=this.query):(r.scheme=t.scheme,this.authority?(r.authority=this.authority,r.path=this.path,r.query=this.query):(r.authority=t.authority,""==this.path?(r.path=t.path,r.query=this.query||t.query):("/"==this.path.charAt(0)?(r.path=this.path,r.removeDotSegments()):(t.authority&&""==t.path?r.path="/"+this.path:r.path=t.path.substring(0,t.path.lastIndexOf("/")+1)+this.path,r.removeDotSegments()),r.query=this.query))),r.fragment=this.fragment,r},e.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),r=[],n=""==t[0];n&&t.shift();for(""==t[0]&&t.shift();t.length;)e=t.shift(),".."==e?r.pop():"."!=e&&r.push(e);"."!=e&&".."!=e||r.push(""),n&&r.unshift(""),this.path=r.join("/")},e.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},e}),r("Core/freezeObject",["./defined"],function(e){"use strict";var t=Object.freeze;return e(t)||(t=function(e){return e}),t}),r("Core/defaultValue",["./freezeObject"],function(e){"use strict";function t(e,t){return void 0!==e&&null!==e?e:t}return t.EMPTY_OBJECT=e({}),t}),r("Core/getAbsoluteUri",["../ThirdParty/Uri","./defaultValue","./defined","./DeveloperError"],function(e,t,r,n){"use strict";function i(e,t){var r;return"undefined"!=typeof document&&(r=document),i._implementation(e,t,r)}return i._implementation=function(i,o,a){if(!r(i))throw new n("relative uri is required.");if(!r(o)){if(void 0===a)return i;o=t(a.baseURI,a.location.href)}var s=new e(o);return new e(i).resolve(s).toString()},i}),function(e){"use strict";e("ThirdParty/when",[],function(){function e(e,r,n,i){return t(e).then(r,n,i)}function t(e){var t,r;return e instanceof n?t=e:s(e)?(r=a(),e.then(function(e){r.resolve(e)},function(e){r.reject(e)},function(e){r.progress(e)}),t=r.promise):t=i(e),t}function r(t){return e(t,o)}function n(e){this.then=e}function i(e){return new n(function(r){try{return t(r?r(e):e)}catch(e){return o(e)}})}function o(e){return new n(function(r,n){try{return n?t(n(e)):o(e)}catch(e){return o(e)}})}function a(){function e(e,t,r){return f(e,t,r)}function r(e){return p(e)}function i(e){return p(o(e))}function s(e){return d(e)}var u,l,c,h,f,d,p;return l=new n(e),u={then:e,resolve:r,reject:i,progress:s,promise:l,resolver:{resolve:r,reject:i,progress:s}},c=[],h=[],f=function(e,t,r){var n,i;return n=a(),i="function"==typeof r?function(e){try{n.progress(r(e))}catch(e){n.progress(e)}}:function(e){n.progress(e)},c.push(function(r){r.then(e,t).then(n.resolve,n.reject,i)}),h.push(i),n.promise},d=function(e){return m(h,e),e},p=function(e){return e=t(e),f=e.then,p=t,d=g,m(c,e),h=c=w,e},u}function s(e){return e&&"function"==typeof e.then}function u(t,r,n,i,o){return y(2,arguments),e(t,function(t){function s(e){m(e)}function u(e){p(e)}var l,c,h,f,d,p,m,y,E,_;if(E=t.length>>>0,l=Math.max(0,Math.min(r,E)),h=[],c=E-l+1,f=[],d=a(),l)for(y=d.progress,m=function(e){f.push(e),--c||(p=m=g,d.reject(f))},p=function(e){h.push(e),--l||(p=m=g,d.resolve(h))},_=0;_<E;++_)_ in t&&e(t[_],u,s,y);else d.resolve(h);return d.then(n,i,o)})}function l(e,t,r,n){function i(e){return t?t(e[0]):e[0]}return u(e,1,i,r,n)}function c(e,t,r,n){return y(1,arguments),f(e,E).then(t,r,n)}function h(){return f(arguments,E)}function f(t,r){return e(t,function(t){var n,i,o,s,u,l;if(o=i=t.length>>>0,n=[],l=a(),o)for(s=function(t,i){e(t,r).then(function(e){n[i]=e,--o||l.resolve(n)},l.reject)},u=0;u<i;u++)u in t?s(t[u],u):--o;else l.resolve(n);return l.promise})}function d(t,r){var n=v.call(arguments,1);return e(t,function(t){var i;return i=t.length,n[0]=function(t,n,o){return e(t,function(t){return e(n,function(e){return r(t,e,o,i)})})},_.apply(t,n)})}function p(t,r,n){var i=arguments.length>2;return e(t,function(e){return e=i?n:e,r.resolve(e),e},function(e){return r.reject(e),o(e)},r.progress)}function m(e,t){for(var r,n=0;r=e[n++];)r(t)}function y(e,t){for(var r,n=t.length;n>e;)if(null!=(r=t[--n])&&"function"!=typeof r)throw new Error("arg "+n+" must be a function")}function g(){}function E(e){return e}var _,v,w;return e.defer=a,e.resolve=t,e.reject=r,e.join=h,e.all=c,e.map=f,e.reduce=d,e.any=l,e.some=u,e.chain=p,e.isPromise=s,n.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(w,e)},yield:function(e){return this.then(function(){return e})},spread:function(e){return this.then(function(t){return c(t,function(t){return e.apply(w,t)})})}},v=[].slice,_=[].reduce||function(e){var t,r,n,i,o;if(o=0,t=Object(this),i=t.length>>>0,r=arguments,r.length<=1)for(;;){if(o in t){n=t[o++];break}if(++o>=i)throw new TypeError}else n=r[1];for(;o<i;++o)o in t&&(n=e(n,t[o],o,t));return n},e})}("function"==typeof r&&r.amd?r:function(e){"object"==typeof exports?module.exports=e():this.when=e()}),r("Core/appendForwardSlash",[],function(){"use strict";function e(e){return 0!==e.length&&"/"===e[e.length-1]||(e+="/"),e}return e}),r("Core/Check",["./defined","./DeveloperError"],function(e,t){"use strict";function r(e){return e+" is required, actual value was undefined"}function n(e,t,r){return"Expected "+r+" to be typeof "+t+", actual typeof was "+e}var i={};return i.typeOf={},i.defined=function(n,i){if(!e(i))throw new t(r(n))},i.typeOf.func=function(e,r){if("function"!=typeof r)throw new t(n(typeof r,"function",e))},i.typeOf.string=function(e,r){if("string"!=typeof r)throw new t(n(typeof r,"string",e))},i.typeOf.number=function(e,r){if("number"!=typeof r)throw new t(n(typeof r,"number",e))},i.typeOf.number.lessThan=function(e,r,n){if(i.typeOf.number(e,r),r>=n)throw new t("Expected "+e+" to be less than "+n+", actual value was "+r)},i.typeOf.number.lessThanOrEquals=function(e,r,n){if(i.typeOf.number(e,r),r>n)throw new t("Expected "+e+" to be less than or equal to "+n+", actual value was "+r)},i.typeOf.number.greaterThan=function(e,r,n){if(i.typeOf.number(e,r),r<=n)throw new t("Expected "+e+" to be greater than "+n+", actual value was "+r)},i.typeOf.number.greaterThanOrEquals=function(e,r,n){if(i.typeOf.number(e,r),r<n)throw new t("Expected "+e+" to be greater than or equal to"+n+", actual value was "+r)},i.typeOf.object=function(e,r){if("object"!=typeof r)throw new t(n(typeof r,"object",e))},i.typeOf.bool=function(e,r){if("boolean"!=typeof r)throw new t(n(typeof r,"boolean",e))},i.typeOf.number.equals=function(e,r,n,o){if(i.typeOf.number(e,n),i.typeOf.number(r,o),n!==o)throw new t(e+" must be equal to "+r+", the actual values are "+n+" and "+o)},i}),r("Core/clone",["./defaultValue"],function(e){"use strict";function t(r,n){if(null===r||"object"!=typeof r)return r;n=e(n,!1);var i=new r.constructor;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];n&&(a=t(a,n)),i[o]=a}return i}return t}),r("Core/combine",["./defaultValue","./defined"],function(e,t){"use strict";function r(n,i,o){o=e(o,!1);var a,s,u,l={},c=t(n),h=t(i);if(c)for(a in n)n.hasOwnProperty(a)&&(s=n[a],h&&o&&"object"==typeof s&&i.hasOwnProperty(a)?(u=i[a],l[a]="object"==typeof u?r(s,u,o):s):l[a]=s);if(h)for(a in i)i.hasOwnProperty(a)&&!l.hasOwnProperty(a)&&(u=i[a],l[a]=u);return l}return r}),r("Core/defineProperties",["./defined"],function(e){"use strict";var t=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),r=Object.defineProperties;return t&&e(r)||(r=function(e){return e}),r}),r("Core/Fullscreen",["./defined","./defineProperties"],function(e,t){"use strict";var r,n={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},i={};return t(i,{element:{get:function(){if(i.supportsFullscreen())return document[n.fullscreenElement]}},changeEventName:{get:function(){if(i.supportsFullscreen())return n.fullscreenchange}},errorEventName:{get:function(){if(i.supportsFullscreen())return n.fullscreenerror}},enabled:{get:function(){if(i.supportsFullscreen())return document[n.fullscreenEnabled]}},fullscreen:{get:function(){if(i.supportsFullscreen())return null!==i.element}}}),i.supportsFullscreen=function(){if(e(r))return r;r=!1;var t=document.body;if("function"==typeof t.requestFullscreen)return n.requestFullscreen="requestFullscreen",n.exitFullscreen="exitFullscreen",n.fullscreenEnabled="fullscreenEnabled",n.fullscreenElement="fullscreenElement",n.fullscreenchange="fullscreenchange",n.fullscreenerror="fullscreenerror",r=!0;for(var i,o=["webkit","moz","o","ms","khtml"],a=0,s=o.length;a<s;++a){var u=o[a];i=u+"RequestFullscreen","function"==typeof t[i]?(n.requestFullscreen=i,r=!0):(i=u+"RequestFullScreen","function"==typeof t[i]&&(n.requestFullscreen=i,r=!0)),i=u+"ExitFullscreen","function"==typeof document[i]?n.exitFullscreen=i:(i=u+"CancelFullScreen","function"==typeof document[i]&&(n.exitFullscreen=i)),i=u+"FullscreenEnabled",void 0!==document[i]?n.fullscreenEnabled=i:(i=u+"FullScreenEnabled",void 0!==document[i]&&(n.fullscreenEnabled=i)),i=u+"FullscreenElement",void 0!==document[i]?n.fullscreenElement=i:(i=u+"FullScreenElement",void 0!==document[i]&&(n.fullscreenElement=i)),i=u+"fullscreenchange",void 0!==document["on"+i]&&("ms"===u&&(i="MSFullscreenChange"),n.fullscreenchange=i),i=u+"fullscreenerror",void 0!==document["on"+i]&&("ms"===u&&(i="MSFullscreenError"),n.fullscreenerror=i)}return r},i.requestFullscreen=function(e,t){i.supportsFullscreen()&&e[n.requestFullscreen]({vrDisplay:t})},i.exitFullscreen=function(){i.supportsFullscreen()&&document[n.exitFullscreen]()},i}),r("Core/FeatureDetection",["./defaultValue","./defined","./defineProperties","./DeveloperError","./Fullscreen","../ThirdParty/when"],function(e,t,r,n,i,o){"use strict";function a(e){for(var t=e.split("."),r=0,n=t.length;r<n;++r)t[r]=parseInt(t[r],10);return t}function s(){if(!t(b)&&(b=!1,!m())){var e=/ Chrome\/([\.0-9]+)/.exec(S.userAgent);null!==e&&(b=!0,C=a(e[1]))}return b}function u(){return s()&&C}function l(){if(!t(R)&&(R=!1,!s()&&!m()&&/ Safari\/[\.0-9]+/.test(S.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(S.userAgent);null!==e&&(R=!0,I=a(e[1]))}return R}function c(){return l()&&I}function h(){if(!t(A)){A=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(S.userAgent);null!==e&&(A=!0,M=a(e[1]),M.isNightly=!!e[2])}return A}function f(){return h()&&M}function d(){if(!t(x)){x=!1;var e;"Microsoft Internet Explorer"===S.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(S.userAgent))&&(x=!0,N=a(e[1])):"Netscape"===S.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(S.userAgent))&&(x=!0,N=a(e[1]))}return x}function p(){return d()&&N}function m(){if(!t(P)){P=!1;var e=/ Edge\/([\.0-9]+)/.exec(S.userAgent);null!==e&&(P=!0,D=a(e[1]))}return P}function y(){return m()&&D}function g(){if(!t(L)){L=!1;var e=/Firefox\/([\.0-9]+)/.exec(S.userAgent);null!==e&&(L=!0,U=a(e[1]))}return L}function E(){return t(q)||(q=/Windows/i.test(S.appVersion)),q}function _(){return g()&&U}function v(){return t(B)||(B=!g()&&"undefined"!=typeof PointerEvent&&(!t(S.pointerEnabled)||S.pointerEnabled)),B}function w(){if(!t(j)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var r=e.style.imageRendering;j=t(r)&&""!==r,j&&(F=r)}return j}function T(){return w()?F:void 0}function O(){if(!O.initialized)throw new n("You must call FeatureDetection.supportsWebP.initialize and wait for the promise to resolve before calling FeatureDetection.supportsWebP");return O._result}var S;S="undefined"!=typeof navigator?navigator:{};var b,C,R,I,A,M,x,N,P,D,L,U,q,B,F,j;O._promise=void 0,O._result=void 0,O.initialize=function(){if(t(O._promise))return O._promise;var e=o.defer();if(O._promise=e.promise,m())return O._result=!1,e.resolve(O._result),e.promise;var r=new Image;return r.onload=function(){O._result=r.width>0&&r.height>0,e.resolve(O._result)},r.onerror=function(){O._result=!1,e.resolve(O._result)},r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},r(O,{initialized:{get:function(){return t(O._result)}}});var z=[];"undefined"!=typeof ArrayBuffer&&(z.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&z.push(Uint8ClampedArray),"undefined"!=typeof CanvasPixelArray&&z.push(CanvasPixelArray));var G={isChrome:s,chromeVersion:u,isSafari:l,safariVersion:c,isWebkit:h,webkitVersion:f,isInternetExplorer:d,internetExplorerVersion:p,isEdge:m,edgeVersion:y,isFirefox:g,firefoxVersion:_,isWindows:E,hardwareConcurrency:e(S.hardwareConcurrency,3),supportsPointerEvents:v,supportsImageRenderingPixelated:w,supportsWebP:O,imageRenderingValue:T,typedArrayTypes:z};return G.supportsFullscreen=function(){return i.supportsFullscreen()},G.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},G.supportsWebWorkers=function(){return"undefined"!=typeof Worker},G.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!G.isEdge()},G}),r("Core/getBaseUri",["../ThirdParty/Uri","./defined","./DeveloperError"],function(e,t,r){"use strict";function n(n,i){if(!t(n))throw new r("uri is required.");var o="",a=n.lastIndexOf("/");return-1!==a&&(o=n.substring(0,a+1)),i?(n=new e(n),t(n.query)&&(o+="?"+n.query),t(n.fragment)&&(o+="#"+n.fragment),o):o}return n}),r("Core/getExtensionFromUri",["../ThirdParty/Uri","./defined","./DeveloperError"],function(e,t,r){"use strict";function n(n){if(!t(n))throw new r("uri is required.");var i=new e(n);i.normalize();var o=i.path,a=o.lastIndexOf("/");return-1!==a&&(o=o.substr(a+1)),a=o.lastIndexOf("."),o=-1===a?"":o.substr(a+1)}return n}),r("Core/isBlobUri",["./Check"],function(e){"use strict";function t(t){return e.typeOf.string("uri",t),r.test(t)}var r=/^blob:/i;return t}),r("Core/isCrossOriginUrl",["./defined"],function(e){"use strict";function t(t){e(r)||(r=document.createElement("a")),r.href=window.location.href;var n=r.host,i=r.protocol;return r.href=t,r.href=r.href,i!==r.protocol||n!==r.host}var r;return t}),r("Core/isDataUri",["./Check"],function(e){"use strict";function t(t){return e.typeOf.string("uri",t),r.test(t)}var r=/^data:/i;return t}),r("Core/loadAndExecuteScript",["../ThirdParty/when"],function(e){"use strict";function t(t){var r=e.defer(),n=document.createElement("script");n.async=!0,n.src=t;var i=document.getElementsByTagName("head")[0];return n.onload=function(){n.onload=void 0,i.removeChild(n),r.resolve()},n.onerror=function(e){r.reject(e)},i.appendChild(n),r.promise}return t}),r("Core/isArray",["./defined"],function(e){"use strict";var t=Array.isArray;return e(t)||(t=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t}),r("Core/objectToQuery",["./defined","./DeveloperError","./isArray"],function(e,t,r){"use strict";function n(n){if(!e(n))throw new t("obj is required.");var i="";for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],s=encodeURIComponent(o)+"=";if(r(a))for(var u=0,l=a.length;u<l;++u)i+=s+encodeURIComponent(a[u])+"&";else i+=s+encodeURIComponent(a)+"&"}return i=i.slice(0,-1)}return n}),r("Core/queryToObject",["./defined","./DeveloperError","./isArray"],function(e,t,r){"use strict";function n(n){if(!e(n))throw new t("queryString is required.");var i={};if(""===n)return i;for(var o=n.replace(/\+/g,"%20").split(/[&;]/),a=0,s=o.length;a<s;++a){var u=o[a].split("="),l=decodeURIComponent(u[0]),c=u[1];c=e(c)?decodeURIComponent(c):"";var h=i[l];"string"==typeof h?i[l]=[h,c]:r(h)?h.push(c):i[l]=c}return i}return n}),r("Core/RequestState",["../Core/freezeObject"],function(e){"use strict";return e({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5})}),r("Core/RequestType",["../Core/freezeObject"],function(e){"use strict";return e({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3})}),r("Core/Request",["./defaultValue","./defined","./RequestState","./RequestType"],function(e,t,r,n){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT);var i=e(t.throttleByServer,!1),o=e(t.throttle,!1);this.url=t.url,this.requestFunction=t.requestFunction,this.cancelFunction=t.cancelFunction,this.priorityFunction=t.priorityFunction,this.priority=e(t.priority,0),this.throttle=o,this.throttleByServer=i,this.type=e(t.type,n.OTHER),this.serverKey=void 0,this.state=r.UNISSUED,this.deferred=void 0,this.cancelled=!1}return i.prototype.cancel=function(){this.cancelled=!0},i.prototype.clone=function(e){return t(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new i(this)},i}),r("Core/parseResponseHeaders",[],function(){"use strict";function e(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0;n<r.length;++n){var i=r[n],o=i.indexOf(": ");if(o>0){var a=i.substring(0,o),s=i.substring(o+2);t[a]=s}}return t}return e}),r("Core/RequestErrorEvent",["./defined","./parseResponseHeaders"],function(e,t){"use strict";function r(e,r,n){this.statusCode=e,this.response=r,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=t(this.responseHeaders))}return r.prototype.toString=function(){var t="Request has failed.";return e(this.statusCode)&&(t+=" Status Code: "+this.statusCode),t},r}),r("Core/Event",["./Check","./defined","./defineProperties"],function(e,t,r){"use strict";function n(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function i(e,t){return t-e}return r(n.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),n.prototype.addEventListener=function(t,r){e.typeOf.func("listener",t),this._listeners.push(t),this._scopes.push(r);var n=this;return function(){n.removeEventListener(t,r)}},n.prototype.removeEventListener=function(t,r){e.typeOf.func("listener",t);for(var n=this._listeners,i=this._scopes,o=-1,a=0;a<n.length;a++)if(n[a]===t&&i[a]===r){o=a;break}return-1!==o&&(this._insideRaiseEvent?(this._toRemove.push(o),n[o]=void 0,i[o]=void 0):(n.splice(o,1),i.splice(o,1)),!0)},n.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;var e,r=this._listeners,n=this._scopes,o=r.length;for(e=0;e<o;e++){var a=r[e];t(a)&&r[e].apply(n[e],arguments)}var s=this._toRemove;if((o=s.length)>0){for(s.sort(i),e=0;e<o;e++){var u=s[e];r.splice(u,1),n.splice(u,1)}s.length=0}this._insideRaiseEvent=!1},n}),r("Core/Heap",["./Check","./defaultValue","./defined","./defineProperties"],function(e,t,r,n){"use strict";function i(t){e.typeOf.object("options",t),e.defined("options.comparator",t.comparator),this._comparator=t.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function o(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}return n(i.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){this._maximumLength=e,this._length>e&&e>0&&(this._length=e,this._array.length=e)}},comparator:{get:function(){return this._comparator}}}),i.prototype.reserve=function(e){e=t(e,this._length),this._array.length=e},i.prototype.heapify=function(e){e=t(e,0);for(var r=this._length,n=this._comparator,i=this._array,a=-1,s=!0;s;){var u=2*(e+1),l=u-1;a=l<r&&n(i[l],i[e])<0?l:e,u<r&&n(i[u],i[a])<0&&(a=u),a!==e?(o(i,a,e),e=a):s=!1}},i.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);t>=0;--t)this.heapify(t)},i.prototype.insert=function(t){e.defined("element",t);var n=this._array,i=this._comparator,a=this._maximumLength,s=this._length++;for(s<n.length?n[s]=t:n.push(t);0!==s;){var u=Math.floor((s-1)/2);if(!(i(n[s],n[u])<0))break;o(n,s,u),s=u}var l;return r(a)&&this._length>a&&(l=n[a],this._length=a),l},i.prototype.pop=function(r){if(r=t(r,0),0!==this._length){e.typeOf.number.lessThan("index",r,this._length);var n=this._array,i=n[r];return o(n,r,--this._length),this.heapify(r),i}},i}),r("Core/RequestScheduler",["../ThirdParty/Uri","../ThirdParty/when","./Check","./defaultValue","./defined","./defineProperties","./Event","./Heap","./isBlobUri","./isDataUri","./RequestState"],function(e,t,r,n,i,o,a,s,u,l,c){"use strict";function h(e,t){return e.priority-t.priority}function f(){}function d(e){i(e.priorityFunction)&&(e.priority=e.priorityFunction())}function p(e){var t=n(f.requestsByServer[e],f.maximumRequestsPerServer);return b[e]<t}function m(e){return e.state===c.UNISSUED&&(e.state=c.ISSUED,e.deferred=t.defer()),e.deferred.promise}function y(e){return function(t){e.state!==c.CANCELLED&&(--w.numberOfActiveRequests,--b[e.serverKey],R.raiseEvent(),e.state=c.RECEIVED,e.deferred.resolve(t))}}function g(e){return function(t){e.state!==c.CANCELLED&&(++w.numberOfFailedRequests,--w.numberOfActiveRequests,--b[e.serverKey],R.raiseEvent(t),e.state=c.FAILED,e.deferred.reject(t))}}function E(e){var t=m(e);return e.state=c.ACTIVE,S.push(e),++w.numberOfActiveRequests,++w.numberOfActiveRequestsEver,++b[e.serverKey],e.requestFunction().then(y(e)).otherwise(g(e)),t}function _(e){var t=e.state===c.ACTIVE;e.state=c.CANCELLED,++w.numberOfCancelledRequests,e.deferred.reject(),t&&(--w.numberOfActiveRequests,--b[e.serverKey],++w.numberOfCancelledActiveRequests),i(e.cancelFunction)&&e.cancelFunction()}function v(){f.debugShowStatistics&&(0===w.numberOfActiveRequests&&w.lastNumberOfActiveRequests>0&&(w.numberOfAttemptedRequests>0&&(console.log("Number of attempted requests: "+w.numberOfAttemptedRequests),w.numberOfAttemptedRequests=0),w.numberOfCancelledRequests>0&&(console.log("Number of cancelled requests: "+w.numberOfCancelledRequests),w.numberOfCancelledRequests=0),w.numberOfCancelledActiveRequests>0&&(console.log("Number of cancelled active requests: "+w.numberOfCancelledActiveRequests),w.numberOfCancelledActiveRequests=0),w.numberOfFailedRequests>0&&(console.log("Number of failed requests: "+w.numberOfFailedRequests),w.numberOfFailedRequests=0)),w.lastNumberOfActiveRequests=w.numberOfActiveRequests)}var w={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0},T=20,O=new s({comparator:h});O.maximumLength=T,O.reserve(T);var S=[],b={},C="undefined"!=typeof document?new e(document.location.href):new e,R=new a;return f.maximumRequests=50,f.maximumRequestsPerServer=6,f.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},f.throttleRequests=!0,f.debugShowStatistics=!1,f.requestCompletedEvent=R,o(f,{statistics:{get:function(){return w}},priorityHeapLength:{get:function(){return T},set:function(e){if(e<T)for(;O.length>e;){var t=O.pop();_(t)}T=e,O.maximumLength=e,O.reserve(e)}}}),f.update=function(){var e,t,r=0,n=S.length;for(e=0;e<n;++e)t=S[e],t.cancelled&&_(t),t.state===c.ACTIVE?r>0&&(S[e-r]=t):++r;S.length-=r;var i=O.internalArray,o=O.length;for(e=0;e<o;++e)d(i[e]);O.resort();for(var a=Math.max(f.maximumRequests-S.length,0),s=0;s<a&&O.length>0;)t=O.pop(),t.cancelled?_(t):!t.throttleByServer||p(t.serverKey)?(E(t),++s):_(t);v()},f.getServerKey=function(t){r.typeOf.string("url",t);var n=new e(t).resolve(C);n.normalize();var o=n.authority;/:/.test(o)||(o=o+":"+("https"===n.scheme?"443":"80"));var a=b[o];return i(a)||(b[o]=0),o},f.request=function(e){if(r.typeOf.object("request",e),r.typeOf.string("request.url",e.url),r.typeOf.func("request.requestFunction",e.requestFunction),l(e.url)||u(e.url))return R.raiseEvent(),e.state=c.RECEIVED,e.requestFunction();if(++w.numberOfAttemptedRequests,i(e.serverKey)||(e.serverKey=f.getServerKey(e.url)),!e.throttleByServer||p(e.serverKey)){if(!f.throttleRequests||!e.throttle)return E(e);if(!(S.length>=f.maximumRequests)){d(e);var t=O.insert(e);if(i(t)){if(t===e)return;_(t)}return m(e)}}},f.clearForSpecs=function(){for(;O.length>0;){_(O.pop())}for(var e=S.length,t=0;t<e;++t)_(S[t]);S.length=0,b={},w.numberOfAttemptedRequests=0,w.numberOfActiveRequests=0,w.numberOfCancelledRequests=0,w.numberOfCancelledActiveRequests=0,w.numberOfFailedRequests=0,w.numberOfActiveRequestsEver=0,w.lastNumberOfActiveRequests=0},f.numberOfActiveRequestsByServer=function(e){return b[e]},f.requestHeap=O,f}),r("Core/RuntimeError",["./defined"],function(e){"use strict";function t(e){this.name="RuntimeError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t}),r("Core/TrustedServers",["../ThirdParty/Uri","./defined","./DeveloperError"],function(e,t,r){"use strict";function n(r){var n=new e(r);n.normalize();var i=n.getAuthority();if(t(i)){if(-1!==i.indexOf("@")){i=i.split("@")[1]}if(-1===i.indexOf(":")){var o=n.getScheme();if(t(o)||(o=window.location.protocol,o=o.substring(0,o.length-1)),"http"===o)i+=":80";else{if("https"!==o)return;i+=":443"}}return i}}var i={},o={};return i.add=function(e,n){if(!t(e))throw new r("host is required.");if(!t(n)||n<=0)throw new r("port is required to be greater than 0.");var i=e.toLowerCase()+":"+n;t(o[i])||(o[i]=!0)},i.remove=function(e,n){if(!t(e))throw new r("host is required.");if(!t(n)||n<=0)throw new r("port is required to be greater than 0.");var i=e.toLowerCase()+":"+n;t(o[i])&&delete o[i]},i.contains=function(e){if(!t(e))throw new r("url is required.");var i=n(e);return!(!t(i)||!t(o[i]))},i.clear=function(){o={}},i}),r("Core/Resource",["../ThirdParty/Uri","../ThirdParty/when","./appendForwardSlash","./Check","./clone","./combine","./defaultValue","./defined","./defineProperties","./DeveloperError","./freezeObject","./FeatureDetection","./getAbsoluteUri","./getBaseUri","./getExtensionFromUri","./isBlobUri","./isCrossOriginUrl","./isDataUri","./loadAndExecuteScript","./objectToQuery","./queryToObject","./Request","./RequestErrorEvent","./RequestScheduler","./RequestState","./RuntimeError","./TrustedServers"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m,y,g,E,_,v,w,T,O,S,b,C){"use strict";function R(e,t,r,n){var i=e.query;if(!s(i)||0===i.length)return{};var o;if(-1===i.indexOf("=")){var a={};a[i]=void 0,o=a}else o=v(i);t._queryParameters=r?x(o,t._queryParameters,n):o,e.query=void 0}function I(e,t){var r=t._queryParameters,n=Object.keys(r);1!==n.length||s(r[n[0]])?e.query=_(r):e.query=n[0]}function A(e,t){return s(e)?s(e.clone)?e.clone():i(e):t}function M(e){if(e.state===S.ISSUED||e.state===S.ACTIVE)throw new b("The Resource is already being fetched.");e.state=S.UNISSUED,e.deferred=void 0}function x(e,t,r){if(!r)return o(e,t);var n=i(e,!0);for(var a in t)if(t.hasOwnProperty(a)){var u=n[a],l=t[a];s(u)?(Array.isArray(u)||(u=n[a]=[u]),n[a]=u.concat(l)):n[a]=Array.isArray(l)?l.slice():l}return n}
function N(t){t=a(t,a.EMPTY_OBJECT),"string"==typeof t&&(t={url:t}),n.typeOf.string("options.url",t.url),this._url=void 0,this._templateValues=A(t.templateValues,{}),this._queryParameters=A(t.queryParameters,{}),this.headers=A(t.headers,{}),this.request=a(t.request,new w),this.proxy=t.proxy,this.retryCallback=t.retryCallback,this.retryAttempts=a(t.retryAttempts,0),this._retryCount=0;var r=new e(t.url);R(r,this,!0,!0),r.fragment=void 0,this._url=r.toString()}function P(e){var r=e.resource,n=e.flipY,i=e.preferImageBitmap,o=r.request;o.url=r.url,o.requestFunction=function(){var e=r.url,o=!1;r.isDataUri||r.isBlobUri||(o=r.isCrossOriginUrl);var a=t.defer();return N._Implementations.createImage(e,o,a,n,i),a.promise};var a=O.request(o);if(s(a))return a.otherwise(function(e){return o.state!==S.FAILED?t.reject(e):r.retryOnError(e).then(function(a){return a?(o.state=S.UNISSUED,o.deferred=void 0,P({resource:r,flipY:n,preferImageBitmap:i})):t.reject(e)})})}function D(e,r,n){var i={};i[r]=n,e.setQueryParameters(i);var o=e.request;o.url=e.url,o.requestFunction=function(){var r=t.defer();return window[n]=function(e){r.resolve(e);try{delete window[n]}catch(e){window[n]=void 0}},N._Implementations.loadAndExecuteScript(e.url,n,r),r.promise};var a=O.request(o);if(s(a))return a.otherwise(function(i){return o.state!==S.FAILED?t.reject(i):e.retryOnError(i).then(function(a){return a?(o.state=S.UNISSUED,o.deferred=void 0,D(e,r,n)):t.reject(i)})})}function L(e,t){var r=decodeURIComponent(t);return e?atob(r):r}function U(e,t){for(var r=L(e,t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return n}function q(e,t){t=a(t,"");var r=e[1],n=!!e[2],i=e[3];switch(t){case"":case"text":return L(n,i);case"arraybuffer":return U(n,i);case"blob":var o=U(n,i);return new Blob([o],{type:r});case"document":return(new DOMParser).parseFromString(L(n,i),r);case"json":return JSON.parse(L(n,i));default:throw new l("Unhandled responseType: "+t)}}function B(e,t,r){var n=new Image;n.onload=function(){r.resolve(n)},n.onerror=function(e){r.reject(e)},t&&(C.contains(e)?n.crossOrigin="use-credentials":n.crossOrigin=""),n.src=e}function F(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}function j(e,t,r,n,i,o,a){var s=global.require,u=s("url").parse(e),l=s("https:"===u.protocol?"https":"http"),c=s("zlib"),h={protocol:u.protocol,hostname:u.hostname,port:u.port,path:u.path,query:u.query,method:r,headers:i};l.request(h).on("response",function(e){if(e.statusCode<200||e.statusCode>=300)return void o.reject(new T(e.statusCode,e,e.headers));var r=[];e.on("data",function(e){r.push(e)}),e.on("end",function(){var n=Buffer.concat(r);"gzip"===e.headers["content-encoding"]?c.gunzip(n,function(e,r){e?o.reject(new b("Error decompressing response.")):o.resolve(F(r,t))}):o.resolve(F(n,t))})}).on("error",function(e){o.reject(new T)}).end()}var z=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),e.responseType="blob","blob"===e.responseType}catch(e){return!1}}();N.createIfNeeded=function(e){return e instanceof N?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new N({url:e})};var G;N.supportsImageBitmapOptions=function(){if(s(G))return G;if("function"!=typeof createImageBitmap)return G=t.resolve(!1);return G=N.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4////fwAJ+wP9CNHoHgAAAABJRU5ErkJggg=="}).then(function(e){return createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none"})}).then(function(e){return!0}).otherwise(function(){return!1})},u(N,{isBlobSupported:{get:function(){return z}}}),u(N.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(t){var r=new e(t);R(r,this,!1),r.fragment=void 0,this._url=r.toString()}},extension:{get:function(){return p(this._url)}},isDataUri:{get:function(){return g(this._url)}},isBlobUri:{get:function(){return m(this._url)}},isCrossOriginUrl:{get:function(){return y(this._url)}},hasHeaders:{get:function(){return Object.keys(this.headers).length>0}}}),N.prototype.getUrlComponent=function(t,r){if(this.isDataUri)return this._url;var n=new e(this._url);t&&I(n,this);var i=n.toString().replace(/%7B/g,"{").replace(/%7D/g,"}"),o=this._templateValues;return i=i.replace(/{(.*?)}/g,function(e,t){var r=o[t];return s(r)?encodeURIComponent(r):e}),r&&s(this.proxy)&&(i=this.proxy.getURL(i)),i},N.prototype.setQueryParameters=function(e,t){this._queryParameters=t?x(this._queryParameters,e,!1):x(e,this._queryParameters,!1)},N.prototype.appendQueryParameters=function(e){this._queryParameters=x(e,this._queryParameters,!0)},N.prototype.setTemplateValues=function(e,t){this._templateValues=t?o(this._templateValues,e):o(e,this._templateValues)},N.prototype.getDerivedResource=function(t){var r=this.clone();if(r._retryCount=0,s(t.url)){var n=new e(t.url);R(n,r,!0,a(t.preserveQueryParameters,!1)),n.fragment=void 0,r._url=n.resolve(new e(f(this._url))).toString()}return s(t.queryParameters)&&(r._queryParameters=o(t.queryParameters,r._queryParameters)),s(t.templateValues)&&(r._templateValues=o(t.templateValues,r.templateValues)),s(t.headers)&&(r.headers=o(t.headers,r.headers)),s(t.proxy)&&(r.proxy=t.proxy),s(t.request)&&(r.request=t.request),s(t.retryCallback)&&(r.retryCallback=t.retryCallback),s(t.retryAttempts)&&(r.retryAttempts=t.retryAttempts),r},N.prototype.retryOnError=function(e){var r=this.retryCallback;if("function"!=typeof r||this._retryCount>=this.retryAttempts)return t(!1);var n=this;return t(r(this,e)).then(function(e){return++n._retryCount,e})},N.prototype.clone=function(e){return s(e)||(e=new N({url:this._url})),e._url=this._url,e._queryParameters=i(this._queryParameters),e._templateValues=i(this._templateValues),e.headers=i(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e},N.prototype.getBaseUri=function(e){return d(this.getUrlComponent(e),e)},N.prototype.appendForwardSlash=function(){this._url=r(this._url)},N.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},N.fetchArrayBuffer=function(e){return new N(e).fetchArrayBuffer()},N.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},N.fetchBlob=function(e){return new N(e).fetchBlob()},N.prototype.fetchImage=function(e){e=a(e,a.EMPTY_OBJECT);var r=a(e.preferImageBitmap,!1),n=a(e.preferBlob,!1),i=a(e.flipY,!1);if(M(this.request),!z||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!n)return P({resource:this,flipY:i,preferImageBitmap:r});var o=this.fetchBlob();if(s(o)){var u,l,c,h;return N.supportsImageBitmapOptions().then(function(e){return u=e,l=u&&r,o}).then(function(e){if(s(e)){if(h=e,l)return N.createImageBitmapFromBlob(e,{flipY:i,premultiplyAlpha:!1});var t=window.URL.createObjectURL(e);return c=new N({url:t}),P({resource:c,flipY:i,preferImageBitmap:!1})}}).then(function(e){if(s(e))return e.blob=h,l?e:(window.URL.revokeObjectURL(c.url),e)}).otherwise(function(e){return s(c)&&window.URL.revokeObjectURL(c.url),t.reject(e)})}},N.fetchImage=function(e){return new N(e).fetchImage({flipY:e.flipY,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},N.prototype.fetchText=function(){return this.fetch({responseType:"text"})},N.fetchText=function(e){return new N(e).fetchText()},N.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(s(e))return e.then(function(e){if(s(e))return JSON.parse(e)})},N.fetchJson=function(e){return new N(e).fetchJson()},N.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},N.fetchXML=function(e){return new N(e).fetchXML()},N.prototype.fetchJsonp=function(e){e=a(e,"callback"),M(this.request);var t;do{t="loadJsonp"+Math.random().toString().substring(2,8)}while(s(window[t]));return D(this,e,t)},N.fetchJsonp=function(e){return new N(e).fetchJsonp(e.callbackParameterName)},N.prototype._makeRequest=function(e){var r=this;M(r.request);var n=r.request;n.url=r.url,n.requestFunction=function(){var i=e.responseType,a=o(e.headers,r.headers),u=e.overrideMimeType,l=e.method,c=e.data,h=t.defer(),f=N._Implementations.loadWithXhr(r.url,i,l,c,a,h,u);return s(f)&&s(f.abort)&&(n.cancelFunction=function(){f.abort()}),h.promise};var i=O.request(n);if(s(i))return i.then(function(e){return e}).otherwise(function(i){return n.state!==S.FAILED?t.reject(i):r.retryOnError(i).then(function(o){return o?(n.state=S.UNISSUED,n.deferred=void 0,r.fetch(e)):t.reject(i)})})};var k=/^data:(.*?)(;base64)?,(.*)$/;N.prototype.fetch=function(e){return e=A(e,{}),e.method="GET",this._makeRequest(e)},N.fetch=function(e){return new N(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},N.prototype.delete=function(e){return e=A(e,{}),e.method="DELETE",this._makeRequest(e)},N.delete=function(e){return new N(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})},N.prototype.head=function(e){return e=A(e,{}),e.method="HEAD",this._makeRequest(e)},N.head=function(e){return new N(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},N.prototype.options=function(e){return e=A(e,{}),e.method="OPTIONS",this._makeRequest(e)},N.options=function(e){return new N(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},N.prototype.post=function(e,t){return n.defined("data",e),t=A(t,{}),t.method="POST",t.data=e,this._makeRequest(t)},N.post=function(e){return new N(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},N.prototype.put=function(e,t){return n.defined("data",e),t=A(t,{}),t.method="PUT",t.data=e,this._makeRequest(t)},N.put=function(e){return new N(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},N.prototype.patch=function(e,t){return n.defined("data",e),t=A(t,{}),t.method="PATCH",t.data=e,this._makeRequest(t)},N.patch=function(e){return new N(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},N._Implementations={},N._Implementations.createImage=function(e,t,r,n,i){N.supportsImageBitmapOptions().then(function(n){return n&&i?N.fetchBlob({url:e}):void B(e,t,r)}).then(function(e){if(s(e))return N.createImageBitmapFromBlob(e,{flipY:n,premultiplyAlpha:!1})}).then(function(e){s(e)&&r.resolve(e)}).otherwise(r.reject)},N.createImageBitmapFromBlob=function(e,t){return n.defined("options",t),n.typeOf.bool("options.flipY",t.flipY),n.typeOf.bool("options.premultiplyAlpha",t.premultiplyAlpha),createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none"})};var H="undefined"==typeof XMLHttpRequest;return N._Implementations.loadWithXhr=function(e,t,r,n,i,o,a){var u=k.exec(e);if(null!==u)return void o.resolve(q(u,t));if(H)return void j(e,t,r,n,i,o,a);var l=new XMLHttpRequest;if(C.contains(e)&&(l.withCredentials=!0),l.open(r,e,!0),s(a)&&s(l.overrideMimeType)&&l.overrideMimeType(a),s(i))for(var c in i)i.hasOwnProperty(c)&&l.setRequestHeader(c,i[c]);s(t)&&(l.responseType=t);var h=!1;return"string"==typeof e&&(h=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),l.onload=function(){if((l.status<200||l.status>=300)&&(!h||0!==l.status))return void o.reject(new T(l.status,l.response,l.getAllResponseHeaders()));var e=l.response,n=l.responseType;if("HEAD"===r||"OPTIONS"===r){var i=l.getAllResponseHeaders(),a=i.trim().split(/[\r\n]+/),u={};return a.forEach(function(e){var t=e.split(": "),r=t.shift();u[r]=t.join(": ")}),void o.resolve(u)}if(204===l.status)o.resolve();else if(!s(e)||s(t)&&n!==t)if("json"===t&&"string"==typeof e)try{o.resolve(JSON.parse(e))}catch(e){o.reject(e)}else(""===n||"document"===n)&&s(l.responseXML)&&l.responseXML.hasChildNodes()?o.resolve(l.responseXML):""!==n&&"text"!==n||!s(l.responseText)?o.reject(new b("Invalid XMLHttpRequest response type.")):o.resolve(l.responseText);else o.resolve(e)},l.onerror=function(e){o.reject(new T)},l.send(n),l},N._Implementations.loadAndExecuteScript=function(e,t,r){return E(e,t).otherwise(r.reject)},N._DefaultImplementations={},N._DefaultImplementations.createImage=N._Implementations.createImage,N._DefaultImplementations.loadWithXhr=N._Implementations.loadWithXhr,N._DefaultImplementations.loadAndExecuteScript=N._Implementations.loadAndExecuteScript,N.DEFAULT=c(new N({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),N}),r("Core/buildModuleUrl",["./defined","./DeveloperError","./getAbsoluteUri","./Resource","require"],function(e,t,n,i,o){"use strict";function a(){for(var e=document.getElementsByTagName("script"),t=0,r=e.length;t<r;++t){var n=e[t].getAttribute("src"),i=m.exec(n);if(null!==i)return i[1]}}function s(t){return"undefined"==typeof document?t:(e(f)||(f=document.createElement("a")),f.href=t,f.href=f.href,f.href)}function u(){if(e(d))return d;var u;if(u="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:e(r.amd)&&!r.amd.toUrlUndefined&&e(o.toUrl)?n("..",h("Core/buildModuleUrl.js")):a(),!e(u))throw new t("Unable to determine Cesium base URL automatically, try defining a global variable called CESIUM_BASE_URL.");return d=new i({url:s(u)}),d.appendForwardSlash(),d}function l(e){return s(o.toUrl("../"+e))}function c(e){return u().getDerivedResource({url:e}).url}function h(t){return e(p)||(p=e(r.amd)&&!r.amd.toUrlUndefined&&e(o.toUrl)?l:c),p(t)}var f,d,p,m=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;return h._cesiumScriptRegex=m,h._buildModuleUrlFromBaseUrl=c,h._clearBaseResource=function(){d=void 0},h.setBaseUrl=function(e){d=i.DEFAULT.getDerivedResource({url:e})},h.getCesiumBaseUrl=u,h}),r("ThirdParty/mersenne-twister",[],function(){var e=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};return e.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){var e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},e.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_genrand(5489),r=0;r<this.N-this.M;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^e>>>1^t[1&e];for(;r<this.N-1;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},e.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},e}),r("Core/Math",["../ThirdParty/mersenne-twister","./Check","./defaultValue","./defined","./DeveloperError"],function(e,t,r,n,i){"use strict";var o={};o.EPSILON1=.1,o.EPSILON2=.01,o.EPSILON3=.001,o.EPSILON4=1e-4,o.EPSILON5=1e-5,o.EPSILON6=1e-6,o.EPSILON7=1e-7,o.EPSILON8=1e-8,o.EPSILON9=1e-9,o.EPSILON10=1e-10,o.EPSILON11=1e-11,o.EPSILON12=1e-12,o.EPSILON13=1e-13,o.EPSILON14=1e-14,o.EPSILON15=1e-15,o.EPSILON16=1e-16,o.EPSILON17=1e-17,o.EPSILON18=1e-18,o.EPSILON19=1e-19,o.EPSILON20=1e-20,o.EPSILON21=1e-21,o.GRAVITATIONALPARAMETER=3986004418e5,o.SOLAR_RADIUS=6955e5,o.LUNAR_RADIUS=1737400,o.SIXTY_FOUR_KILOBYTES=65536,o.sign=r(Math.sign,function(e){return e=+e,0===e||e!==e?e:e>0?1:-1}),o.signNotZero=function(e){return e<0?-1:1},o.toSNorm=function(e,t){return t=r(t,255),Math.round((.5*o.clamp(e,-1,1)+.5)*t)},o.fromSNorm=function(e,t){return t=r(t,255),o.clamp(e,0,t)/t*2-1},o.normalize=function(e,t,r){return r=Math.max(r-t,0),0===r?0:o.clamp((e-t)/r,0,1)},o.sinh=r(Math.sinh,function(e){return(Math.exp(e)-Math.exp(-e))/2}),o.cosh=r(Math.cosh,function(e){return(Math.exp(e)+Math.exp(-e))/2}),o.lerp=function(e,t,r){return(1-r)*e+r*t},o.PI=Math.PI,o.ONE_OVER_PI=1/Math.PI,o.PI_OVER_TWO=Math.PI/2,o.PI_OVER_THREE=Math.PI/3,o.PI_OVER_FOUR=Math.PI/4,o.PI_OVER_SIX=Math.PI/6,o.THREE_PI_OVER_TWO=3*Math.PI/2,o.TWO_PI=2*Math.PI,o.ONE_OVER_TWO_PI=1/(2*Math.PI),o.RADIANS_PER_DEGREE=Math.PI/180,o.DEGREES_PER_RADIAN=180/Math.PI,o.RADIANS_PER_ARCSECOND=o.RADIANS_PER_DEGREE/3600,o.toRadians=function(e){if(!n(e))throw new i("degrees is required.");return e*o.RADIANS_PER_DEGREE},o.toDegrees=function(e){if(!n(e))throw new i("radians is required.");return e*o.DEGREES_PER_RADIAN},o.convertLongitudeRange=function(e){if(!n(e))throw new i("angle is required.");var t=o.TWO_PI,r=e-Math.floor(e/t)*t;return r<-Math.PI?r+t:r>=Math.PI?r-t:r},o.clampToLatitudeRange=function(e){if(!n(e))throw new i("angle is required.");return o.clamp(e,-1*o.PI_OVER_TWO,o.PI_OVER_TWO)},o.negativePiToPi=function(e){if(!n(e))throw new i("angle is required.");return o.zeroToTwoPi(e+o.PI)-o.PI},o.zeroToTwoPi=function(e){if(!n(e))throw new i("angle is required.");var t=o.mod(e,o.TWO_PI);return Math.abs(t)<o.EPSILON14&&Math.abs(e)>o.EPSILON14?o.TWO_PI:t},o.mod=function(e,t){if(!n(e))throw new i("m is required.");if(!n(t))throw new i("n is required.");return(e%t+t)%t},o.equalsEpsilon=function(e,t,o,a){if(!n(e))throw new i("left is required.");if(!n(t))throw new i("right is required.");if(!n(o))throw new i("relativeEpsilon is required.");a=r(a,o);var s=Math.abs(e-t);return s<=a||s<=o*Math.max(Math.abs(e),Math.abs(t))},o.lessThan=function(e,t,r){if(!n(e))throw new i("first is required.");if(!n(t))throw new i("second is required.");if(!n(r))throw new i("relativeEpsilon is required.");return e-t<-r},o.lessThanOrEquals=function(e,t,r){if(!n(e))throw new i("first is required.");if(!n(t))throw new i("second is required.");if(!n(r))throw new i("relativeEpsilon is required.");return e-t<r},o.greaterThan=function(e,t,r){if(!n(e))throw new i("first is required.");if(!n(t))throw new i("second is required.");if(!n(r))throw new i("relativeEpsilon is required.");return e-t>r},o.greaterThanOrEquals=function(e,t,r){if(!n(e))throw new i("first is required.");if(!n(t))throw new i("second is required.");if(!n(r))throw new i("relativeEpsilon is required.");return e-t>-r};var a=[1];o.factorial=function(e){if("number"!=typeof e||e<0)throw new i("A number greater than or equal to 0 is required.");var t=a.length;if(e>=t)for(var r=a[t-1],n=t;n<=e;n++)a.push(r*n);return a[e]},o.incrementWrap=function(e,t,o){if(o=r(o,0),!n(e))throw new i("n is required.");if(t<=o)throw new i("maximumValue must be greater than minimumValue.");return++e,e>t&&(e=o),e},o.isPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new i("A number greater than or equal to 0 is required.");return 0!==e&&0==(e&e-1)},o.nextPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new i("A number greater than or equal to 0 is required.");return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},o.clamp=function(e,t,r){if(!n(e))throw new i("value is required");if(!n(t))throw new i("min is required.");if(!n(r))throw new i("max is required.");return e<t?t:e>r?r:e};var s=new e;return o.setRandomNumberSeed=function(t){if(!n(t))throw new i("seed is required.");s=new e(t)},o.nextRandomNumber=function(){return s.random()},o.randomBetween=function(e,t){return o.nextRandomNumber()*(t-e)+e},o.acosClamped=function(e){if(!n(e))throw new i("value is required.");return Math.acos(o.clamp(e,-1,1))},o.asinClamped=function(e){if(!n(e))throw new i("value is required.");return Math.asin(o.clamp(e,-1,1))},o.chordLength=function(e,t){if(!n(e))throw new i("angle is required.");if(!n(t))throw new i("radius is required.");return 2*t*Math.sin(.5*e)},o.logBase=function(e,t){if(!n(e))throw new i("number is required.");if(!n(t))throw new i("base is required.");return Math.log(e)/Math.log(t)},o.cbrt=r(Math.cbrt,function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}),o.log2=r(Math.log2,function(e){return Math.log(e)*Math.LOG2E}),o.fog=function(e,t){var r=e*t;return 1-Math.exp(-r*r)},o.fastApproximateAtan=function(e){return t.typeOf.number("x",e),e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},o.fastApproximateAtan2=function(e,r){t.typeOf.number("x",e),t.typeOf.number("y",r);var n,a,s=Math.abs(e);n=Math.abs(r),a=Math.max(s,n),n=Math.min(s,n);var u=n/a;if(isNaN(u))throw new i("either x or y must be nonzero");return s=o.fastApproximateAtan(u),s=Math.abs(r)>Math.abs(e)?o.PI_OVER_TWO-s:s,s=e<0?o.PI-s:s,s=r<0?-s:s},o}),r("Core/Cartesian3",["./Check","./defaultValue","./defined","./DeveloperError","./freezeObject","./Math"],function(e,t,r,n,i,o){"use strict";function a(e,r,n){this.x=t(e,0),this.y=t(r,0),this.z=t(n,0)}a.fromSpherical=function(n,i){e.typeOf.object("spherical",n),r(i)||(i=new a);var o=n.clock,s=n.cone,u=t(n.magnitude,1),l=u*Math.sin(s);return i.x=l*Math.cos(o),i.y=l*Math.sin(o),i.z=u*Math.cos(s),i},a.fromElements=function(e,t,n,i){return r(i)?(i.x=e,i.y=t,i.z=n,i):new a(e,t,n)},a.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(r,n,i){return e.typeOf.object("value",r),e.defined("array",n),i=t(i,0),n[i++]=r.x,n[i++]=r.y,n[i]=r.z,n},a.unpack=function(n,i,o){return e.defined("array",n),i=t(i,0),r(o)||(o=new a),o.x=n[i++],o.y=n[i++],o.z=n[i],o},a.packArray=function(t,n){e.defined("array",t);var i=t.length;r(n)?n.length=3*i:n=new Array(3*i);for(var o=0;o<i;++o)a.pack(t[o],n,3*o);return n},a.unpackArray=function(t,i){if(e.defined("array",t),e.typeOf.number.greaterThanOrEquals("array.length",t.length,3),t.length%3!=0)throw new n("array length must be a multiple of 3.");var o=t.length;r(i)?i.length=o/3:i=new Array(o/3);for(var s=0;s<o;s+=3){var u=s/3;i[u]=a.unpack(t,s,i[u])}return i},a.fromArray=a.unpack,a.maximumComponent=function(t){return e.typeOf.object("cartesian",t),Math.max(t.x,t.y,t.z)},a.minimumComponent=function(t){return e.typeOf.object("cartesian",t),Math.min(t.x,t.y,t.z)},a.minimumByComponent=function(t,r,n){return e.typeOf.object("first",t),e.typeOf.object("second",r),e.typeOf.object("result",n),n.x=Math.min(t.x,r.x),n.y=Math.min(t.y,r.y),n.z=Math.min(t.z,r.z),n},a.maximumByComponent=function(t,r,n){return e.typeOf.object("first",t),e.typeOf.object("second",r),e.typeOf.object("result",n),n.x=Math.max(t.x,r.x),n.y=Math.max(t.y,r.y),n.z=Math.max(t.z,r.z),n},a.magnitudeSquared=function(t){return e.typeOf.object("cartesian",t),t.x*t.x+t.y*t.y+t.z*t.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var s=new a;a.distance=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),a.subtract(t,r,s),a.magnitude(s)},a.distanceSquared=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),a.subtract(t,r,s),a.magnitudeSquared(s)},a.normalize=function(t,r){e.typeOf.object("cartesian",t),e.typeOf.object("result",r);var i=a.magnitude(t);if(r.x=t.x/i,r.y=t.y/i,r.z=t.z/i,isNaN(r.x)||isNaN(r.y)||isNaN(r.z))throw new n("normalized result is not a number");return r},a.dot=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),t.x*r.x+t.y*r.y+t.z*r.z},a.multiplyComponents=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x*r.x,n.y=t.y*r.y,n.z=t.z*r.z,n},a.divideComponents=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x/r.x,n.y=t.y/r.y,n.z=t.z/r.z,n},a.add=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x+r.x,n.y=t.y+r.y,n.z=t.z+r.z,n},a.subtract=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x-r.x,n.y=t.y-r.y,n.z=t.z-r.z,n},a.multiplyByScalar=function(t,r,n){return e.typeOf.object("cartesian",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.x=t.x*r,n.y=t.y*r,n.z=t.z*r,n},a.divideByScalar=function(t,r,n){return e.typeOf.object("cartesian",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.x=t.x/r,n.y=t.y/r,n.z=t.z/r,n},a.negate=function(t,r){return e.typeOf.object("cartesian",t),e.typeOf.object("result",r),r.x=-t.x,r.y=-t.y,r.z=-t.z,r},a.abs=function(t,r){return e.typeOf.object("cartesian",t),e.typeOf.object("result",r),r.x=Math.abs(t.x),r.y=Math.abs(t.y),r.z=Math.abs(t.z),r};var u=new a;a.lerp=function(t,r,n,i){return e.typeOf.object("start",t),e.typeOf.object("end",r),e.typeOf.number("t",n),e.typeOf.object("result",i),a.multiplyByScalar(r,n,u),i=a.multiplyByScalar(t,1-n,i),a.add(u,i,i)};var l=new a,c=new a;a.angleBetween=function(t,r){e.typeOf.object("left",t),e.typeOf.object("right",r),a.normalize(t,l),a.normalize(r,c);var n=a.dot(l,c),i=a.magnitude(a.cross(l,c,l));return Math.atan2(i,n)};var h=new a;a.mostOrthogonalAxis=function(t,r){e.typeOf.object("cartesian",t),e.typeOf.object("result",r);var n=a.normalize(t,h);return a.abs(n,n),r=n.x<=n.y?n.x<=n.z?a.clone(a.UNIT_X,r):a.clone(a.UNIT_Z,r):n.y<=n.z?a.clone(a.UNIT_Y,r):a.clone(a.UNIT_Z,r)},a.projectVector=function(t,r,n){e.defined("a",t),e.defined("b",r),e.defined("result",n);var i=a.dot(t,r)/a.dot(r,r);return a.multiplyByScalar(r,i,n)},a.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},a.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]},a.equalsEpsilon=function(e,t,n,i){return e===t||r(e)&&r(t)&&o.equalsEpsilon(e.x,t.x,n,i)&&o.equalsEpsilon(e.y,t.y,n,i)&&o.equalsEpsilon(e.z,t.z,n,i)},a.cross=function(t,r,n){e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n);var i=t.x,o=t.y,a=t.z,s=r.x,u=r.y,l=r.z,c=o*l-a*u,h=a*s-i*l,f=i*u-o*s;return n.x=c,n.y=h,n.z=f,n},a.midpoint=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=.5*(t.x+r.x),n.y=.5*(t.y+r.y),n.z=.5*(t.z+r.z),n},a.fromDegrees=function(t,r,n,i,s){return e.typeOf.number("longitude",t),e.typeOf.number("latitude",r),t=o.toRadians(t),r=o.toRadians(r),a.fromRadians(t,r,n,i,s)};var f=new a,d=new a,p=new a(40680631590769,40680631590769,40408299984661.445);return a.fromRadians=function(n,i,o,s,u){e.typeOf.number("longitude",n),e.typeOf.number("latitude",i),o=t(o,0);var l=r(s)?s.radiiSquared:p,c=Math.cos(i);f.x=c*Math.cos(n),f.y=c*Math.sin(n),f.z=Math.sin(i),f=a.normalize(f,f),a.multiplyComponents(l,f,d);var h=Math.sqrt(a.dot(f,d));return d=a.divideByScalar(d,h,d),f=a.multiplyByScalar(f,o,f),r(u)||(u=new a),a.add(d,f,u)},a.fromDegreesArray=function(t,i,o){if(e.defined("coordinates",t),t.length<2||t.length%2!=0)throw new n("the number of coordinates must be a multiple of 2 and at least 2");var s=t.length;r(o)?o.length=s/2:o=new Array(s/2);for(var u=0;u<s;u+=2){var l=t[u],c=t[u+1],h=u/2;o[h]=a.fromDegrees(l,c,0,i,o[h])}return o},a.fromRadiansArray=function(t,i,o){if(e.defined("coordinates",t),t.length<2||t.length%2!=0)throw new n("the number of coordinates must be a multiple of 2 and at least 2");var s=t.length;r(o)?o.length=s/2:o=new Array(s/2);for(var u=0;u<s;u+=2){var l=t[u],c=t[u+1],h=u/2;o[h]=a.fromRadians(l,c,0,i,o[h])}return o},a.fromDegreesArrayHeights=function(t,i,o){if(e.defined("coordinates",t),t.length<3||t.length%3!=0)throw new n("the number of coordinates must be a multiple of 3 and at least 3");var s=t.length;r(o)?o.length=s/3:o=new Array(s/3);for(var u=0;u<s;u+=3){var l=t[u],c=t[u+1],h=t[u+2],f=u/3;o[f]=a.fromDegrees(l,c,h,i,o[f])}return o},a.fromRadiansArrayHeights=function(t,i,o){if(e.defined("coordinates",t),t.length<3||t.length%3!=0)throw new n("the number of coordinates must be a multiple of 3 and at least 3");var s=t.length;r(o)?o.length=s/3:o=new Array(s/3);for(var u=0;u<s;u+=3){var l=t[u],c=t[u+1],h=t[u+2],f=u/3;o[f]=a.fromRadians(l,c,h,i,o[f])}return o},a.ZERO=i(new a(0,0,0)),a.UNIT_X=i(new a(1,0,0)),a.UNIT_Y=i(new a(0,1,0)),a.UNIT_Z=i(new a(0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,r){return a.equalsEpsilon(this,e,t,r)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},a}),r("Core/scaleToGeodeticSurface",["./Cartesian3","./defined","./DeveloperError","./Math"],function(e,t,r,n){"use strict";function i(i,s,u,l,c){if(!t(i))throw new r("cartesian is required.");if(!t(s))throw new r("oneOverRadii is required.");if(!t(u))throw new r("oneOverRadiiSquared is required.");if(!t(l))throw new r("centerToleranceSquared is required.");var h=i.x,f=i.y,d=i.z,p=s.x,m=s.y,y=s.z,g=h*h*p*p,E=f*f*m*m,_=d*d*y*y,v=g+E+_,w=Math.sqrt(1/v),T=e.multiplyByScalar(i,w,o);if(v<l)return isFinite(w)?e.clone(T,c):void 0;var O=u.x,S=u.y,b=u.z,C=a;C.x=T.x*O*2,C.y=T.y*S*2,C.z=T.z*b*2;var R,I,A,M,x,N,P,D,L,U,q,B=(1-w)*e.magnitude(i)/(.5*e.magnitude(C)),F=0;do{B-=F,A=1/(1+B*O),M=1/(1+B*S),x=1/(1+B*b),N=A*A,P=M*M,D=x*x,L=N*A,U=P*M,q=D*x,R=g*N+E*P+_*D-1,I=g*L*O+E*U*S+_*q*b;F=R/(-2*I)}while(Math.abs(R)>n.EPSILON12);return t(c)?(c.x=h*A,c.y=f*M,c.z=d*x,c):new e(h*A,f*M,d*x)}var o=new e,a=new e;return i}),r("Core/Cartographic",["./Cartesian3","./Check","./defaultValue","./defined","./freezeObject","./Math","./scaleToGeodeticSurface"],function(e,t,r,n,i,o,a){"use strict";function s(e,t,n){this.longitude=r(e,0),this.latitude=r(t,0),this.height=r(n,0)}s.fromRadians=function(e,i,o,a){return t.typeOf.number("longitude",e),t.typeOf.number("latitude",i),o=r(o,0),n(a)?(a.longitude=e,a.latitude=i,a.height=o,a):new s(e,i,o)},s.fromDegrees=function(e,r,n,i){return t.typeOf.number("longitude",e),t.typeOf.number("latitude",r),e=o.toRadians(e),r=o.toRadians(r),s.fromRadians(e,r,n,i)};var u=new e,l=new e,c=new e,h=new e(1/6378137,1/6378137,1/6356752.314245179),f=new e(1/40680631590769,1/40680631590769,1/40408299984661.445),d=o.EPSILON1;return s.fromCartesian=function(t,r,i){var p=n(r)?r.oneOverRadii:h,m=n(r)?r.oneOverRadiiSquared:f,y=n(r)?r._centerToleranceSquared:d,g=a(t,p,m,y,l);if(n(g)){var E=e.multiplyComponents(g,m,u);E=e.normalize(E,E);var _=e.subtract(t,g,c),v=Math.atan2(E.y,E.x),w=Math.asin(E.z),T=o.sign(e.dot(_,t))*e.magnitude(_);return n(i)?(i.longitude=v,i.latitude=w,i.height=T,i):new s(v,w,T)}},s.toCartesian=function(r,n,i){return t.defined("cartographic",r),e.fromRadians(r.longitude,r.latitude,r.height,n,i)},s.clone=function(e,t){if(n(e))return n(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new s(e.longitude,e.latitude,e.height)},s.equals=function(e,t){return e===t||n(e)&&n(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},s.equalsEpsilon=function(e,r,i){return t.typeOf.number("epsilon",i),e===r||n(e)&&n(r)&&Math.abs(e.longitude-r.longitude)<=i&&Math.abs(e.latitude-r.latitude)<=i&&Math.abs(e.height-r.height)<=i},s.ZERO=i(new s(0,0,0)),s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,t){return s.equalsEpsilon(this,e,t)},s.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},s}),r("Core/Ellipsoid",["./Cartesian3","./Cartographic","./Check","./defaultValue","./defined","./defineProperties","./DeveloperError","./freezeObject","./Math","./scaleToGeodeticSurface"],function(e,t,r,n,i,o,a,s,u,l){"use strict";function c(t,i,o,a){i=n(i,0),o=n(o,0),a=n(a,0),r.typeOf.number.greaterThanOrEquals("x",i,0),r.typeOf.number.greaterThanOrEquals("y",o,0),r.typeOf.number.greaterThanOrEquals("z",a,0),t._radii=new e(i,o,a),t._radiiSquared=new e(i*i,o*o,a*a),t._radiiToTheFourth=new e(i*i*i*i,o*o*o*o,a*a*a*a),t._oneOverRadii=new e(0===i?0:1/i,0===o?0:1/o,0===a?0:1/a),t._oneOverRadiiSquared=new e(0===i?0:1/(i*i),0===o?0:1/(o*o),0===a?0:1/(a*a)),t._minimumRadius=Math.min(i,o,a),t._maximumRadius=Math.max(i,o,a),t._centerToleranceSquared=u.EPSILON1,
0!==t._radiiSquared.z&&(t._squaredXOverSquaredZ=t._radiiSquared.x/t._radiiSquared.z)}function h(e,t,r){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,c(this,e,t,r)}o(h.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),h.clone=function(t,r){if(i(t)){var n=t._radii;return i(r)?(e.clone(n,r._radii),e.clone(t._radiiSquared,r._radiiSquared),e.clone(t._radiiToTheFourth,r._radiiToTheFourth),e.clone(t._oneOverRadii,r._oneOverRadii),e.clone(t._oneOverRadiiSquared,r._oneOverRadiiSquared),r._minimumRadius=t._minimumRadius,r._maximumRadius=t._maximumRadius,r._centerToleranceSquared=t._centerToleranceSquared,r):new h(n.x,n.y,n.z)}},h.fromCartesian3=function(e,t){return i(t)||(t=new h),i(e)?(c(t,e.x,e.y,e.z),t):t},h.WGS84=s(new h(6378137,6378137,6356752.314245179)),h.UNIT_SPHERE=s(new h(1,1,1)),h.MOON=s(new h(u.LUNAR_RADIUS,u.LUNAR_RADIUS,u.LUNAR_RADIUS)),h.prototype.clone=function(e){return h.clone(this,e)},h.packedLength=e.packedLength,h.pack=function(t,i,o){return r.typeOf.object("value",t),r.defined("array",i),o=n(o,0),e.pack(t._radii,i,o),i},h.unpack=function(t,i,o){r.defined("array",t),i=n(i,0);var a=e.unpack(t,i);return h.fromCartesian3(a,o)},h.prototype.geocentricSurfaceNormal=e.normalize,h.prototype.geodeticSurfaceNormalCartographic=function(t,n){r.typeOf.object("cartographic",t);var o=t.longitude,a=t.latitude,s=Math.cos(a),u=s*Math.cos(o),l=s*Math.sin(o),c=Math.sin(a);return i(n)||(n=new e),n.x=u,n.y=l,n.z=c,e.normalize(n,n)},h.prototype.geodeticSurfaceNormal=function(t,r){return i(r)||(r=new e),r=e.multiplyComponents(t,this._oneOverRadiiSquared,r),e.normalize(r,r)};var f=new e,d=new e;h.prototype.cartographicToCartesian=function(t,r){var n=f,o=d;this.geodeticSurfaceNormalCartographic(t,n),e.multiplyComponents(this._radiiSquared,n,o);var a=Math.sqrt(e.dot(n,o));return e.divideByScalar(o,a,o),e.multiplyByScalar(n,t.height,n),i(r)||(r=new e),e.add(o,n,r)},h.prototype.cartographicArrayToCartesianArray=function(e,t){r.defined("cartographics",e);var n=e.length;i(t)?t.length=n:t=new Array(n);for(var o=0;o<n;o++)t[o]=this.cartographicToCartesian(e[o],t[o]);return t};var p=new e,m=new e,y=new e;return h.prototype.cartesianToCartographic=function(r,n){var o=this.scaleToGeodeticSurface(r,m);if(i(o)){var a=this.geodeticSurfaceNormal(o,p),s=e.subtract(r,o,y),l=Math.atan2(a.y,a.x),c=Math.asin(a.z),h=u.sign(e.dot(s,r))*e.magnitude(s);return i(n)?(n.longitude=l,n.latitude=c,n.height=h,n):new t(l,c,h)}},h.prototype.cartesianArrayToCartographicArray=function(e,t){r.defined("cartesians",e);var n=e.length;i(t)?t.length=n:t=new Array(n);for(var o=0;o<n;++o)t[o]=this.cartesianToCartographic(e[o],t[o]);return t},h.prototype.scaleToGeodeticSurface=function(e,t){return l(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},h.prototype.scaleToGeocentricSurface=function(t,n){r.typeOf.object("cartesian",t),i(n)||(n=new e);var o=t.x,a=t.y,s=t.z,u=this._oneOverRadiiSquared,l=1/Math.sqrt(o*o*u.x+a*a*u.y+s*s*u.z);return e.multiplyByScalar(t,l,n)},h.prototype.transformPositionToScaledSpace=function(t,r){return i(r)||(r=new e),e.multiplyComponents(t,this._oneOverRadii,r)},h.prototype.transformPositionFromScaledSpace=function(t,r){return i(r)||(r=new e),e.multiplyComponents(t,this._radii,r)},h.prototype.equals=function(t){return this===t||i(t)&&e.equals(this._radii,t._radii)},h.prototype.toString=function(){return this._radii.toString()},h.prototype.getSurfaceNormalIntersectionWithZAxis=function(t,o,s){if(r.typeOf.object("position",t),!u.equalsEpsilon(this._radii.x,this._radii.y,u.EPSILON15))throw new a("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");r.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),o=n(o,0);var l=this._squaredXOverSquaredZ;if(i(s)||(s=new e),s.x=0,s.y=0,s.z=t.z*(1-l),!(Math.abs(s.z)>=this._radii.z-o))return s},h}),r("Core/GeographicProjection",["./Cartesian3","./Cartographic","./defaultValue","./defined","./defineProperties","./DeveloperError","./Ellipsoid"],function(e,t,r,n,i,o,a){"use strict";function s(e){this._ellipsoid=r(e,a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return i(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),s.prototype.project=function(t,r){var i=this._semimajorAxis,o=t.longitude*i,a=t.latitude*i,s=t.height;return n(r)?(r.x=o,r.y=a,r.z=s,r):new e(o,a,s)},s.prototype.unproject=function(e,r){if(!n(e))throw new o("cartesian is required");var i=this._oneOverSemimajorAxis,a=e.x*i,s=e.y*i,u=e.z;return n(r)?(r.longitude=a,r.latitude=s,r.height=u,r):new t(a,s,u)},s}),r("Core/Intersect",["./freezeObject"],function(e){"use strict";return e({OUTSIDE:-1,INTERSECTING:0,INSIDE:1})}),r("Core/Interval",["./defaultValue"],function(e){"use strict";function t(t,r){this.start=e(t,0),this.stop=e(r,0)}return t}),r("Core/Matrix3",["./Cartesian3","./Check","./defaultValue","./defined","./defineProperties","./DeveloperError","./freezeObject","./Math"],function(e,t,r,n,i,o,a,s){"use strict";function u(e,t,n,i,o,a,s,u,l){this[0]=r(e,0),this[1]=r(i,0),this[2]=r(s,0),this[3]=r(t,0),this[4]=r(o,0),this[5]=r(u,0),this[6]=r(n,0),this[7]=r(a,0),this[8]=r(l,0)}function l(e){for(var t=0,r=0;r<9;++r){var n=e[r];t+=n*n}return Math.sqrt(t)}function c(e){for(var t=0,r=0;r<3;++r){var n=e[u.getElementIndex(m[r],p[r])];t+=2*n*n}return Math.sqrt(t)}function h(e,t){for(var r=s.EPSILON15,n=0,i=1,o=0;o<3;++o){var a=Math.abs(e[u.getElementIndex(m[o],p[o])]);a>n&&(i=o,n=a)}var l=1,c=0,h=p[i],f=m[i];if(Math.abs(e[u.getElementIndex(f,h)])>r){var d,y=e[u.getElementIndex(f,f)],g=e[u.getElementIndex(h,h)],E=e[u.getElementIndex(f,h)],_=(y-g)/2/E;d=_<0?-1/(-_+Math.sqrt(1+_*_)):1/(_+Math.sqrt(1+_*_)),l=1/Math.sqrt(1+d*d),c=d*l}return t=u.clone(u.IDENTITY,t),t[u.getElementIndex(h,h)]=t[u.getElementIndex(f,f)]=l,t[u.getElementIndex(f,h)]=c,t[u.getElementIndex(h,f)]=-c,t}u.packedLength=9,u.pack=function(e,n,i){return t.typeOf.object("value",e),t.defined("array",n),i=r(i,0),n[i++]=e[0],n[i++]=e[1],n[i++]=e[2],n[i++]=e[3],n[i++]=e[4],n[i++]=e[5],n[i++]=e[6],n[i++]=e[7],n[i++]=e[8],n},u.unpack=function(e,i,o){return t.defined("array",e),i=r(i,0),n(o)||(o=new u),o[0]=e[i++],o[1]=e[i++],o[2]=e[i++],o[3]=e[i++],o[4]=e[i++],o[5]=e[i++],o[6]=e[i++],o[7]=e[i++],o[8]=e[i++],o},u.clone=function(e,t){if(n(e))return n(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new u(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},u.fromArray=function(e,i,o){return t.defined("array",e),i=r(i,0),n(o)||(o=new u),o[0]=e[i],o[1]=e[i+1],o[2]=e[i+2],o[3]=e[i+3],o[4]=e[i+4],o[5]=e[i+5],o[6]=e[i+6],o[7]=e[i+7],o[8]=e[i+8],o},u.fromColumnMajorArray=function(e,r){return t.defined("values",e),u.clone(e,r)},u.fromRowMajorArray=function(e,r){return t.defined("values",e),n(r)?(r[0]=e[0],r[1]=e[3],r[2]=e[6],r[3]=e[1],r[4]=e[4],r[5]=e[7],r[6]=e[2],r[7]=e[5],r[8]=e[8],r):new u(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},u.fromQuaternion=function(e,r){t.typeOf.object("quaternion",e);var i=e.x*e.x,o=e.x*e.y,a=e.x*e.z,s=e.x*e.w,l=e.y*e.y,c=e.y*e.z,h=e.y*e.w,f=e.z*e.z,d=e.z*e.w,p=e.w*e.w,m=i-l-f+p,y=2*(o-d),g=2*(a+h),E=2*(o+d),_=-i+l-f+p,v=2*(c-s),w=2*(a-h),T=2*(c+s),O=-i-l+f+p;return n(r)?(r[0]=m,r[1]=E,r[2]=w,r[3]=y,r[4]=_,r[5]=T,r[6]=g,r[7]=v,r[8]=O,r):new u(m,y,g,E,_,v,w,T,O)},u.fromHeadingPitchRoll=function(e,r){t.typeOf.object("headingPitchRoll",e);var i=Math.cos(-e.pitch),o=Math.cos(-e.heading),a=Math.cos(e.roll),s=Math.sin(-e.pitch),l=Math.sin(-e.heading),c=Math.sin(e.roll),h=i*o,f=-a*l+c*s*o,d=c*l+a*s*o,p=i*l,m=a*o+c*s*l,y=-c*o+a*s*l,g=-s,E=c*i,_=a*i;return n(r)?(r[0]=h,r[1]=p,r[2]=g,r[3]=f,r[4]=m,r[5]=E,r[6]=d,r[7]=y,r[8]=_,r):new u(h,f,d,p,m,y,g,E,_)},u.fromScale=function(e,r){return t.typeOf.object("scale",e),n(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=0,r[4]=e.y,r[5]=0,r[6]=0,r[7]=0,r[8]=e.z,r):new u(e.x,0,0,0,e.y,0,0,0,e.z)},u.fromUniformScale=function(e,r){return t.typeOf.number("scale",e),n(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=e,r[5]=0,r[6]=0,r[7]=0,r[8]=e,r):new u(e,0,0,0,e,0,0,0,e)},u.fromCrossProduct=function(e,r){return t.typeOf.object("vector",e),n(r)?(r[0]=0,r[1]=e.z,r[2]=-e.y,r[3]=-e.z,r[4]=0,r[5]=e.x,r[6]=e.y,r[7]=-e.x,r[8]=0,r):new u(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},u.fromRotationX=function(e,r){t.typeOf.number("angle",e);var i=Math.cos(e),o=Math.sin(e);return n(r)?(r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=i,r[5]=o,r[6]=0,r[7]=-o,r[8]=i,r):new u(1,0,0,0,i,-o,0,o,i)},u.fromRotationY=function(e,r){t.typeOf.number("angle",e);var i=Math.cos(e),o=Math.sin(e);return n(r)?(r[0]=i,r[1]=0,r[2]=-o,r[3]=0,r[4]=1,r[5]=0,r[6]=o,r[7]=0,r[8]=i,r):new u(i,0,o,0,1,0,-o,0,i)},u.fromRotationZ=function(e,r){t.typeOf.number("angle",e);var i=Math.cos(e),o=Math.sin(e);return n(r)?(r[0]=i,r[1]=o,r[2]=0,r[3]=-o,r[4]=i,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r):new u(i,-o,0,o,i,0,0,0,1)},u.toArray=function(e,r){return t.typeOf.object("matrix",e),n(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},u.getElementIndex=function(e,r){return t.typeOf.number.greaterThanOrEquals("row",r,0),t.typeOf.number.lessThanOrEquals("row",r,2),t.typeOf.number.greaterThanOrEquals("column",e,0),t.typeOf.number.lessThanOrEquals("column",e,2),3*e+r},u.getColumn=function(e,r,n){t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,2),t.typeOf.object("result",n);var i=3*r,o=e[i],a=e[i+1],s=e[i+2];return n.x=o,n.y=a,n.z=s,n},u.setColumn=function(e,r,n,i){t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,2),t.typeOf.object("cartesian",n),t.typeOf.object("result",i),i=u.clone(e,i);var o=3*r;return i[o]=n.x,i[o+1]=n.y,i[o+2]=n.z,i},u.getRow=function(e,r,n){t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,2),t.typeOf.object("result",n);var i=e[r],o=e[r+3],a=e[r+6];return n.x=i,n.y=o,n.z=a,n},u.setRow=function(e,r,n,i){return t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,2),t.typeOf.object("cartesian",n),t.typeOf.object("result",i),i=u.clone(e,i),i[r]=n.x,i[r+3]=n.y,i[r+6]=n.z,i};var f=new e;u.getScale=function(r,n){return t.typeOf.object("matrix",r),t.typeOf.object("result",n),n.x=e.magnitude(e.fromElements(r[0],r[1],r[2],f)),n.y=e.magnitude(e.fromElements(r[3],r[4],r[5],f)),n.z=e.magnitude(e.fromElements(r[6],r[7],r[8],f)),n};var d=new e;u.getMaximumScale=function(t){return u.getScale(t,d),e.maximumComponent(d)},u.multiply=function(e,r,n){t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n);var i=e[0]*r[0]+e[3]*r[1]+e[6]*r[2],o=e[1]*r[0]+e[4]*r[1]+e[7]*r[2],a=e[2]*r[0]+e[5]*r[1]+e[8]*r[2],s=e[0]*r[3]+e[3]*r[4]+e[6]*r[5],u=e[1]*r[3]+e[4]*r[4]+e[7]*r[5],l=e[2]*r[3]+e[5]*r[4]+e[8]*r[5],c=e[0]*r[6]+e[3]*r[7]+e[6]*r[8],h=e[1]*r[6]+e[4]*r[7]+e[7]*r[8],f=e[2]*r[6]+e[5]*r[7]+e[8]*r[8];return n[0]=i,n[1]=o,n[2]=a,n[3]=s,n[4]=u,n[5]=l,n[6]=c,n[7]=h,n[8]=f,n},u.add=function(e,r,n){return t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n),n[0]=e[0]+r[0],n[1]=e[1]+r[1],n[2]=e[2]+r[2],n[3]=e[3]+r[3],n[4]=e[4]+r[4],n[5]=e[5]+r[5],n[6]=e[6]+r[6],n[7]=e[7]+r[7],n[8]=e[8]+r[8],n},u.subtract=function(e,r,n){return t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n),n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],n[3]=e[3]-r[3],n[4]=e[4]-r[4],n[5]=e[5]-r[5],n[6]=e[6]-r[6],n[7]=e[7]-r[7],n[8]=e[8]-r[8],n},u.multiplyByVector=function(e,r,n){t.typeOf.object("matrix",e),t.typeOf.object("cartesian",r),t.typeOf.object("result",n);var i=r.x,o=r.y,a=r.z,s=e[0]*i+e[3]*o+e[6]*a,u=e[1]*i+e[4]*o+e[7]*a,l=e[2]*i+e[5]*o+e[8]*a;return n.x=s,n.y=u,n.z=l,n},u.multiplyByScalar=function(e,r,n){return t.typeOf.object("matrix",e),t.typeOf.number("scalar",r),t.typeOf.object("result",n),n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*r,n},u.multiplyByScale=function(e,r,n){return t.typeOf.object("matrix",e),t.typeOf.object("scale",r),t.typeOf.object("result",n),n[0]=e[0]*r.x,n[1]=e[1]*r.x,n[2]=e[2]*r.x,n[3]=e[3]*r.y,n[4]=e[4]*r.y,n[5]=e[5]*r.y,n[6]=e[6]*r.z,n[7]=e[7]*r.z,n[8]=e[8]*r.z,n},u.negate=function(e,r){return t.typeOf.object("matrix",e),t.typeOf.object("result",r),r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=-e[7],r[8]=-e[8],r},u.transpose=function(e,r){t.typeOf.object("matrix",e),t.typeOf.object("result",r);var n=e[0],i=e[3],o=e[6],a=e[1],s=e[4],u=e[7],l=e[2],c=e[5],h=e[8];return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r[4]=s,r[5]=u,r[6]=l,r[7]=c,r[8]=h,r};var p=[1,0,0],m=[2,2,1],y=new u,g=new u;return u.computeEigenDecomposition=function(e,r){t.typeOf.object("matrix",e);var i=s.EPSILON20,o=0,a=0;n(r)||(r={});for(var f=r.unitary=u.clone(u.IDENTITY,r.unitary),d=r.diagonal=u.clone(e,r.diagonal),p=i*l(d);a<10&&c(d)>p;)h(d,y),u.transpose(y,g),u.multiply(d,y,d),u.multiply(g,d,d),u.multiply(f,y,f),++o>2&&(++a,o=0);return r},u.abs=function(e,r){return t.typeOf.object("matrix",e),t.typeOf.object("result",r),r[0]=Math.abs(e[0]),r[1]=Math.abs(e[1]),r[2]=Math.abs(e[2]),r[3]=Math.abs(e[3]),r[4]=Math.abs(e[4]),r[5]=Math.abs(e[5]),r[6]=Math.abs(e[6]),r[7]=Math.abs(e[7]),r[8]=Math.abs(e[8]),r},u.determinant=function(e){t.typeOf.object("matrix",e);var r=e[0],n=e[3],i=e[6],o=e[1],a=e[4],s=e[7],u=e[2],l=e[5],c=e[8];return r*(a*c-l*s)+o*(l*i-n*c)+u*(n*s-a*i)},u.inverse=function(e,r){t.typeOf.object("matrix",e),t.typeOf.object("result",r);var n=e[0],i=e[1],a=e[2],l=e[3],c=e[4],h=e[5],f=e[6],d=e[7],p=e[8],m=u.determinant(e);if(Math.abs(m)<=s.EPSILON15)throw new o("matrix is not invertible");r[0]=c*p-d*h,r[1]=d*a-i*p,r[2]=i*h-c*a,r[3]=f*h-l*p,r[4]=n*p-f*a,r[5]=l*a-n*h,r[6]=l*d-f*c,r[7]=f*i-n*d,r[8]=n*c-l*i;var y=1/m;return u.multiplyByScalar(r,y,r)},u.equals=function(e,t){return e===t||n(e)&&n(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},u.equalsEpsilon=function(e,r,i){return t.typeOf.number("epsilon",i),e===r||n(e)&&n(r)&&Math.abs(e[0]-r[0])<=i&&Math.abs(e[1]-r[1])<=i&&Math.abs(e[2]-r[2])<=i&&Math.abs(e[3]-r[3])<=i&&Math.abs(e[4]-r[4])<=i&&Math.abs(e[5]-r[5])<=i&&Math.abs(e[6]-r[6])<=i&&Math.abs(e[7]-r[7])<=i&&Math.abs(e[8]-r[8])<=i},u.IDENTITY=a(new u(1,0,0,0,1,0,0,0,1)),u.ZERO=a(new u(0,0,0,0,0,0,0,0,0)),u.COLUMN0ROW0=0,u.COLUMN0ROW1=1,u.COLUMN0ROW2=2,u.COLUMN1ROW0=3,u.COLUMN1ROW1=4,u.COLUMN1ROW2=5,u.COLUMN2ROW0=6,u.COLUMN2ROW1=7,u.COLUMN2ROW2=8,i(u.prototype,{length:{get:function(){return u.packedLength}}}),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},u}),r("Core/Cartesian4",["./Check","./defaultValue","./defined","./DeveloperError","./freezeObject","./Math"],function(e,t,r,n,i,o){"use strict";function a(e,r,n,i){this.x=t(e,0),this.y=t(r,0),this.z=t(n,0),this.w=t(i,0)}a.fromElements=function(e,t,n,i,o){return r(o)?(o.x=e,o.y=t,o.z=n,o.w=i,o):new a(e,t,n,i)},a.fromColor=function(t,n){return e.typeOf.object("color",t),r(n)?(n.x=t.red,n.y=t.green,n.z=t.blue,n.w=t.alpha,n):new a(t.red,t.green,t.blue,t.alpha)},a.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new a(e.x,e.y,e.z,e.w)},a.packedLength=4,a.pack=function(r,n,i){return e.typeOf.object("value",r),e.defined("array",n),i=t(i,0),n[i++]=r.x,n[i++]=r.y,n[i++]=r.z,n[i]=r.w,n},a.unpack=function(n,i,o){return e.defined("array",n),i=t(i,0),r(o)||(o=new a),o.x=n[i++],o.y=n[i++],o.z=n[i++],o.w=n[i],o},a.packArray=function(t,n){e.defined("array",t);var i=t.length;r(n)?n.length=4*i:n=new Array(4*i);for(var o=0;o<i;++o)a.pack(t[o],n,4*o);return n},a.unpackArray=function(t,n){e.defined("array",t);var i=t.length;r(n)?n.length=i/4:n=new Array(i/4);for(var o=0;o<i;o+=4){var s=o/4;n[s]=a.unpack(t,o,n[s])}return n},a.fromArray=a.unpack,a.maximumComponent=function(t){return e.typeOf.object("cartesian",t),Math.max(t.x,t.y,t.z,t.w)},a.minimumComponent=function(t){return e.typeOf.object("cartesian",t),Math.min(t.x,t.y,t.z,t.w)},a.minimumByComponent=function(t,r,n){return e.typeOf.object("first",t),e.typeOf.object("second",r),e.typeOf.object("result",n),n.x=Math.min(t.x,r.x),n.y=Math.min(t.y,r.y),n.z=Math.min(t.z,r.z),n.w=Math.min(t.w,r.w),n},a.maximumByComponent=function(t,r,n){return e.typeOf.object("first",t),e.typeOf.object("second",r),e.typeOf.object("result",n),n.x=Math.max(t.x,r.x),n.y=Math.max(t.y,r.y),n.z=Math.max(t.z,r.z),n.w=Math.max(t.w,r.w),n},a.magnitudeSquared=function(t){return e.typeOf.object("cartesian",t),t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var s=new a;a.distance=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),a.subtract(t,r,s),a.magnitude(s)},a.distanceSquared=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),a.subtract(t,r,s),a.magnitudeSquared(s)},a.normalize=function(t,r){e.typeOf.object("cartesian",t),e.typeOf.object("result",r);var i=a.magnitude(t);if(r.x=t.x/i,r.y=t.y/i,r.z=t.z/i,r.w=t.w/i,isNaN(r.x)||isNaN(r.y)||isNaN(r.z)||isNaN(r.w))throw new n("normalized result is not a number");return r},a.dot=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),t.x*r.x+t.y*r.y+t.z*r.z+t.w*r.w},a.multiplyComponents=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x*r.x,n.y=t.y*r.y,n.z=t.z*r.z,n.w=t.w*r.w,n},a.divideComponents=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x/r.x,n.y=t.y/r.y,n.z=t.z/r.z,n.w=t.w/r.w,n},a.add=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x+r.x,n.y=t.y+r.y,n.z=t.z+r.z,n.w=t.w+r.w,n},a.subtract=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x-r.x,n.y=t.y-r.y,n.z=t.z-r.z,n.w=t.w-r.w,n},a.multiplyByScalar=function(t,r,n){return e.typeOf.object("cartesian",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.x=t.x*r,n.y=t.y*r,n.z=t.z*r,n.w=t.w*r,n},a.divideByScalar=function(t,r,n){return e.typeOf.object("cartesian",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.x=t.x/r,n.y=t.y/r,n.z=t.z/r,n.w=t.w/r,n},a.negate=function(t,r){return e.typeOf.object("cartesian",t),e.typeOf.object("result",r),r.x=-t.x,r.y=-t.y,r.z=-t.z,r.w=-t.w,r},a.abs=function(t,r){return e.typeOf.object("cartesian",t),e.typeOf.object("result",r),r.x=Math.abs(t.x),r.y=Math.abs(t.y),r.z=Math.abs(t.z),r.w=Math.abs(t.w),r};var u=new a;a.lerp=function(t,r,n,i){return e.typeOf.object("start",t),e.typeOf.object("end",r),e.typeOf.number("t",n),e.typeOf.object("result",i),a.multiplyByScalar(r,n,u),i=a.multiplyByScalar(t,1-n,i),a.add(u,i,i)};var l=new a;a.mostOrthogonalAxis=function(t,r){e.typeOf.object("cartesian",t),e.typeOf.object("result",r);var n=a.normalize(t,l);return a.abs(n,n),r=n.x<=n.y?n.x<=n.z?n.x<=n.w?a.clone(a.UNIT_X,r):a.clone(a.UNIT_W,r):n.z<=n.w?a.clone(a.UNIT_Z,r):a.clone(a.UNIT_W,r):n.y<=n.z?n.y<=n.w?a.clone(a.UNIT_Y,r):a.clone(a.UNIT_W,r):n.z<=n.w?a.clone(a.UNIT_Z,r):a.clone(a.UNIT_W,r)},a.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},a.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]&&e.w===t[r+3]},a.equalsEpsilon=function(e,t,n,i){return e===t||r(e)&&r(t)&&o.equalsEpsilon(e.x,t.x,n,i)&&o.equalsEpsilon(e.y,t.y,n,i)&&o.equalsEpsilon(e.z,t.z,n,i)&&o.equalsEpsilon(e.w,t.w,n,i)},a.ZERO=i(new a(0,0,0,0)),a.UNIT_X=i(new a(1,0,0,0)),a.UNIT_Y=i(new a(0,1,0,0)),a.UNIT_Z=i(new a(0,0,1,0)),a.UNIT_W=i(new a(0,0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,r){return a.equalsEpsilon(this,e,t,r)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var c=new Float32Array(1);return a.packFloat=function(t,n){if(e.typeOf.number("value",t),r(n)||(n=new a),c[0]=t,0===(t=c[0]))return a.clone(a.ZERO,n);var i,s=t<0?1:0;isFinite(t)?(t=Math.abs(t),i=Math.floor(o.logBase(t,10))+1,t/=Math.pow(10,i)):(t=.1,i=38);var u=256*t;return n.x=Math.floor(u),u=256*(u-n.x),n.y=Math.floor(u),u=256*(u-n.y),n.z=Math.floor(u),n.w=2*(i+38)+s,n},a.unpackFloat=function(t){e.typeOf.object("packedFloat",t);var r=t.w/2,n=Math.floor(r),i=2*(r-n);if(n-=38,i=2*i-1,i=-i,n>=38)return i<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var o=i*t.x*(1/256);return o+=i*t.y*(1/65536),(o+=i*t.z*(1/16777216))*Math.pow(10,n)},a}),r("Core/Matrix4",["./Cartesian3","./Cartesian4","./Check","./defaultValue","./defined","./defineProperties","./freezeObject","./Math","./Matrix3","./RuntimeError"],function(e,t,r,n,i,o,a,s,u,l){"use strict";function c(e,t,r,i,o,a,s,u,l,c,h,f,d,p,m,y){this[0]=n(e,0),this[1]=n(o,0),this[2]=n(l,0),this[3]=n(d,0),this[4]=n(t,0),this[5]=n(a,0),this[6]=n(c,0),this[7]=n(p,0),this[8]=n(r,0),this[9]=n(s,0),this[10]=n(h,0),this[11]=n(m,0),this[12]=n(i,0),this[13]=n(u,0),this[14]=n(f,0),this[15]=n(y,0)}c.packedLength=16,c.pack=function(e,t,i){return r.typeOf.object("value",e),r.defined("array",t),i=n(i,0),t[i++]=e[0],t[i++]=e[1],t[i++]=e[2],t[i++]=e[3],t[i++]=e[4],t[i++]=e[5],t[i++]=e[6],t[i++]=e[7],t[i++]=e[8],t[i++]=e[9],t[i++]=e[10],t[i++]=e[11],t[i++]=e[12],t[i++]=e[13],t[i++]=e[14],t[i]=e[15],t},c.unpack=function(e,t,o){return r.defined("array",e),t=n(t,0),i(o)||(o=new c),o[0]=e[t++],o[1]=e[t++],o[2]=e[t++],o[3]=e[t++],o[4]=e[t++],o[5]=e[t++],o[6]=e[t++],o[7]=e[t++],o[8]=e[t++],o[9]=e[t++],o[10]=e[t++],o[11]=e[t++],o[12]=e[t++],o[13]=e[t++],o[14]=e[t++],o[15]=e[t],o},c.clone=function(e,t){if(i(e))return i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new c(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},c.fromArray=c.unpack,c.fromColumnMajorArray=function(e,t){return r.defined("values",e),c.clone(e,t)},c.fromRowMajorArray=function(e,t){return r.defined("values",e),i(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new c(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},c.fromRotationTranslation=function(t,o,a){return r.typeOf.object("rotation",t),o=n(o,e.ZERO),i(a)?(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=0,a[4]=t[3],a[5]=t[4],a[6]=t[5],a[7]=0,a[8]=t[6],a[9]=t[7],a[10]=t[8],a[11]=0,a[12]=o.x,a[13]=o.y,a[14]=o.z,a[15]=1,a):new c(t[0],t[3],t[6],o.x,t[1],t[4],t[7],o.y,t[2],t[5],t[8],o.z,0,0,0,1)},c.fromTranslationQuaternionRotationScale=function(e,t,n,o){r.typeOf.object("translation",e),r.typeOf.object("rotation",t),r.typeOf.object("scale",n),i(o)||(o=new c);var a=n.x,s=n.y,u=n.z,l=t.x*t.x,h=t.x*t.y,f=t.x*t.z,d=t.x*t.w,p=t.y*t.y,m=t.y*t.z,y=t.y*t.w,g=t.z*t.z,E=t.z*t.w,_=t.w*t.w,v=l-p-g+_,w=2*(h-E),T=2*(f+y),O=2*(h+E),S=-l+p-g+_,b=2*(m-d),C=2*(f-y),R=2*(m+d),I=-l-p+g+_;return o[0]=v*a,o[1]=O*a,o[2]=C*a,o[3]=0,o[4]=w*s,o[5]=S*s,o[6]=R*s,o[7]=0,o[8]=T*u,o[9]=b*u,o[10]=I*u,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,o},c.fromTranslationRotationScale=function(e,t){return r.typeOf.object("translationRotationScale",e),c.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},c.fromTranslation=function(e,t){return r.typeOf.object("translation",e),c.fromRotationTranslation(u.IDENTITY,e,t)},c.fromScale=function(e,t){return r.typeOf.object("scale",e),i(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new c(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},c.fromUniformScale=function(e,t){return r.typeOf.number("scale",e),i(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new c(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var h=new e,f=new e,d=new e;c.fromCamera=function(t,n){r.typeOf.object("camera",t);var o=t.position,a=t.direction,s=t.up;r.typeOf.object("camera.position",o),r.typeOf.object("camera.direction",a),r.typeOf.object("camera.up",s),e.normalize(a,h),e.normalize(e.cross(h,s,f),f),e.normalize(e.cross(f,h,d),d);var u=f.x,l=f.y,p=f.z,m=h.x,y=h.y,g=h.z,E=d.x,_=d.y,v=d.z,w=o.x,T=o.y,O=o.z,S=u*-w+l*-T+p*-O,b=E*-w+_*-T+v*-O,C=m*w+y*T+g*O;return i(n)?(n[0]=u,n[1]=E,n[2]=-m,n[3]=0,n[4]=l,n[5]=_,n[6]=-y,n[7]=0,n[8]=p,n[9]=v,n[10]=-g,n[11]=0,n[12]=S,n[13]=b,n[14]=C,n[15]=1,n):new c(u,l,p,S,E,_,v,b,-m,-y,-g,C,0,0,0,1)},c.computePerspectiveFieldOfView=function(e,t,n,i,o){r.typeOf.number.greaterThan("fovY",e,0),r.typeOf.number.lessThan("fovY",e,Math.PI),r.typeOf.number.greaterThan("near",n,0),r.typeOf.number.greaterThan("far",i,0),r.typeOf.object("result",o);var a=Math.tan(.5*e),s=1/a,u=s/t,l=(i+n)/(n-i),c=2*i*n/(n-i);return o[0]=u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=s,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=l,o[11]=-1,o[12]=0,o[13]=0,o[14]=c,o[15]=0,o},c.computeOrthographicOffCenter=function(e,t,n,i,o,a,s){r.typeOf.number("left",e),r.typeOf.number("right",t),r.typeOf.number("bottom",n),r.typeOf.number("top",i),r.typeOf.number("near",o),r.typeOf.number("far",a),r.typeOf.object("result",s);var u=1/(t-e),l=1/(i-n),c=1/(a-o),h=-(t+e)*u,f=-(i+n)*l,d=-(a+o)*c;return u*=2,l*=2,c*=-2,s[0]=u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=c,s[11]=0,s[12]=h,s[13]=f,s[14]=d,s[15]=1,s},c.computePerspectiveOffCenter=function(e,t,n,i,o,a,s){r.typeOf.number("left",e),r.typeOf.number("right",t),r.typeOf.number("bottom",n),r.typeOf.number("top",i),r.typeOf.number("near",o),r.typeOf.number("far",a),r.typeOf.object("result",s);var u=2*o/(t-e),l=2*o/(i-n),c=(t+e)/(t-e),h=(i+n)/(i-n),f=-(a+o)/(a-o),d=-2*a*o/(a-o);return s[0]=u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=c,s[9]=h,s[10]=f,s[11]=-1,s[12]=0,s[13]=0,s[14]=d,s[15]=0,s},c.computeInfinitePerspectiveOffCenter=function(e,t,n,i,o,a){r.typeOf.number("left",e),r.typeOf.number("right",t),r.typeOf.number("bottom",n),r.typeOf.number("top",i),r.typeOf.number("near",o),r.typeOf.object("result",a);var s=2*o/(t-e),u=2*o/(i-n),l=(t+e)/(t-e),c=(i+n)/(i-n),h=-2*o;return a[0]=s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=l,a[9]=c,a[10]=-1,a[11]=-1,a[12]=0,a[13]=0,a[14]=h,a[15]=0,a},c.computeViewportTransformation=function(e,t,i,o){r.typeOf.object("result",o),e=n(e,n.EMPTY_OBJECT);var a=n(e.x,0),s=n(e.y,0),u=n(e.width,0),l=n(e.height,0);t=n(t,0),i=n(i,1);var c=.5*u,h=.5*l,f=.5*(i-t),d=c,p=h,m=f,y=a+c,g=s+h,E=t+f;return o[0]=d,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=p,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=m,o[11]=0,o[12]=y,o[13]=g,o[14]=E,o[15]=1,o},c.computeView=function(t,n,i,o,a){return r.typeOf.object("position",t),r.typeOf.object("direction",n),r.typeOf.object("up",i),r.typeOf.object("right",o),r.typeOf.object("result",a),a[0]=o.x,a[1]=i.x,a[2]=-n.x,a[3]=0,a[4]=o.y,a[5]=i.y,a[6]=-n.y,a[7]=0,a[8]=o.z,a[9]=i.z,a[10]=-n.z,a[11]=0,a[12]=-e.dot(o,t),a[13]=-e.dot(i,t),a[14]=e.dot(n,t),a[15]=1,a},c.toArray=function(e,t){return r.typeOf.object("matrix",e),i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},c.getElementIndex=function(e,t){return r.typeOf.number.greaterThanOrEquals("row",t,0),r.typeOf.number.lessThanOrEquals("row",t,3),r.typeOf.number.greaterThanOrEquals("column",e,0),r.typeOf.number.lessThanOrEquals("column",e,3),4*e+t},c.getColumn=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,3),r.typeOf.object("result",n);var i=4*t,o=e[i],a=e[i+1],s=e[i+2],u=e[i+3];return n.x=o,n.y=a,n.z=s,n.w=u,n},c.setColumn=function(e,t,n,i){r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,3),r.typeOf.object("cartesian",n),r.typeOf.object("result",i),i=c.clone(e,i);var o=4*t;return i[o]=n.x,i[o+1]=n.y,i[o+2]=n.z,i[o+3]=n.w,i},c.setTranslation=function(e,t,n){return r.typeOf.object("matrix",e),r.typeOf.object("translation",t),r.typeOf.object("result",n),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n};var p=new e;c.setScale=function(t,n,i){r.typeOf.object("matrix",t),r.typeOf.object("scale",n),r.typeOf.object("result",i);var o=c.getScale(t,p),a=e.divideComponents(n,o,p);return c.multiplyByScale(t,a,i)},c.getRow=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,3),r.typeOf.object("result",n);var i=e[t],o=e[t+4],a=e[t+8],s=e[t+12];return n.x=i,n.y=o,n.z=a,n.w=s,n},c.setRow=function(e,t,n,i){return r.typeOf.object("matrix",e),r.typeOf.number.greaterThanOrEquals("index",t,0),r.typeOf.number.lessThanOrEquals("index",t,3),r.typeOf.object("cartesian",n),r.typeOf.object("result",i),i=c.clone(e,i),i[t]=n.x,i[t+4]=n.y,i[t+8]=n.z,i[t+12]=n.w,i};var m=new e;c.getScale=function(t,n){return r.typeOf.object("matrix",t),r.typeOf.object("result",n),n.x=e.magnitude(e.fromElements(t[0],t[1],t[2],m)),n.y=e.magnitude(e.fromElements(t[4],t[5],t[6],m)),n.z=e.magnitude(e.fromElements(t[8],t[9],t[10],m)),n};var y=new e;c.getMaximumScale=function(t){return c.getScale(t,y),e.maximumComponent(y)},c.multiply=function(e,t,n){r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n);var i=e[0],o=e[1],a=e[2],s=e[3],u=e[4],l=e[5],c=e[6],h=e[7],f=e[8],d=e[9],p=e[10],m=e[11],y=e[12],g=e[13],E=e[14],_=e[15],v=t[0],w=t[1],T=t[2],O=t[3],S=t[4],b=t[5],C=t[6],R=t[7],I=t[8],A=t[9],M=t[10],x=t[11],N=t[12],P=t[13],D=t[14],L=t[15],U=i*v+u*w+f*T+y*O,q=o*v+l*w+d*T+g*O,B=a*v+c*w+p*T+E*O,F=s*v+h*w+m*T+_*O,j=i*S+u*b+f*C+y*R,z=o*S+l*b+d*C+g*R,G=a*S+c*b+p*C+E*R,k=s*S+h*b+m*C+_*R,H=i*I+u*A+f*M+y*x,V=o*I+l*A+d*M+g*x,W=a*I+c*A+p*M+E*x,Y=s*I+h*A+m*M+_*x,X=i*N+u*P+f*D+y*L,Z=o*N+l*P+d*D+g*L,K=a*N+c*P+p*D+E*L,Q=s*N+h*P+m*D+_*L;return n[0]=U,n[1]=q,n[2]=B,n[3]=F,n[4]=j,n[5]=z,n[6]=G,n[7]=k,n[8]=H,n[9]=V,n[10]=W,n[11]=Y,n[12]=X,n[13]=Z,n[14]=K,n[15]=Q,n},c.add=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},c.subtract=function(e,t,n){return r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n),n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],
n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},c.multiplyTransformation=function(e,t,n){r.typeOf.object("left",e),r.typeOf.object("right",t),r.typeOf.object("result",n);var i=e[0],o=e[1],a=e[2],s=e[4],u=e[5],l=e[6],c=e[8],h=e[9],f=e[10],d=e[12],p=e[13],m=e[14],y=t[0],g=t[1],E=t[2],_=t[4],v=t[5],w=t[6],T=t[8],O=t[9],S=t[10],b=t[12],C=t[13],R=t[14],I=i*y+s*g+c*E,A=o*y+u*g+h*E,M=a*y+l*g+f*E,x=i*_+s*v+c*w,N=o*_+u*v+h*w,P=a*_+l*v+f*w,D=i*T+s*O+c*S,L=o*T+u*O+h*S,U=a*T+l*O+f*S,q=i*b+s*C+c*R+d,B=o*b+u*C+h*R+p,F=a*b+l*C+f*R+m;return n[0]=I,n[1]=A,n[2]=M,n[3]=0,n[4]=x,n[5]=N,n[6]=P,n[7]=0,n[8]=D,n[9]=L,n[10]=U,n[11]=0,n[12]=q,n[13]=B,n[14]=F,n[15]=1,n},c.multiplyByMatrix3=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("rotation",t),r.typeOf.object("result",n);var i=e[0],o=e[1],a=e[2],s=e[4],u=e[5],l=e[6],c=e[8],h=e[9],f=e[10],d=t[0],p=t[1],m=t[2],y=t[3],g=t[4],E=t[5],_=t[6],v=t[7],w=t[8],T=i*d+s*p+c*m,O=o*d+u*p+h*m,S=a*d+l*p+f*m,b=i*y+s*g+c*E,C=o*y+u*g+h*E,R=a*y+l*g+f*E,I=i*_+s*v+c*w,A=o*_+u*v+h*w,M=a*_+l*v+f*w;return n[0]=T,n[1]=O,n[2]=S,n[3]=0,n[4]=b,n[5]=C,n[6]=R,n[7]=0,n[8]=I,n[9]=A,n[10]=M,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},c.multiplyByTranslation=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("translation",t),r.typeOf.object("result",n);var i=t.x,o=t.y,a=t.z,s=i*e[0]+o*e[4]+a*e[8]+e[12],u=i*e[1]+o*e[5]+a*e[9]+e[13],l=i*e[2]+o*e[6]+a*e[10]+e[14];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=s,n[13]=u,n[14]=l,n[15]=e[15],n};var g=new e;c.multiplyByUniformScale=function(e,t,n){return r.typeOf.object("matrix",e),r.typeOf.number("scale",t),r.typeOf.object("result",n),g.x=t,g.y=t,g.z=t,c.multiplyByScale(e,g,n)},c.multiplyByScale=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("scale",t),r.typeOf.object("result",n);var i=t.x,o=t.y,a=t.z;return 1===i&&1===o&&1===a?c.clone(e,n):(n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=0,n[4]=o*e[4],n[5]=o*e[5],n[6]=o*e[6],n[7]=0,n[8]=a*e[8],n[9]=a*e[9],n[10]=a*e[10],n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=1,n)},c.multiplyByVector=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("cartesian",t),r.typeOf.object("result",n);var i=t.x,o=t.y,a=t.z,s=t.w,u=e[0]*i+e[4]*o+e[8]*a+e[12]*s,l=e[1]*i+e[5]*o+e[9]*a+e[13]*s,c=e[2]*i+e[6]*o+e[10]*a+e[14]*s,h=e[3]*i+e[7]*o+e[11]*a+e[15]*s;return n.x=u,n.y=l,n.z=c,n.w=h,n},c.multiplyByPointAsVector=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("cartesian",t),r.typeOf.object("result",n);var i=t.x,o=t.y,a=t.z,s=e[0]*i+e[4]*o+e[8]*a,u=e[1]*i+e[5]*o+e[9]*a,l=e[2]*i+e[6]*o+e[10]*a;return n.x=s,n.y=u,n.z=l,n},c.multiplyByPoint=function(e,t,n){r.typeOf.object("matrix",e),r.typeOf.object("cartesian",t),r.typeOf.object("result",n);var i=t.x,o=t.y,a=t.z,s=e[0]*i+e[4]*o+e[8]*a+e[12],u=e[1]*i+e[5]*o+e[9]*a+e[13],l=e[2]*i+e[6]*o+e[10]*a+e[14];return n.x=s,n.y=u,n.z=l,n},c.multiplyByScalar=function(e,t,n){return r.typeOf.object("matrix",e),r.typeOf.number("scalar",t),r.typeOf.object("result",n),n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},c.negate=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},c.transpose=function(e,t){r.typeOf.object("matrix",e),r.typeOf.object("result",t);var n=e[1],i=e[2],o=e[3],a=e[6],s=e[7],u=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=a,t[10]=e[10],t[11]=e[14],t[12]=o,t[13]=s,t[14]=u,t[15]=e[15],t},c.abs=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},c.equals=function(e,t){return e===t||i(e)&&i(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},c.equalsEpsilon=function(e,t,n){return r.typeOf.number("epsilon",n),e===t||i(e)&&i(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n&&Math.abs(e[9]-t[9])<=n&&Math.abs(e[10]-t[10])<=n&&Math.abs(e[11]-t[11])<=n&&Math.abs(e[12]-t[12])<=n&&Math.abs(e[13]-t[13])<=n&&Math.abs(e[14]-t[14])<=n&&Math.abs(e[15]-t[15])<=n},c.getTranslation=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),t.x=e[12],t.y=e[13],t.z=e[14],t},c.getRotation=function(e,t){return r.typeOf.object("matrix",e),r.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var E=new u,_=new u,v=new t,w=new t(0,0,0,1);return c.inverse=function(e,n){r.typeOf.object("matrix",e),r.typeOf.object("result",n);var i=e[0],o=e[4],a=e[8],h=e[12],f=e[1],d=e[5],p=e[9],m=e[13],y=e[2],g=e[6],T=e[10],O=e[14],S=e[3],b=e[7],C=e[11],R=e[15],I=T*R,A=O*C,M=g*R,x=O*b,N=g*C,P=T*b,D=y*R,L=O*S,U=y*C,q=T*S,B=y*b,F=g*S,j=I*d+x*p+N*m-(A*d+M*p+P*m),z=A*f+D*p+q*m-(I*f+L*p+U*m),G=M*f+L*d+B*m-(x*f+D*d+F*m),k=P*f+U*d+F*p-(N*f+q*d+B*p),H=A*o+M*a+P*h-(I*o+x*a+N*h),V=I*i+L*a+U*h-(A*i+D*a+q*h),W=x*i+D*o+F*h-(M*i+L*o+B*h),Y=N*i+q*o+B*a-(P*i+U*o+F*a);I=a*m,A=h*p,M=o*m,x=h*d,N=o*p,P=a*d,D=i*m,L=h*f,U=i*p,q=a*f,B=i*d,F=o*f;var X=I*b+x*C+N*R-(A*b+M*C+P*R),Z=A*S+D*C+q*R-(I*S+L*C+U*R),K=M*S+L*b+B*R-(x*S+D*b+F*R),Q=P*S+U*b+F*C-(N*S+q*b+B*C),J=M*T+P*O+A*g-(N*O+I*g+x*T),$=U*O+I*y+L*T-(D*T+q*O+A*y),ee=D*g+F*O+x*y-(B*O+M*y+L*g),te=B*T+N*y+q*g-(U*g+F*T+P*y),re=i*j+o*z+a*G+h*k;if(Math.abs(re)<s.EPSILON21){if(u.equalsEpsilon(c.getRotation(e,E),_,s.EPSILON7)&&t.equals(c.getRow(e,3,v),w))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-e[12],n[13]=-e[13],n[14]=-e[14],n[15]=1,n;throw new l("matrix is not invertible because its determinate is zero.")}return re=1/re,n[0]=j*re,n[1]=z*re,n[2]=G*re,n[3]=k*re,n[4]=H*re,n[5]=V*re,n[6]=W*re,n[7]=Y*re,n[8]=X*re,n[9]=Z*re,n[10]=K*re,n[11]=Q*re,n[12]=J*re,n[13]=$*re,n[14]=ee*re,n[15]=te*re,n},c.inverseTransformation=function(e,t){r.typeOf.object("matrix",e),r.typeOf.object("result",t);var n=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],l=e[8],c=e[9],h=e[10],f=e[12],d=e[13],p=e[14],m=-n*f-i*d-o*p,y=-a*f-s*d-u*p,g=-l*f-c*d-h*p;return t[0]=n,t[1]=a,t[2]=l,t[3]=0,t[4]=i,t[5]=s,t[6]=c,t[7]=0,t[8]=o,t[9]=u,t[10]=h,t[11]=0,t[12]=m,t[13]=y,t[14]=g,t[15]=1,t},c.IDENTITY=a(new c(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),c.ZERO=a(new c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),c.COLUMN0ROW0=0,c.COLUMN0ROW1=1,c.COLUMN0ROW2=2,c.COLUMN0ROW3=3,c.COLUMN1ROW0=4,c.COLUMN1ROW1=5,c.COLUMN1ROW2=6,c.COLUMN1ROW3=7,c.COLUMN2ROW0=8,c.COLUMN2ROW1=9,c.COLUMN2ROW2=10,c.COLUMN2ROW3=11,c.COLUMN3ROW0=12,c.COLUMN3ROW1=13,c.COLUMN3ROW2=14,c.COLUMN3ROW3=15,o(c.prototype,{length:{get:function(){return c.packedLength}}}),c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]&&e[9]===t[r+9]&&e[10]===t[r+10]&&e[11]===t[r+11]&&e[12]===t[r+12]&&e[13]===t[r+13]&&e[14]===t[r+14]&&e[15]===t[r+15]},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},c}),r("Core/Rectangle",["./Cartographic","./Check","./defaultValue","./defined","./defineProperties","./Ellipsoid","./freezeObject","./Math"],function(e,t,r,n,i,o,a,s){"use strict";function u(e,t,n,i){this.west=r(e,0),this.south=r(t,0),this.east=r(n,0),this.north=r(i,0)}i(u.prototype,{width:{get:function(){return u.computeWidth(this)}},height:{get:function(){return u.computeHeight(this)}}}),u.packedLength=4,u.pack=function(e,n,i){return t.typeOf.object("value",e),t.defined("array",n),i=r(i,0),n[i++]=e.west,n[i++]=e.south,n[i++]=e.east,n[i]=e.north,n},u.unpack=function(e,i,o){return t.defined("array",e),i=r(i,0),n(o)||(o=new u),o.west=e[i++],o.south=e[i++],o.east=e[i++],o.north=e[i],o},u.computeWidth=function(e){t.typeOf.object("rectangle",e);var r=e.east,n=e.west;return r<n&&(r+=s.TWO_PI),r-n},u.computeHeight=function(e){return t.typeOf.object("rectangle",e),e.north-e.south},u.fromDegrees=function(e,t,i,o,a){return e=s.toRadians(r(e,0)),t=s.toRadians(r(t,0)),i=s.toRadians(r(i,0)),o=s.toRadians(r(o,0)),n(a)?(a.west=e,a.south=t,a.east=i,a.north=o,a):new u(e,t,i,o)},u.fromRadians=function(e,t,i,o,a){return n(a)?(a.west=r(e,0),a.south=r(t,0),a.east=r(i,0),a.north=r(o,0),a):new u(e,t,i,o)},u.fromCartographicArray=function(e,r){t.defined("cartographics",e);for(var i=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=Number.MAX_VALUE,l=-Number.MAX_VALUE,c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0,d=e.length;f<d;f++){var p=e[f];i=Math.min(i,p.longitude),o=Math.max(o,p.longitude),c=Math.min(c,p.latitude),h=Math.max(h,p.latitude);var m=p.longitude>=0?p.longitude:p.longitude+s.TWO_PI;a=Math.min(a,m),l=Math.max(l,m)}return o-i>l-a&&(i=a,o=l,o>s.PI&&(o-=s.TWO_PI),i>s.PI&&(i-=s.TWO_PI)),n(r)?(r.west=i,r.south=c,r.east=o,r.north=h,r):new u(i,c,o,h)},u.fromCartesianArray=function(e,i,a){t.defined("cartesians",e),i=r(i,o.WGS84);for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=Number.MAX_VALUE,p=-Number.MAX_VALUE,m=0,y=e.length;m<y;m++){var g=i.cartesianToCartographic(e[m]);l=Math.min(l,g.longitude),c=Math.max(c,g.longitude),d=Math.min(d,g.latitude),p=Math.max(p,g.latitude);var E=g.longitude>=0?g.longitude:g.longitude+s.TWO_PI;h=Math.min(h,E),f=Math.max(f,E)}return c-l>f-h&&(l=h,c=f,c>s.PI&&(c-=s.TWO_PI),l>s.PI&&(l-=s.TWO_PI)),n(a)?(a.west=l,a.south=d,a.east=c,a.north=p,a):new u(l,d,c,p)},u.clone=function(e,t){if(n(e))return n(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new u(e.west,e.south,e.east,e.north)},u.equalsEpsilon=function(e,r,i){return t.typeOf.number("absoluteEpsilon",i),e===r||n(e)&&n(r)&&Math.abs(e.west-r.west)<=i&&Math.abs(e.south-r.south)<=i&&Math.abs(e.east-r.east)<=i&&Math.abs(e.north-r.north)<=i},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.equals=function(e,t){return e===t||n(e)&&n(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},u.prototype.equalsEpsilon=function(e,r){return t.typeOf.number("epsilon",r),u.equalsEpsilon(this,e,r)},u.validate=function(e){t.typeOf.object("rectangle",e);var r=e.north;t.typeOf.number.greaterThanOrEquals("north",r,-s.PI_OVER_TWO),t.typeOf.number.lessThanOrEquals("north",r,s.PI_OVER_TWO);var n=e.south;t.typeOf.number.greaterThanOrEquals("south",n,-s.PI_OVER_TWO),t.typeOf.number.lessThanOrEquals("south",n,s.PI_OVER_TWO);var i=e.west;t.typeOf.number.greaterThanOrEquals("west",i,-Math.PI),t.typeOf.number.lessThanOrEquals("west",i,Math.PI);var o=e.east;t.typeOf.number.greaterThanOrEquals("east",o,-Math.PI),t.typeOf.number.lessThanOrEquals("east",o,Math.PI)},u.southwest=function(r,i){return t.typeOf.object("rectangle",r),n(i)?(i.longitude=r.west,i.latitude=r.south,i.height=0,i):new e(r.west,r.south)},u.northwest=function(r,i){return t.typeOf.object("rectangle",r),n(i)?(i.longitude=r.west,i.latitude=r.north,i.height=0,i):new e(r.west,r.north)},u.northeast=function(r,i){return t.typeOf.object("rectangle",r),n(i)?(i.longitude=r.east,i.latitude=r.north,i.height=0,i):new e(r.east,r.north)},u.southeast=function(r,i){return t.typeOf.object("rectangle",r),n(i)?(i.longitude=r.east,i.latitude=r.south,i.height=0,i):new e(r.east,r.south)},u.center=function(r,i){t.typeOf.object("rectangle",r);var o=r.east,a=r.west;o<a&&(o+=s.TWO_PI);var u=s.negativePiToPi(.5*(a+o)),l=.5*(r.south+r.north);return n(i)?(i.longitude=u,i.latitude=l,i.height=0,i):new e(u,l)},u.intersection=function(e,r,i){t.typeOf.object("rectangle",e),t.typeOf.object("otherRectangle",r);var o=e.east,a=e.west,l=r.east,c=r.west;o<a&&l>0?o+=s.TWO_PI:l<c&&o>0&&(l+=s.TWO_PI),o<a&&c<0?c+=s.TWO_PI:l<c&&a<0&&(a+=s.TWO_PI);var h=s.negativePiToPi(Math.max(a,c)),f=s.negativePiToPi(Math.min(o,l));if(!((e.west<e.east||r.west<r.east)&&f<=h)){var d=Math.max(e.south,r.south),p=Math.min(e.north,r.north);if(!(d>=p))return n(i)?(i.west=h,i.south=d,i.east=f,i.north=p,i):new u(h,d,f,p)}},u.simpleIntersection=function(e,r,i){t.typeOf.object("rectangle",e),t.typeOf.object("otherRectangle",r);var o=Math.max(e.west,r.west),a=Math.max(e.south,r.south),s=Math.min(e.east,r.east),l=Math.min(e.north,r.north);if(!(a>=l||o>=s))return n(i)?(i.west=o,i.south=a,i.east=s,i.north=l,i):new u(o,a,s,l)},u.union=function(e,r,i){t.typeOf.object("rectangle",e),t.typeOf.object("otherRectangle",r),n(i)||(i=new u);var o=e.east,a=e.west,l=r.east,c=r.west;o<a&&l>0?o+=s.TWO_PI:l<c&&o>0&&(l+=s.TWO_PI),o<a&&c<0?c+=s.TWO_PI:l<c&&a<0&&(a+=s.TWO_PI);var h=s.convertLongitudeRange(Math.min(a,c)),f=s.convertLongitudeRange(Math.max(o,l));return i.west=h,i.south=Math.min(e.south,r.south),i.east=f,i.north=Math.max(e.north,r.north),i},u.expand=function(e,r,i){return t.typeOf.object("rectangle",e),t.typeOf.object("cartographic",r),n(i)||(i=new u),i.west=Math.min(e.west,r.longitude),i.south=Math.min(e.south,r.latitude),i.east=Math.max(e.east,r.longitude),i.north=Math.max(e.north,r.latitude),i},u.contains=function(e,r){t.typeOf.object("rectangle",e),t.typeOf.object("cartographic",r);var n=r.longitude,i=r.latitude,o=e.west,a=e.east;return a<o&&(a+=s.TWO_PI,n<0&&(n+=s.TWO_PI)),(n>o||s.equalsEpsilon(n,o,s.EPSILON14))&&(n<a||s.equalsEpsilon(n,a,s.EPSILON14))&&i>=e.south&&i<=e.north};var l=new e;return u.subsample=function(e,i,a,c){t.typeOf.object("rectangle",e),i=r(i,o.WGS84),a=r(a,0),n(c)||(c=[]);var h=0,f=e.north,d=e.south,p=e.east,m=e.west,y=l;y.height=a,y.longitude=m,y.latitude=f,c[h]=i.cartographicToCartesian(y,c[h]),h++,y.longitude=p,c[h]=i.cartographicToCartesian(y,c[h]),h++,y.latitude=d,c[h]=i.cartographicToCartesian(y,c[h]),h++,y.longitude=m,c[h]=i.cartographicToCartesian(y,c[h]),h++,y.latitude=f<0?f:d>0?d:0;for(var g=1;g<8;++g)y.longitude=-Math.PI+g*s.PI_OVER_TWO,u.contains(e,y)&&(c[h]=i.cartographicToCartesian(y,c[h]),h++);return 0===y.latitude&&(y.longitude=m,c[h]=i.cartographicToCartesian(y,c[h]),h++,y.longitude=p,c[h]=i.cartographicToCartesian(y,c[h]),h++),c.length=h,c},u.MAX_VALUE=a(new u(-Math.PI,-s.PI_OVER_TWO,Math.PI,s.PI_OVER_TWO)),u}),r("Core/BoundingSphere",["./Cartesian3","./Cartographic","./Check","./defaultValue","./defined","./Ellipsoid","./GeographicProjection","./Intersect","./Interval","./Math","./Matrix3","./Matrix4","./Rectangle"],function(e,t,r,n,i,o,a,s,u,l,c,h,f){"use strict";function d(t,r){this.center=e.clone(n(t,e.ZERO)),this.radius=n(r,0)}var p=new e,m=new e,y=new e,g=new e,E=new e,_=new e,v=new e,w=new e,T=new e,O=new e,S=new e,b=new e,C=4/3*l.PI;d.fromPoints=function(t,r){if(i(r)||(r=new d),!i(t)||0===t.length)return r.center=e.clone(e.ZERO,r.center),r.radius=0,r;var n,o=e.clone(t[0],v),a=e.clone(o,p),s=e.clone(o,m),u=e.clone(o,y),l=e.clone(o,g),c=e.clone(o,E),h=e.clone(o,_),f=t.length;for(n=1;n<f;n++){e.clone(t[n],o);var C=o.x,R=o.y,I=o.z;C<a.x&&e.clone(o,a),C>l.x&&e.clone(o,l),R<s.y&&e.clone(o,s),R>c.y&&e.clone(o,c),I<u.z&&e.clone(o,u),I>h.z&&e.clone(o,h)}var A=e.magnitudeSquared(e.subtract(l,a,w)),M=e.magnitudeSquared(e.subtract(c,s,w)),x=e.magnitudeSquared(e.subtract(h,u,w)),N=a,P=l,D=A;M>D&&(D=M,N=s,P=c),x>D&&(D=x,N=u,P=h);var L=T;L.x=.5*(N.x+P.x),L.y=.5*(N.y+P.y),L.z=.5*(N.z+P.z);var U=e.magnitudeSquared(e.subtract(P,L,w)),q=Math.sqrt(U),B=O;B.x=a.x,B.y=s.y,B.z=u.z;var F=S;F.x=l.x,F.y=c.y,F.z=h.z;var j=e.midpoint(B,F,b),z=0;for(n=0;n<f;n++){e.clone(t[n],o);var G=e.magnitude(e.subtract(o,j,w));G>z&&(z=G);var k=e.magnitudeSquared(e.subtract(o,L,w));if(k>U){var H=Math.sqrt(k);q=.5*(q+H),U=q*q;var V=H-q;L.x=(q*L.x+V*o.x)/H,L.y=(q*L.y+V*o.y)/H,L.z=(q*L.z+V*o.z)/H}}return q<z?(e.clone(L,r.center),r.radius=q):(e.clone(j,r.center),r.radius=z),r};var R=new a,I=new e,A=new e,M=new t,x=new t;d.fromRectangle2D=function(e,t,r){return d.fromRectangleWithHeights2D(e,t,0,0,r)},d.fromRectangleWithHeights2D=function(t,r,o,a,s){if(i(s)||(s=new d),!i(t))return s.center=e.clone(e.ZERO,s.center),s.radius=0,s;r=n(r,R),f.southwest(t,M),M.height=o,f.northeast(t,x),x.height=a;var u=r.project(M,I),l=r.project(x,A),c=l.x-u.x,h=l.y-u.y,p=l.z-u.z;s.radius=.5*Math.sqrt(c*c+h*h+p*p);var m=s.center;return m.x=u.x+.5*c,m.y=u.y+.5*h,m.z=u.z+.5*p,s};var N=[];d.fromRectangle3D=function(t,r,a,s){if(r=n(r,o.WGS84),a=n(a,0),i(s)||(s=new d),!i(t))return s.center=e.clone(e.ZERO,s.center),s.radius=0,s;var u=f.subsample(t,r,a,N);return d.fromPoints(u,s)},d.fromVertices=function(t,o,a,s){if(i(s)||(s=new d),!i(t)||0===t.length)return s.center=e.clone(e.ZERO,s.center),s.radius=0,s;o=n(o,e.ZERO),a=n(a,3),r.typeOf.number.greaterThanOrEquals("stride",a,3);var u=v;u.x=t[0]+o.x,u.y=t[1]+o.y,u.z=t[2]+o.z;var l,c=e.clone(u,p),h=e.clone(u,m),f=e.clone(u,y),C=e.clone(u,g),R=e.clone(u,E),I=e.clone(u,_),A=t.length;for(l=0;l<A;l+=a){var M=t[l]+o.x,x=t[l+1]+o.y,N=t[l+2]+o.z;u.x=M,u.y=x,u.z=N,M<c.x&&e.clone(u,c),M>C.x&&e.clone(u,C),x<h.y&&e.clone(u,h),x>R.y&&e.clone(u,R),N<f.z&&e.clone(u,f),N>I.z&&e.clone(u,I)}var P=e.magnitudeSquared(e.subtract(C,c,w)),D=e.magnitudeSquared(e.subtract(R,h,w)),L=e.magnitudeSquared(e.subtract(I,f,w)),U=c,q=C,B=P;D>B&&(B=D,U=h,q=R),L>B&&(B=L,U=f,q=I);var F=T;F.x=.5*(U.x+q.x),F.y=.5*(U.y+q.y),F.z=.5*(U.z+q.z);var j=e.magnitudeSquared(e.subtract(q,F,w)),z=Math.sqrt(j),G=O;G.x=c.x,G.y=h.y,G.z=f.z;var k=S;k.x=C.x,k.y=R.y,k.z=I.z;var H=e.midpoint(G,k,b),V=0;for(l=0;l<A;l+=a){u.x=t[l]+o.x,u.y=t[l+1]+o.y,u.z=t[l+2]+o.z;var W=e.magnitude(e.subtract(u,H,w));W>V&&(V=W);var Y=e.magnitudeSquared(e.subtract(u,F,w));if(Y>j){var X=Math.sqrt(Y);z=.5*(z+X),j=z*z;var Z=X-z;F.x=(z*F.x+Z*u.x)/X,F.y=(z*F.y+Z*u.y)/X,F.z=(z*F.z+Z*u.z)/X}}return z<V?(e.clone(F,s.center),s.radius=z):(e.clone(H,s.center),s.radius=V),s},d.fromEncodedCartesianVertices=function(t,r,n){if(i(n)||(n=new d),!i(t)||!i(r)||t.length!==r.length||0===t.length)return n.center=e.clone(e.ZERO,n.center),n.radius=0,n;var o=v;o.x=t[0]+r[0],o.y=t[1]+r[1],o.z=t[2]+r[2];var a,s=e.clone(o,p),u=e.clone(o,m),l=e.clone(o,y),c=e.clone(o,g),h=e.clone(o,E),f=e.clone(o,_),C=t.length;for(a=0;a<C;a+=3){var R=t[a]+r[a],I=t[a+1]+r[a+1],A=t[a+2]+r[a+2];o.x=R,o.y=I,o.z=A,R<s.x&&e.clone(o,s),R>c.x&&e.clone(o,c),I<u.y&&e.clone(o,u),I>h.y&&e.clone(o,h),A<l.z&&e.clone(o,l),A>f.z&&e.clone(o,f)}var M=e.magnitudeSquared(e.subtract(c,s,w)),x=e.magnitudeSquared(e.subtract(h,u,w)),N=e.magnitudeSquared(e.subtract(f,l,w)),P=s,D=c,L=M;x>L&&(L=x,P=u,D=h),N>L&&(L=N,P=l,D=f);var U=T;U.x=.5*(P.x+D.x),U.y=.5*(P.y+D.y),U.z=.5*(P.z+D.z);var q=e.magnitudeSquared(e.subtract(D,U,w)),B=Math.sqrt(q),F=O;F.x=s.x,F.y=u.y,F.z=l.z;var j=S;j.x=c.x,j.y=h.y,j.z=f.z;var z=e.midpoint(F,j,b),G=0;for(a=0;a<C;a+=3){o.x=t[a]+r[a],o.y=t[a+1]+r[a+1],o.z=t[a+2]+r[a+2];var k=e.magnitude(e.subtract(o,z,w));k>G&&(G=k);var H=e.magnitudeSquared(e.subtract(o,U,w));if(H>q){var V=Math.sqrt(H);B=.5*(B+V),q=B*B;var W=V-B;U.x=(B*U.x+W*o.x)/V,U.y=(B*U.y+W*o.y)/V,U.z=(B*U.z+W*o.z)/V}}return B<G?(e.clone(U,n.center),n.radius=B):(e.clone(z,n.center),n.radius=G),n},d.fromCornerPoints=function(t,n,o){r.typeOf.object("corner",t),r.typeOf.object("oppositeCorner",n),i(o)||(o=new d);var a=e.midpoint(t,n,o.center);return o.radius=e.distance(a,n),o},d.fromEllipsoid=function(t,n){return r.typeOf.object("ellipsoid",t),i(n)||(n=new d),e.clone(e.ZERO,n.center),n.radius=t.maximumRadius,n};var P=new e;d.fromBoundingSpheres=function(t,r){if(i(r)||(r=new d),!i(t)||0===t.length)return r.center=e.clone(e.ZERO,r.center),r.radius=0,r;var n=t.length;if(1===n)return d.clone(t[0],r);if(2===n)return d.union(t[0],t[1],r);var o,a=[];for(o=0;o<n;o++)a.push(t[o].center);r=d.fromPoints(a,r);var s=r.center,u=r.radius;for(o=0;o<n;o++){var l=t[o];u=Math.max(u,e.distance(s,l.center,P)+l.radius)}return r.radius=u,r};var D=new e,L=new e,U=new e;d.fromOrientedBoundingBox=function(t,n){r.defined("orientedBoundingBox",t),i(n)||(n=new d);var o=t.halfAxes,a=c.getColumn(o,0,D),s=c.getColumn(o,1,L),u=c.getColumn(o,2,U);return e.add(a,s,a),e.add(a,u,a),n.center=e.clone(t.center,n.center),n.radius=e.magnitude(a),n},d.clone=function(t,r){if(i(t))return i(r)?(r.center=e.clone(t.center,r.center),r.radius=t.radius,r):new d(t.center,t.radius)},d.packedLength=4,d.pack=function(e,t,i){r.typeOf.object("value",e),r.defined("array",t),i=n(i,0);var o=e.center;return t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i]=e.radius,t},d.unpack=function(e,t,o){r.defined("array",e),t=n(t,0),i(o)||(o=new d);var a=o.center;return a.x=e[t++],a.y=e[t++],a.z=e[t++],o.radius=e[t],o};var q=new e,B=new e;d.union=function(t,n,o){r.typeOf.object("left",t),r.typeOf.object("right",n),i(o)||(o=new d);var a=t.center,s=t.radius,u=n.center,l=n.radius,c=e.subtract(u,a,q),h=e.magnitude(c);if(s>=h+l)return t.clone(o),o;if(l>=h+s)return n.clone(o),o;var f=.5*(s+h+l),p=e.multiplyByScalar(c,(-s+f)/h,B);return e.add(p,a,p),e.clone(p,o.center),o.radius=f,o};var F=new e;d.expand=function(t,n,i){r.typeOf.object("sphere",t),r.typeOf.object("point",n),i=d.clone(t,i);var o=e.magnitude(e.subtract(n,i.center,F));return o>i.radius&&(i.radius=o),i},d.intersectPlane=function(t,n){r.typeOf.object("sphere",t),r.typeOf.object("plane",n);var i=t.center,o=t.radius,a=n.normal,u=e.dot(a,i)+n.distance;return u<-o?s.OUTSIDE:u<o?s.INTERSECTING:s.INSIDE},d.transform=function(e,t,n){return r.typeOf.object("sphere",e),r.typeOf.object("transform",t),i(n)||(n=new d),n.center=h.multiplyByPoint(t,e.center,n.center),n.radius=h.getMaximumScale(t)*e.radius,n};var j=new e;d.distanceSquaredTo=function(t,n){r.typeOf.object("sphere",t),r.typeOf.object("cartesian",n);var i=e.subtract(t.center,n,j);return e.magnitudeSquared(i)-t.radius*t.radius},d.transformWithoutScale=function(e,t,n){return r.typeOf.object("sphere",e),r.typeOf.object("transform",t),i(n)||(n=new d),n.center=h.multiplyByPoint(t,e.center,n.center),n.radius=e.radius,n};var z=new e;d.computePlaneDistances=function(t,n,o,a){r.typeOf.object("sphere",t),r.typeOf.object("position",n),r.typeOf.object("direction",o),i(a)||(a=new u);var s=e.subtract(t.center,n,z),l=e.dot(o,s);return a.start=l-t.radius,a.stop=l+t.radius,a};for(var G=new e,k=new e,H=new e,V=new e,W=new e,Y=new t,X=new Array(8),Z=0;Z<8;++Z)X[Z]=new e;var K=new a;return d.projectTo2D=function(t,i,o){r.typeOf.object("sphere",t),i=n(i,K);var a=i.ellipsoid,s=t.center,u=t.radius,l=a.geodeticSurfaceNormal(s,G),c=e.cross(e.UNIT_Z,l,k);e.normalize(c,c);var h=e.cross(l,c,H);e.normalize(h,h),e.multiplyByScalar(l,u,l),e.multiplyByScalar(h,u,h),e.multiplyByScalar(c,u,c);var f=e.negate(h,W),p=e.negate(c,V),m=X,y=m[0];e.add(l,h,y),e.add(y,c,y),y=m[1],e.add(l,h,y),e.add(y,p,y),y=m[2],e.add(l,f,y),e.add(y,p,y),y=m[3],e.add(l,f,y),e.add(y,c,y),e.negate(l,l),y=m[4],e.add(l,h,y),e.add(y,c,y),y=m[5],e.add(l,h,y),e.add(y,p,y),y=m[6],e.add(l,f,y),e.add(y,p,y),y=m[7],e.add(l,f,y),e.add(y,c,y);for(var g=m.length,E=0;E<g;++E){var _=m[E];e.add(s,_,_);var v=a.cartesianToCartographic(_,Y);i.project(v,_)}o=d.fromPoints(m,o),s=o.center;var w=s.x,T=s.y,O=s.z;return s.x=O,s.y=w,s.z=T,o},d.isOccluded=function(e,t){return r.typeOf.object("sphere",e),r.typeOf.object("occluder",t),!t.isBoundingSphereVisible(e)},d.equals=function(t,r){return t===r||i(t)&&i(r)&&e.equals(t.center,r.center)&&t.radius===r.radius},d.prototype.intersectPlane=function(e){return d.intersectPlane(this,e)},d.prototype.distanceSquaredTo=function(e){return d.distanceSquaredTo(this,e)},d.prototype.computePlaneDistances=function(e,t,r){return d.computePlaneDistances(this,e,t,r)},d.prototype.isOccluded=function(e){return d.isOccluded(this,e)},d.prototype.equals=function(e){return d.equals(this,e)},d.prototype.clone=function(e){return d.clone(this,e)},d.prototype.volume=function(){var e=this.radius;return C*e*e*e},d}),r("Core/Cartesian2",["./Check","./defaultValue","./defined","./DeveloperError","./freezeObject","./Math"],function(e,t,r,n,i,o){"use strict";function a(e,r){this.x=t(e,0),this.y=t(r,0)}a.fromElements=function(e,t,n){return r(n)?(n.x=e,n.y=t,n):new a(e,t)},a.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t):new a(e.x,e.y)},a.fromCartesian3=a.clone,a.fromCartesian4=a.clone,a.packedLength=2,a.pack=function(r,n,i){return e.typeOf.object("value",r),e.defined("array",n),i=t(i,0),n[i++]=r.x,n[i]=r.y,n},a.unpack=function(n,i,o){return e.defined("array",n),i=t(i,0),r(o)||(o=new a),o.x=n[i++],o.y=n[i],o},a.packArray=function(t,n){e.defined("array",t);var i=t.length;r(n)?n.length=2*i:n=new Array(2*i);for(var o=0;o<i;++o)a.pack(t[o],n,2*o);return n},a.unpackArray=function(t,n){e.defined("array",t);var i=t.length;r(n)?n.length=i/2:n=new Array(i/2);for(var o=0;o<i;o+=2){var s=o/2;n[s]=a.unpack(t,o,n[s])}return n},a.fromArray=a.unpack,a.maximumComponent=function(t){return e.typeOf.object("cartesian",t),Math.max(t.x,t.y)},a.minimumComponent=function(t){return e.typeOf.object("cartesian",t),Math.min(t.x,t.y)},a.minimumByComponent=function(t,r,n){return e.typeOf.object("first",t),e.typeOf.object("second",r),e.typeOf.object("result",n),n.x=Math.min(t.x,r.x),n.y=Math.min(t.y,r.y),n},a.maximumByComponent=function(t,r,n){return e.typeOf.object("first",t),e.typeOf.object("second",r),e.typeOf.object("result",n),n.x=Math.max(t.x,r.x),n.y=Math.max(t.y,r.y),n},a.magnitudeSquared=function(t){return e.typeOf.object("cartesian",t),t.x*t.x+t.y*t.y},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var s=new a;a.distance=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),a.subtract(t,r,s),a.magnitude(s)},a.distanceSquared=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),a.subtract(t,r,s),a.magnitudeSquared(s)},a.normalize=function(t,r){e.typeOf.object("cartesian",t),e.typeOf.object("result",r);var i=a.magnitude(t);if(r.x=t.x/i,r.y=t.y/i,isNaN(r.x)||isNaN(r.y))throw new n("normalized result is not a number");return r},a.dot=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),t.x*r.x+t.y*r.y},a.multiplyComponents=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x*r.x,n.y=t.y*r.y,n},a.divideComponents=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x/r.x,n.y=t.y/r.y,n},a.add=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x+r.x,n.y=t.y+r.y,n},a.subtract=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.x=t.x-r.x,n.y=t.y-r.y,n},a.multiplyByScalar=function(t,r,n){return e.typeOf.object("cartesian",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.x=t.x*r,n.y=t.y*r,n},a.divideByScalar=function(t,r,n){return e.typeOf.object("cartesian",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.x=t.x/r,n.y=t.y/r,n},a.negate=function(t,r){return e.typeOf.object("cartesian",t),e.typeOf.object("result",r),r.x=-t.x,r.y=-t.y,r},a.abs=function(t,r){return e.typeOf.object("cartesian",t),e.typeOf.object("result",r),r.x=Math.abs(t.x),r.y=Math.abs(t.y),r};var u=new a;a.lerp=function(t,r,n,i){return e.typeOf.object("start",t),e.typeOf.object("end",r),e.typeOf.number("t",n),e.typeOf.object("result",i),a.multiplyByScalar(r,n,u),i=a.multiplyByScalar(t,1-n,i),a.add(u,i,i)};var l=new a,c=new a;a.angleBetween=function(t,r){return e.typeOf.object("left",t),e.typeOf.object("right",r),a.normalize(t,l),a.normalize(r,c),o.acosClamped(a.dot(l,c))};var h=new a;return a.mostOrthogonalAxis=function(t,r){e.typeOf.object("cartesian",t),e.typeOf.object("result",r);var n=a.normalize(t,h);return a.abs(n,n),r=n.x<=n.y?a.clone(a.UNIT_X,r):a.clone(a.UNIT_Y,r)},a.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y},a.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]},a.equalsEpsilon=function(e,t,n,i){return e===t||r(e)&&r(t)&&o.equalsEpsilon(e.x,t.x,n,i)&&o.equalsEpsilon(e.y,t.y,n,i)},a.ZERO=i(new a(0,0)),a.UNIT_X=i(new a(1,0)),a.UNIT_Y=i(new a(0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,r){return a.equalsEpsilon(this,e,t,r)},a.prototype.toString=function(){return"("+this.x+", "+this.y+")"},a}),r("Core/GeographicTilingScheme",["./Cartesian2","./Check","./defaultValue","./defined","./defineProperties","./Ellipsoid","./GeographicProjection","./Math","./Rectangle"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(e){e=r(e,{}),this._ellipsoid=r(e.ellipsoid,o.WGS84),this._rectangle=r(e.rectangle,u.MAX_VALUE),this._projection=new a(this._ellipsoid),this._numberOfLevelZeroTilesX=r(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=r(e.numberOfLevelZeroTilesY,1)}return i(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),l.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},l.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},l.prototype.rectangleToNativeRectangle=function(e,r){t.defined("rectangle",e);var i=s.toDegrees(e.west),o=s.toDegrees(e.south),a=s.toDegrees(e.east),l=s.toDegrees(e.north);return n(r)?(r.west=i,r.south=o,r.east=a,r.north=l,r):new u(i,o,a,l)},l.prototype.tileXYToNativeRectangle=function(e,t,r,n){var i=this.tileXYToRectangle(e,t,r,n);return i.west=s.toDegrees(i.west),i.south=s.toDegrees(i.south),i.east=s.toDegrees(i.east),i.north=s.toDegrees(i.north),i},l.prototype.tileXYToRectangle=function(e,t,r,i){var o=this._rectangle,a=this.getNumberOfXTilesAtLevel(r),s=this.getNumberOfYTilesAtLevel(r),l=o.width/a,c=e*l+o.west,h=(e+1)*l+o.west,f=o.height/s,d=o.north-t*f,p=o.north-(t+1)*f;return n(i)||(i=new u(c,p,h,d)),i.west=c,i.south=p,i.east=h,i.north=d,i},l.prototype.positionToTileXY=function(t,r,i){var o=this._rectangle;if(u.contains(o,t)){var a=this.getNumberOfXTilesAtLevel(r),l=this.getNumberOfYTilesAtLevel(r),c=o.width/a,h=o.height/l,f=t.longitude;o.east<o.west&&(f+=s.TWO_PI);var d=(f-o.west)/c|0;d>=a&&(d=a-1);var p=(o.north-t.latitude)/h|0;return p>=l&&(p=l-1),n(i)?(i.x=d,i.y=p,i):new e(d,p)}},l}),r("Core/ApproximateTerrainHeights",["./buildModuleUrl","./defaultValue","./defined","./defineProperties","./BoundingSphere","./Cartesian2","./Cartesian3","./Cartographic","./Check","./DeveloperError","./Ellipsoid","./GeographicTilingScheme","./Rectangle","./Resource"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d){"use strict";function p(e){s.fromRadians(e.east,e.north,0,T[0]),s.fromRadians(e.west,e.north,0,T[1]),s.fromRadians(e.east,e.south,0,T[2]),s.fromRadians(e.west,e.south,0,T[3]);var t,r=0,n=0,i=0,o=0,a=S._terrainHeightsMaxLevel;for(t=0;t<=a;++t){for(var u=!1,l=0;l<4;++l){var c=T[l];if(w.positionToTileXY(c,t,O),0===l)i=O.x,o=O.y;else if(i!==O.x||o!==O.y){u=!0;break}}if(u)break;r=i,n=o}if(0!==t)return{x:r,y:n,level:t>a?a:t-1}}
var m=new a,y=new a,g=new s,E=new a,_=new a,v=new i,w=new h,T=[new s,new s,new s,new s],O=new o,S={};return S.initialize=function(){var t=S._initPromise;return r(t)?t:(t=d.fetchJson(e("Assets/approximateTerrainHeights.json")).then(function(e){S._terrainHeights=e}),S._initPromise=t,t)},S.getMinimumMaximumHeights=function(e,n){if(u.defined("rectangle",e),!r(S._terrainHeights))throw new l("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");n=t(n,c.WGS84);var i=p(e),o=S._defaultMinTerrainHeight,s=S._defaultMaxTerrainHeight;if(r(i)){var h=i.level+"-"+i.x+"-"+i.y,d=S._terrainHeights[h];r(d)&&(o=d[0],s=d[1]),n.cartographicToCartesian(f.northeast(e,g),m),n.cartographicToCartesian(f.southwest(e,g),y),a.midpoint(y,m,E);var v=n.scaleToGeodeticSurface(E,_);if(r(v)){var w=a.distance(E,v);o=Math.min(o,-w)}else o=S._defaultMinTerrainHeight}return o=Math.max(S._defaultMinTerrainHeight,o),{minimumTerrainHeight:o,maximumTerrainHeight:s}},S.getBoundingSphere=function(e,n){if(u.defined("rectangle",e),!r(S._terrainHeights))throw new l("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");n=t(n,c.WGS84);var o=p(e),a=S._defaultMaxTerrainHeight;if(r(o)){var s=o.level+"-"+o.x+"-"+o.y,h=S._terrainHeights[s];r(h)&&(a=h[1])}var f=i.fromRectangle3D(e,n,0);return i.fromRectangle3D(e,n,a,v),i.union(f,v,f)},S._terrainHeightsMaxLevel=6,S._defaultMaxTerrainHeight=9e3,S._defaultMinTerrainHeight=-1e5,S._terrainHeights=void 0,S._initPromise=void 0,n(S,{initialized:{get:function(){return r(S._terrainHeights)}}}),S}),r("Core/ArcType",["./freezeObject"],function(e){"use strict";return e({NONE:0,GEODESIC:1,RHUMB:2})}),r("Core/AssociativeArray",["./defined","./defineProperties","./DeveloperError"],function(e,t,r){"use strict";function n(){this._array=[],this._hash={}}return t(n.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}}),n.prototype.contains=function(t){if("string"!=typeof t&&"number"!=typeof t)throw new r("key is required to be a string or number.");return e(this._hash[t])},n.prototype.set=function(e,t){if("string"!=typeof e&&"number"!=typeof e)throw new r("key is required to be a string or number.");t!==this._hash[e]&&(this.remove(e),this._hash[e]=t,this._array.push(t))},n.prototype.get=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new r("key is required to be a string or number.");return this._hash[e]},n.prototype.remove=function(t){if(e(t)&&"string"!=typeof t&&"number"!=typeof t)throw new r("key is required to be a string or number.");var n=this._hash[t],i=e(n);if(i){var o=this._array;o.splice(o.indexOf(n),1),delete this._hash[t]}return i},n.prototype.removeAll=function(){var e=this._array;e.length>0&&(this._hash={},e.length=0)},n}),r("Core/AttributeCompression",["./Cartesian2","./Cartesian3","./Check","./defined","./DeveloperError","./Math"],function(e,t,r,n,i,o){"use strict";function a(e){return c[0]=e,c[0]}function s(e){return e>>1^-(1&e)}var u={};u.octEncodeInRange=function(e,n,a){r.defined("vector",e),r.defined("result",a);var s=t.magnitudeSquared(e);if(Math.abs(s-1)>o.EPSILON6)throw new i("vector must be normalized.");if(a.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),a.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var u=a.x,l=a.y;a.x=(1-Math.abs(l))*o.signNotZero(u),a.y=(1-Math.abs(u))*o.signNotZero(l)}return a.x=o.toSNorm(a.x,n),a.y=o.toSNorm(a.y,n),a},u.octEncode=function(e,t){return u.octEncodeInRange(e,255,t)};var l=new e,c=new Uint8Array(1);u.octEncodeToCartesian4=function(e,t){return u.octEncodeInRange(e,65535,l),t.x=a(l.x*(1/256)),t.y=a(l.x),t.z=a(l.y*(1/256)),t.w=a(l.y),t},u.octDecodeInRange=function(e,n,a,s){if(r.defined("result",s),e<0||e>a||n<0||n>a)throw new i("x and y must be unsigned normalized integers between 0 and "+a);if(s.x=o.fromSNorm(e,a),s.y=o.fromSNorm(n,a),s.z=1-(Math.abs(s.x)+Math.abs(s.y)),s.z<0){var u=s.x;s.x=(1-Math.abs(s.y))*o.signNotZero(u),s.y=(1-Math.abs(u))*o.signNotZero(s.y)}return t.normalize(s,s)},u.octDecode=function(e,t,r){return u.octDecodeInRange(e,t,255,r)},u.octDecodeFromCartesian4=function(e,t){r.typeOf.object("encoded",e),r.typeOf.object("result",t);var n=e.x,o=e.y,a=e.z,s=e.w;if(n<0||n>255||o<0||o>255||a<0||a>255||s<0||s>255)throw new i("x, y, z, and w must be unsigned normalized integers between 0 and 255");var l=256*n+o,c=256*a+s;return u.octDecodeInRange(l,c,65535,t)},u.octPackFloat=function(e){return r.defined("encoded",e),256*e.x+e.y};var h=new e;return u.octEncodeFloat=function(e){return u.octEncode(e,h),u.octPackFloat(h)},u.octDecodeFloat=function(e,t){r.defined("value",e);var n=e/256,i=Math.floor(n),o=256*(n-i);return u.octDecode(i,o,t)},u.octPack=function(e,t,n,i){r.defined("v1",e),r.defined("v2",t),r.defined("v3",n),r.defined("result",i);var o=u.octEncodeFloat(e),a=u.octEncodeFloat(t),s=u.octEncode(n,h);return i.x=65536*s.x+o,i.y=65536*s.y+a,i},u.octUnpack=function(e,t,n,i){r.defined("packed",e),r.defined("v1",t),r.defined("v2",n),r.defined("v3",i);var o=e.x/65536,a=Math.floor(o),s=65536*(o-a);o=e.y/65536;var l=Math.floor(o),c=65536*(o-l);u.octDecodeFloat(s,t),u.octDecodeFloat(c,n),u.octDecode(a,l,i)},u.compressTextureCoordinates=function(e){return r.defined("textureCoordinates",e),4096*(4095*e.x|0)+(4095*e.y|0)},u.decompressTextureCoordinates=function(e,t){r.defined("compressed",e),r.defined("result",t);var n=e/4096,i=Math.floor(n);return t.x=i/4095,t.y=(e-4096*i)/4095,t},u.zigZagDeltaDecode=function(e,t,i){r.defined("uBuffer",e),r.defined("vBuffer",t),r.typeOf.number.equals("uBuffer.length","vBuffer.length",e.length,t.length),n(i)&&r.typeOf.number.equals("uBuffer.length","heightBuffer.length",e.length,i.length);for(var o=e.length,a=0,u=0,l=0,c=0;c<o;++c)a+=s(e[c]),u+=s(t[c]),e[c]=a,t[c]=u,n(i)&&(l+=s(i[c]),i[c]=l)},u}),r("Core/AxisAlignedBoundingBox",["./Cartesian3","./Check","./defaultValue","./defined","./Intersect"],function(e,t,r,n,i){"use strict";function o(t,i,o){this.minimum=e.clone(r(t,e.ZERO)),this.maximum=e.clone(r(i,e.ZERO)),o=n(o)?e.clone(o):e.midpoint(this.minimum,this.maximum,new e),this.center=o}o.fromPoints=function(t,r){if(n(r)||(r=new o),!n(t)||0===t.length)return r.minimum=e.clone(e.ZERO,r.minimum),r.maximum=e.clone(e.ZERO,r.maximum),r.center=e.clone(e.ZERO,r.center),r;for(var i=t[0].x,a=t[0].y,s=t[0].z,u=t[0].x,l=t[0].y,c=t[0].z,h=t.length,f=1;f<h;f++){var d=t[f],p=d.x,m=d.y,y=d.z;i=Math.min(p,i),u=Math.max(p,u),a=Math.min(m,a),l=Math.max(m,l),s=Math.min(y,s),c=Math.max(y,c)}var g=r.minimum;g.x=i,g.y=a,g.z=s;var E=r.maximum;return E.x=u,E.y=l,E.z=c,r.center=e.midpoint(g,E,r.center),r},o.clone=function(t,r){if(n(t))return n(r)?(r.minimum=e.clone(t.minimum,r.minimum),r.maximum=e.clone(t.maximum,r.maximum),r.center=e.clone(t.center,r.center),r):new o(t.minimum,t.maximum,t.center)},o.equals=function(t,r){return t===r||n(t)&&n(r)&&e.equals(t.center,r.center)&&e.equals(t.minimum,r.minimum)&&e.equals(t.maximum,r.maximum)};var a=new e;return o.intersectPlane=function(r,n){t.defined("box",r),t.defined("plane",n),a=e.subtract(r.maximum,r.minimum,a);var o=e.multiplyByScalar(a,.5,a),s=n.normal,u=o.x*Math.abs(s.x)+o.y*Math.abs(s.y)+o.z*Math.abs(s.z),l=e.dot(r.center,s)+n.distance;return l-u>0?i.INSIDE:l+u<0?i.OUTSIDE:i.INTERSECTING},o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.intersectPlane=function(e){return o.intersectPlane(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o}),r("Core/BoundingRectangle",["./Cartesian2","./Cartographic","./Check","./defaultValue","./defined","./GeographicProjection","./Intersect","./Rectangle"],function(e,t,r,n,i,o,a,s){"use strict";function u(e,t,r,i){this.x=n(e,0),this.y=n(t,0),this.width=n(r,0),this.height=n(i,0)}u.packedLength=4,u.pack=function(e,t,i){return r.typeOf.object("value",e),r.defined("array",t),i=n(i,0),t[i++]=e.x,t[i++]=e.y,t[i++]=e.width,t[i]=e.height,t},u.unpack=function(e,t,o){return r.defined("array",e),t=n(t,0),i(o)||(o=new u),o.x=e[t++],o.y=e[t++],o.width=e[t++],o.height=e[t],o},u.fromPoints=function(e,t){if(i(t)||(t=new u),!i(e)||0===e.length)return t.x=0,t.y=0,t.width=0,t.height=0,t;for(var r=e.length,n=e[0].x,o=e[0].y,a=e[0].x,s=e[0].y,l=1;l<r;l++){var c=e[l],h=c.x,f=c.y;n=Math.min(h,n),a=Math.max(h,a),o=Math.min(f,o),s=Math.max(f,s)}return t.x=n,t.y=o,t.width=a-n,t.height=s-o,t};var l=new o,c=new t,h=new t;return u.fromRectangle=function(t,r,o){if(i(o)||(o=new u),!i(t))return o.x=0,o.y=0,o.width=0,o.height=0,o;r=n(r,l);var a=r.project(s.southwest(t,c)),f=r.project(s.northeast(t,h));return e.subtract(f,a,f),o.x=a.x,o.y=a.y,o.width=f.x,o.height=f.y,o},u.clone=function(e,t){if(i(e))return i(t)?(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t):new u(e.x,e.y,e.width,e.height)},u.union=function(e,t,n){r.typeOf.object("left",e),r.typeOf.object("right",t),i(n)||(n=new u);var o=Math.min(e.x,t.x),a=Math.min(e.y,t.y),s=Math.max(e.x+e.width,t.x+t.width),l=Math.max(e.y+e.height,t.y+t.height);return n.x=o,n.y=a,n.width=s-o,n.height=l-a,n},u.expand=function(e,t,n){r.typeOf.object("rectangle",e),r.typeOf.object("point",t),n=u.clone(e,n);var i=t.x-n.x,o=t.y-n.y;return i>n.width?n.width=i:i<0&&(n.width-=i,n.x=t.x),o>n.height?n.height=o:o<0&&(n.height-=o,n.y=t.y),n},u.intersect=function(e,t){r.typeOf.object("left",e),r.typeOf.object("right",t);var n=e.x,i=e.y,o=t.x,s=t.y;return n>o+t.width||n+e.width<o||i+e.height<s||i>s+t.height?a.OUTSIDE:a.INTERSECTING},u.equals=function(e,t){return e===t||i(e)&&i(t)&&e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.intersect=function(e){return u.intersect(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u}),r("Core/CartographicGeocoderService",["../ThirdParty/when","./Cartesian3","./Check"],function(e,t,r){"use strict";function n(){}return n.prototype.geocode=function(n){r.typeOf.string("query",n);var i=n.match(/[^\s,\n]+/g);if(2===i.length||3===i.length){var o=+i[0],a=+i[1],s=3===i.length?+i[2]:300;if(isNaN(o)&&isNaN(a))for(var u=/^(\d+.?\d*)([nsew])/i,l=0;l<i.length;++l){var c=i[l].match(u);u.test(i[l])&&3===c.length&&(/^[ns]/i.test(c[2])?a=/^[n]/i.test(c[2])?+c[1]:-c[1]:/^[ew]/i.test(c[2])&&(o=/^[e]/i.test(c[2])?+c[1]:-c[1]))}if(!isNaN(o)&&!isNaN(a)&&!isNaN(s)){var h={displayName:n,destination:t.fromDegrees(o,a,s)};return e.resolve([h])}}return e.resolve([])},n}),r("Core/Spline",["./Check","./defaultValue","./defined","./DeveloperError","./Math"],function(e,t,r,n,i){"use strict";function o(){this.times=void 0,this.points=void 0,n.throwInstantiationError()}return o.prototype.evaluate=n.throwInstantiationError,o.prototype.findTimeInterval=function(e,i){var o=this.times,a=o.length;if(!r(e))throw new n("time is required.");if(e<o[0]||e>o[a-1])throw new n("time is out of range.");if(i=t(i,0),e>=o[i]){if(i+1<a&&e<o[i+1])return i;if(i+2<a&&e<o[i+2])return i+1}else if(i-1>=0&&e>=o[i-1])return i-1;var s;if(e>o[i])for(s=i;s<a-1&&!(e>=o[s]&&e<o[s+1]);++s);else for(s=i-1;s>=0&&!(e>=o[s]&&e<o[s+1]);--s);return s===a-1&&(s=a-2),s},o.prototype.wrapTime=function(t){e.typeOf.number("time",t);var r,n=this.times,i=n[n.length-1],o=n[0],a=i-o;return t<o&&(r=Math.floor((o-t)/a)+1,t+=r*a),t>i&&(r=Math.floor((t-i)/a)+1,t-=r*a),t},o.prototype.clampTime=function(t){e.typeOf.number("time",t);var r=this.times;return i.clamp(t,r[0],r[r.length-1])},o}),r("Core/LinearSpline",["./Cartesian3","./defaultValue","./defined","./defineProperties","./DeveloperError","./Spline"],function(e,t,r,n,i,o){"use strict";function a(e){e=t(e,t.EMPTY_OBJECT);var n=e.points,o=e.times;if(!r(n)||!r(o))throw new i("points and times are required.");if(n.length<2)throw new i("points.length must be greater than or equal to 2.");if(o.length!==n.length)throw new i("times.length must be equal to points.length.");this._times=o,this._points=n,this._lastTimeIndex=0}return n(a.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),a.prototype.findTimeInterval=o.prototype.findTimeInterval,a.prototype.wrapTime=o.prototype.wrapTime,a.prototype.clampTime=o.prototype.clampTime,a.prototype.evaluate=function(t,n){var i=this.points,o=this.times,a=this._lastTimeIndex=this.findTimeInterval(t,this._lastTimeIndex),s=(t-o[a])/(o[a+1]-o[a]);return r(n)||(n=new e),e.lerp(i[a],i[a+1],s,n)},a}),r("Core/TridiagonalSystemSolver",["./Cartesian3","./defined","./DeveloperError"],function(e,t,r){"use strict";var n={};return n.solve=function(n,i,o,a){if(!(t(n)&&n instanceof Array))throw new r("The array lower is required.");if(!(t(i)&&i instanceof Array))throw new r("The array diagonal is required.");if(!(t(o)&&o instanceof Array))throw new r("The array upper is required.");if(!(t(a)&&a instanceof Array))throw new r("The array right is required.");if(i.length!==a.length)throw new r("diagonal and right must have the same lengths.");if(n.length!==o.length)throw new r("lower and upper must have the same lengths.");if(n.length!==i.length-1)throw new r("lower and upper must be one less than the length of diagonal.");var s,u=new Array(o.length),l=new Array(a.length),c=new Array(a.length);for(s=0;s<l.length;s++)l[s]=new e,c[s]=new e;u[0]=o[0]/i[0],l[0]=e.multiplyByScalar(a[0],1/i[0],l[0]);var h;for(s=1;s<u.length;++s)h=1/(i[s]-u[s-1]*n[s-1]),u[s]=o[s]*h,l[s]=e.subtract(a[s],e.multiplyByScalar(l[s-1],n[s-1],l[s]),l[s]),l[s]=e.multiplyByScalar(l[s],h,l[s]);for(h=1/(i[s]-u[s-1]*n[s-1]),l[s]=e.subtract(a[s],e.multiplyByScalar(l[s-1],n[s-1],l[s]),l[s]),l[s]=e.multiplyByScalar(l[s],h,l[s]),c[c.length-1]=l[l.length-1],s=c.length-2;s>=0;--s)c[s]=e.subtract(l[s],e.multiplyByScalar(c[s+1],u[s],c[s]),c[s]);return c},n}),r("Core/HermiteSpline",["./Cartesian3","./Cartesian4","./defaultValue","./defined","./defineProperties","./DeveloperError","./LinearSpline","./Matrix4","./Spline","./TridiagonalSystemSolver"],function(e,t,r,n,i,o,a,s,u,l){"use strict";function c(t,r,i){var o=d,a=m,s=p,u=y;o.length=a.length=t.length-1,s.length=u.length=t.length;var c;o[0]=s[0]=1,a[0]=0;var h=u[0];for(n(h)||(h=u[0]=new e),e.clone(r,h),c=1;c<o.length-1;++c)o[c]=a[c]=1,s[c]=4,h=u[c],n(h)||(h=u[c]=new e),e.subtract(t[c+1],t[c-1],h),e.multiplyByScalar(h,3,h);return o[c]=0,a[c]=1,s[c]=4,h=u[c],n(h)||(h=u[c]=new e),e.subtract(t[c+1],t[c-1],h),e.multiplyByScalar(h,3,h),s[c+1]=1,h=u[c+1],n(h)||(h=u[c+1]=new e),e.clone(i,h),l.solve(o,s,a,u)}function h(t){var r=d,i=m,o=p,a=y;r.length=i.length=t.length-1,o.length=a.length=t.length;var s;r[0]=i[0]=1,o[0]=2;var u=a[0];for(n(u)||(u=a[0]=new e),e.subtract(t[1],t[0],u),e.multiplyByScalar(u,3,u),s=1;s<r.length;++s)r[s]=i[s]=1,o[s]=4,u=a[s],n(u)||(u=a[s]=new e),e.subtract(t[s+1],t[s-1],u),e.multiplyByScalar(u,3,u);return o[s]=2,u=a[s],n(u)||(u=a[s]=new e),e.subtract(t[s],t[s-1],u),e.multiplyByScalar(u,3,u),l.solve(r,o,i,a)}function f(e){e=r(e,r.EMPTY_OBJECT);var t=e.points,i=e.times,a=e.inTangents,s=e.outTangents;if(!(n(t)&&n(i)&&n(a)&&n(s)))throw new o("times, points, inTangents, and outTangents are required.");if(t.length<2)throw new o("points.length must be greater than or equal to 2.");if(i.length!==t.length)throw new o("times.length must be equal to points.length.");if(a.length!==s.length||a.length!==t.length-1)throw new o("inTangents and outTangents must have a length equal to points.length - 1.");this._times=i,this._points=t,this._inTangents=a,this._outTangents=s,this._lastTimeIndex=0}var d=[],p=[],m=[],y=[];i(f.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},inTangents:{get:function(){return this._inTangents}},outTangents:{get:function(){return this._outTangents}}}),f.createC1=function(e){e=r(e,r.EMPTY_OBJECT);var t=e.times,i=e.points,a=e.tangents;if(!n(i)||!n(t)||!n(a))throw new o("points, times and tangents are required.");if(i.length<2)throw new o("points.length must be greater than or equal to 2.");if(t.length!==i.length||t.length!==a.length)throw new o("times, points and tangents must have the same length.");var s=a.slice(0,a.length-1);return new f({times:t,points:i,inTangents:a.slice(1,a.length),outTangents:s})},f.createNaturalCubic=function(e){e=r(e,r.EMPTY_OBJECT);var t=e.times,i=e.points;if(!n(i)||!n(t))throw new o("points and times are required.");if(i.length<2)throw new o("points.length must be greater than or equal to 2.");if(t.length!==i.length)throw new o("times.length must be equal to points.length.");if(i.length<3)return new a({points:i,times:t});var s=h(i),u=s.slice(0,s.length-1);return new f({times:t,points:i,inTangents:s.slice(1,s.length),outTangents:u})},f.createClampedCubic=function(e){e=r(e,r.EMPTY_OBJECT);var t=e.times,i=e.points,s=e.firstTangent,u=e.lastTangent;if(!(n(i)&&n(t)&&n(s)&&n(u)))throw new o("points, times, firstTangent and lastTangent are required.");if(i.length<2)throw new o("points.length must be greater than or equal to 2.");if(t.length!==i.length)throw new o("times.length must be equal to points.length.");if(i.length<3)return new a({points:i,times:t});var l=c(i,s,u),h=l.slice(0,l.length-1);return new f({times:t,points:i,inTangents:l.slice(1,l.length),outTangents:h})},f.hermiteCoefficientMatrix=new s(2,-3,0,1,-2,3,0,0,1,-2,1,0,1,-1,0,0),f.prototype.findTimeInterval=u.prototype.findTimeInterval;var g=new t,E=new e;return f.prototype.wrapTime=u.prototype.wrapTime,f.prototype.clampTime=u.prototype.clampTime,f.prototype.evaluate=function(t,r){n(r)||(r=new e);var i=this.points,o=this.times,a=this.inTangents,u=this.outTangents,l=this._lastTimeIndex=this.findTimeInterval(t,this._lastTimeIndex),c=(t-o[l])/(o[l+1]-o[l]),h=g;h.z=c,h.y=c*c,h.x=h.y*c,h.w=1;var d=s.multiplyByVector(f.hermiteCoefficientMatrix,h,h);return r=e.multiplyByScalar(i[l],d.x,r),e.multiplyByScalar(i[l+1],d.y,E),e.add(r,E,r),e.multiplyByScalar(u[l],d.z,E),e.add(r,E,r),e.multiplyByScalar(a[l],d.w,E),e.add(r,E,r)},f}),r("Core/CatmullRomSpline",["./Cartesian3","./Cartesian4","./Check","./defaultValue","./defined","./defineProperties","./HermiteSpline","./Matrix4","./Spline"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(t){var r=t.points,n=t.times;if(r.length<3){var o=n[0],u=1/(n[1]-o),l=r[0],p=r[1];return function(t,r){i(r)||(r=new e);var n=(t-o)*u;return e.lerp(l,p,n,r)}}return function(o,u){i(u)||(u=new e);var l=t._lastTimeIndex=t.findTimeInterval(o,t._lastTimeIndex),p=(o-n[l])/(n[l+1]-n[l]),m=h;m.z=p,m.y=p*p,m.x=m.y*p,m.w=1;var y,g,E,_,v;return 0===l?(y=r[0],g=r[1],E=t.firstTangent,_=e.subtract(r[2],y,f),e.multiplyByScalar(_,.5,_),v=s.multiplyByVector(a.hermiteCoefficientMatrix,m,m)):l===r.length-2?(y=r[l],g=r[l+1],_=t.lastTangent,E=e.subtract(g,r[l-1],f),e.multiplyByScalar(E,.5,E),v=s.multiplyByVector(a.hermiteCoefficientMatrix,m,m)):(y=r[l-1],g=r[l],E=r[l+1],_=r[l+2],v=s.multiplyByVector(c.catmullRomCoefficientMatrix,m,m)),u=e.multiplyByScalar(y,v.x,u),e.multiplyByScalar(g,v.y,d),e.add(u,d,u),e.multiplyByScalar(E,v.z,d),e.add(u,d,u),e.multiplyByScalar(_,v.w,d),e.add(u,d,u)}}function c(t){t=n(t,n.EMPTY_OBJECT);var o=t.points,a=t.times,s=t.firstTangent,u=t.lastTangent;if(r.defined("points",o),r.defined("times",a),r.typeOf.number.greaterThanOrEquals("points.length",o.length,2),r.typeOf.number.equals("times.length","points.length",a.length,o.length),o.length>2&&(i(s)||(s=p,e.multiplyByScalar(o[1],2,s),e.subtract(s,o[2],s),e.subtract(s,o[0],s),e.multiplyByScalar(s,.5,s)),!i(u))){var c=o.length-1;u=m,e.multiplyByScalar(o[c-1],2,u),e.subtract(o[c],u,u),e.add(u,o[c-2],u),e.multiplyByScalar(u,.5,u)}this._times=a,this._points=o,this._firstTangent=e.clone(s),this._lastTangent=e.clone(u),this._evaluateFunction=l(this),this._lastTimeIndex=0}var h=new t,f=new e,d=new e,p=new e,m=new e;return o(c.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},firstTangent:{get:function(){return this._firstTangent}},lastTangent:{get:function(){return this._lastTangent}}}),c.catmullRomCoefficientMatrix=new s(-.5,1,-.5,0,1.5,-2.5,0,1,-1.5,2,.5,0,.5,-.5,0,0),c.prototype.findTimeInterval=u.prototype.findTimeInterval,c.prototype.wrapTime=u.prototype.wrapTime,c.prototype.clampTime=u.prototype.clampTime,c.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)},c}),function(e,t){"function"==typeof r&&r.amd?r("ThirdParty/purify",t):e.DOMPurify=t()}(this,function(){"use strict";function e(e,t){for(var r=t.length;r--;)"string"==typeof t[r]&&(t[r]=t[r].toLowerCase()),e[t[r]]=!0;return e}function t(e){var t={},r=void 0;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),O=function(e){return n(e)};if(O.version="1.0.8",O.removed=[],!T||!T.document||9!==T.document.nodeType)return O.isSupported=!1,O;var S=T.document,b=!1,C=!1,R=T.document,I=T.DocumentFragment,A=T.HTMLTemplateElement,M=T.Node,x=T.NodeFilter,N=T.NamedNodeMap,P=void 0===N?T.NamedNodeMap||T.MozNamedAttrMap:N,D=T.Text,L=T.Comment,U=T.DOMParser;if("function"==typeof A){var q=R.createElement("template");q.content&&q.content.ownerDocument&&(R=q.content.ownerDocument)}var B=R,F=B.implementation,j=B.createNodeIterator,z=B.getElementsByTagName,G=B.createDocumentFragment,k=S.importNode,H={};O.isSupported=F&&void 0!==F.createHTMLDocument&&9!==R.documentMode;var V=d,W=p,Y=m,X=y,Z=E,K=_,Q=g,J=null,$=e({},[].concat(r(i),r(o),r(a),r(s),r(u))),ee=null,te=e({},[].concat(r(l),r(c),r(h),r(f))),re=null,ne=null,ie=!0,oe=!0,ae=!1,se=!1,ue=!1,le=!1,ce=!1,he=!1,fe=!1,de=!1,pe=!1,me=!0,ye=!0,ge=!1,Ee={},_e=e({},["audio","head","math","script","style","template","svg","video"]),ve=e({},["audio","video","img","source","image"]),we=e({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Te=null,Oe=R.createElement("form"),Se=function(n){"object"!==(void 0===n?"undefined":v(n))&&(n={}),J="ALLOWED_TAGS"in n?e({},n.ALLOWED_TAGS):$,ee="ALLOWED_ATTR"in n?e({},n.ALLOWED_ATTR):te,re="FORBID_TAGS"in n?e({},n.FORBID_TAGS):{},ne="FORBID_ATTR"in n?e({},n.FORBID_ATTR):{},Ee="USE_PROFILES"in n&&n.USE_PROFILES,ie=!1!==n.ALLOW_ARIA_ATTR,oe=!1!==n.ALLOW_DATA_ATTR,ae=n.ALLOW_UNKNOWN_PROTOCOLS||!1,se=n.SAFE_FOR_JQUERY||!1,ue=n.SAFE_FOR_TEMPLATES||!1,le=n.WHOLE_DOCUMENT||!1,fe=n.RETURN_DOM||!1,de=n.RETURN_DOM_FRAGMENT||!1,pe=n.RETURN_DOM_IMPORT||!1,he=n.FORCE_BODY||!1,me=!1!==n.SANITIZE_DOM,ye=!1!==n.KEEP_CONTENT,ge=n.IN_PLACE||!1,Q=n.ALLOWED_URI_REGEXP||Q,ue&&(oe=!1),de&&(fe=!0),Ee&&(J=e({},[].concat(r(u))),ee=[],!0===Ee.html&&(e(J,i),e(ee,l)),!0===Ee.svg&&(e(J,o),e(ee,c),e(ee,f)),!0===Ee.svgFilters&&(e(J,a),e(ee,c),e(ee,f)),!0===Ee.mathMl&&(e(J,s),e(ee,h),e(ee,f))),n.ADD_TAGS&&(J===$&&(J=t(J)),e(J,n.ADD_TAGS)),n.ADD_ATTR&&(ee===te&&(ee=t(ee)),e(ee,n.ADD_ATTR)),n.ADD_URI_SAFE_ATTR&&e(we,n.ADD_URI_SAFE_ATTR),ye&&(J["#text"]=!0),le&&e(J,["html","head","body"]),J.table&&e(J,["tbody"]),Object&&"freeze"in Object&&Object.freeze(n),Te=n},be=function(e){O.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Ce=function(e,t){try{O.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){O.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Re=function(t){var r=void 0,n=void 0;if(he)t="<remove></remove>"+t;else{var i=t.match(/^[\s]+/);n=i&&i[0],n&&(t=t.slice(n.length))}if(b)try{r=(new U).parseFromString(t,"text/html")}catch(e){}if(C&&e(re,["title"]),!r||!r.documentElement){r=F.createHTMLDocument("");var o=r,a=o.body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=t}return n&&r.body.insertBefore(R.createTextNode(n),r.body.childNodes[0]||null),z.call(r,le?"html":"body")[0]};O.isSupported&&(function(){try{Re('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">').querySelector("svg img")&&(b=!0)}catch(e){}}(),function(){try{Re("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").textContent.match(/<\/title/)&&(C=!0)}catch(e){}}());var Ie=function(e){return j.call(e.ownerDocument||e,e,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT,function(){return x.FILTER_ACCEPT},!1)},Ae=function(e){return!(e instanceof D||e instanceof L)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof P&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},Me=function(e){return"object"===(void 0===M?"undefined":v(M))?e instanceof M:e&&"object"===(void 0===e?"undefined":v(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},xe=function(e,t,r){H[e]&&H[e].forEach(function(e){e.call(O,t,r,Te)})},Ne=function(e){var t=void 0;if(xe("beforeSanitizeElements",e,null),Ae(e))return be(e),!0;var r=e.nodeName.toLowerCase();if(xe("uponSanitizeElement",e,{tagName:r,allowedTags:J}),!J[r]||re[r]){if(ye&&!_e[r]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return be(e),!0}return!se||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(O.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),ue&&3===e.nodeType&&(t=e.textContent,t=t.replace(V," "),t=t.replace(W," "),e.textContent!==t&&(O.removed.push({element:e.cloneNode()}),e.textContent=t)),xe("afterSanitizeElements",e,null),!1},Pe=function(e,t,r){if(me&&("id"===t||"name"===t)&&(r in R||r in Oe))return!1;if(ue&&(r=r.replace(V," "),r=r.replace(W," ")),oe&&Y.test(t));else if(ie&&X.test(t));else{if(!ee[t]||ne[t])return!1;if(we[t]);else if(Q.test(r.replace(K,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==r.indexOf("data:")||!ve[e]){if(ae&&!Z.test(r.replace(K,"")));else if(r)return!1}else;}return!0},De=function(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=void 0;xe("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(o=a.length;o--;){t=a[o];var u=t,l=u.name,c=u.namespaceURI;if(r=t.value.trim(),n=l.toLowerCase(),s.attrName=n,s.attrValue=r,s.keepAttr=!0,xe("uponSanitizeAttribute",e,s),r=s.attrValue,"name"===n&&"IMG"===e.nodeName&&a.id)i=a.id,a=Array.prototype.slice.apply(a),Ce("id",e),Ce(l,e),a.indexOf(i)>o&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===n&&"file"===r&&(ee[n]||!ne[n]))continue;"id"===l&&e.setAttribute(l,""),Ce(l,e)}if(s.keepAttr){var h=e.nodeName.toLowerCase();if(Pe(h,n,r))try{c?e.setAttributeNS(c,l,r):e.setAttribute(l,r),O.removed.pop()}catch(e){}}}xe("afterSanitizeAttributes",e,null)}},Le=function e(t){var r=void 0,n=Ie(t);for(xe("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)xe("uponSanitizeShadowNode",r,null),Ne(r)||(r.content instanceof I&&e(r.content),De(r));xe("afterSanitizeShadowDOM",t,null)};return O.sanitize=function(e,t){var r=void 0,n=void 0,i=void 0,o=void 0,a=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Me(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!O.isSupported){if("object"===v(T.toStaticHTML)||"function"==typeof T.toStaticHTML){if("string"==typeof e)return T.toStaticHTML(e);if(Me(e))return T.toStaticHTML(e.outerHTML)}return e}if(ce||Se(t),O.removed=[],ge);else if(e instanceof M)r=Re("\x3c!--\x3e"),n=r.ownerDocument.importNode(e,!0),1===n.nodeType&&"BODY"===n.nodeName?r=n:r.appendChild(n);else{if(!fe&&!le&&-1===e.indexOf("<"))return e;if(!(r=Re(e)))return fe?null:""}r&&he&&be(r.firstChild);for(var s=Ie(ge?e:r);i=s.nextNode();)3===i.nodeType&&i===o||Ne(i)||(i.content instanceof I&&Le(i.content),De(i),o=i);if(ge)return e;if(fe){if(de)for(a=G.call(r.ownerDocument);r.firstChild;)a.appendChild(r.firstChild);else a=r;return pe&&(a=k.call(S,a,!0)),a}return le?r.outerHTML:r.innerHTML},O.setConfig=function(e){Se(e),ce=!0},O.clearConfig=function(){Te=null,ce=!1},O.isValidAttribute=function(e,t,r){Te||Se({});var n=e.toLowerCase(),i=t.toLowerCase();return Pe(n,i,r)},O.addHook=function(e,t){"function"==typeof t&&(H[e]=H[e]||[],H[e].push(t))},O.removeHook=function(e){H[e]&&H[e].pop()},O.removeHooks=function(e){H[e]&&(H[e]=[])},O.removeAllHooks=function(){H={}},O}
var i=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],o=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],a=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],s=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],u=["#text"],l=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],c=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],h=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],f=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"],d=/\{\{[\s\S]*|[\s\S]*\}\}/gm,p=/<%[\s\S]*|[\s\S]*%>/gm,m=/^data-[\-\w.\u00B7-\uFFFF]/,y=/^aria-[\-\w]+$/,g=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,E=/^(?:\w+script|data):/i,_=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(){return"undefined"==typeof window?null:window};return n()}),r("Core/Credit",["../ThirdParty/purify","./defaultValue","./defined","./defineProperties","./Check"],function(e,t,r,n,i){"use strict";function o(e,n){i.typeOf.string("html",e);var o,u=e;r(s[u])?o=s[u]:(o=a++,s[u]=o),n=t(n,!1),this._id=o,this._html=e,this._showOnScreen=n,this._element=void 0}var a=0,s={};return n(o.prototype,{html:{get:function(){return this._html}},id:{get:function(){return this._id}},showOnScreen:{get:function(){return this._showOnScreen}},element:{get:function(){if(!r(this._element)){var t=e.sanitize(this._html),n=document.createElement("div");n._creditId=this._id,n.style.display="inline",n.innerHTML=t;for(var i=n.querySelectorAll("a"),o=0;o<i.length;o++)i[o].setAttribute("target","_blank");this._element=n}return this._element}}}),o.equals=function(e,t){return e===t||r(e)&&r(t)&&e._id===t._id},o.prototype.equals=function(e){return o.equals(this,e)},o.getIonCredit=function(e){var t=r(e.collapsible)&&!e.collapsible,n=new o(e.html,t);return n._isIon=-1!==n.html.indexOf("ion-credit.png"),n},o.clone=function(e){if(r(e))return new o(e.html,e.showOnScreen)},o}),r("Core/getStringFromTypedArray",["./defaultValue","./defined","./DeveloperError","./RuntimeError"],function(e,t,r,n){"use strict";function i(n,o,a){if(!t(n))throw new r("uint8Array is required.");if(o<0)throw new r("byteOffset cannot be negative.");if(a<0)throw new r("byteLength cannot be negative.");if(o+a>n.byteLength)throw new r("sub-region exceeds array bounds.");return o=e(o,0),a=e(a,n.byteLength-o),n=n.subarray(o,o+a),i.decode(n)}function o(e,t,r){return t<=e&&e<=r}function a(e){for(var t=0,r=0,i=0,a=128,s=191,u=[],l=e.length,c=0;c<l;++c){var h=e[c];if(0===i){if(o(h,0,127)){u.push(h);continue}if(o(h,194,223)){i=1,t=31&h;continue}if(o(h,224,239)){224===h&&(a=160),237===h&&(s=159),i=2,t=15&h;continue}if(o(h,240,244)){240===h&&(a=144),244===h&&(s=143),i=3,t=7&h;continue}throw new n("String decoding failed.")}o(h,a,s)?(a=128,s=191,t=t<<6|63&h,++r===i&&(u.push(t),t=i=r=0)):(t=i=r=0,a=128,s=191,--c)}return u}return i.decodeWithTextDecoder=function(e){return new TextDecoder("utf-8").decode(e)},i.decodeWithFromCharCode=function(e){for(var t="",r=a(e),n=r.length,i=0;i<n;++i){var o=r[i];o<=65535?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return t},"undefined"!=typeof TextDecoder?i.decode=i.decodeWithTextDecoder:i.decode=i.decodeWithFromCharCode,i}),r("Core/EllipsoidalOccluder",["./BoundingSphere","./Cartesian3","./Check","./defaultValue","./defined","./defineProperties","./Rectangle"],function(e,t,r,n,i,o,a){"use strict";function s(e,n){r.typeOf.object("ellipsoid",e),this._ellipsoid=e,this._cameraPosition=new t,this._cameraPositionInScaledSpace=new t,this._distanceToLimbInScaledSpaceSquared=0,i(n)&&(this.cameraPosition=n)}function u(e,r,n){var i=e.transformPositionToScaledSpace(r,p),o=t.magnitudeSquared(i),a=Math.sqrt(o),s=t.divideByScalar(i,a,m);o=Math.max(1,o),a=Math.max(1,a);var u=t.dot(s,n),l=t.magnitude(t.cross(s,n,s)),c=1/a;return 1/(u*c-l*(Math.sqrt(o-1)*c))}function l(e,r,n){if(!(r<=0||r===1/0||r!==r))return t.multiplyByScalar(e,r,n)}function c(e,r){return t.equals(r,t.ZERO)?r:(e.transformPositionToScaledSpace(r,y),t.normalize(y,y))}o(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},cameraPosition:{get:function(){return this._cameraPosition},set:function(e){var r=this._ellipsoid,n=r.transformPositionToScaledSpace(e,this._cameraPositionInScaledSpace),i=t.magnitudeSquared(n)-1;t.clone(e,this._cameraPosition),this._cameraPositionInScaledSpace=n,this._distanceToLimbInScaledSpaceSquared=i}}});var h=new t;s.prototype.isPointVisible=function(e){var t=this._ellipsoid,r=t.transformPositionToScaledSpace(e,h);return this.isScaledSpacePointVisible(r)},s.prototype.isScaledSpacePointVisible=function(e){var r=this._cameraPositionInScaledSpace,n=this._distanceToLimbInScaledSpaceSquared,i=t.subtract(e,r,h),o=-t.dot(i,r);return!(n<0?o>0:o>n&&o*o/t.magnitudeSquared(i)>n)},s.prototype.computeHorizonCullingPoint=function(e,n,o){r.typeOf.object("directionToPoint",e),r.defined("positions",n),i(o)||(o=new t);for(var a=this._ellipsoid,s=c(a,e),h=0,f=0,d=n.length;f<d;++f){var p=n[f],m=u(a,p,s);h=Math.max(h,m)}return l(s,h,o)};var f=new t;s.prototype.computeHorizonCullingPointFromVertices=function(e,o,a,s,h){r.typeOf.object("directionToPoint",e),r.defined("vertices",o),r.typeOf.number("stride",a),i(h)||(h=new t),s=n(s,t.ZERO);for(var d=this._ellipsoid,p=c(d,e),m=0,y=0,g=o.length;y<g;y+=a){f.x=o[y]+s.x,f.y=o[y+1]+s.y,f.z=o[y+2]+s.z;var E=u(d,f,p);m=Math.max(m,E)}return l(p,m,h)};var d=[];s.prototype.computeHorizonCullingPointFromRectangle=function(n,i,o){r.typeOf.object("rectangle",n);var s=a.subsample(n,i,0,d),u=e.fromPoints(s);if(!(t.magnitude(u.center)<.1*i.minimumRadius))return this.computeHorizonCullingPoint(u.center,s,o)};var p=new t,m=new t,y=new t;return s}),r("Core/QuadraticRealPolynomial",["./DeveloperError","./Math"],function(e,t){"use strict";function r(e,r,n){var i=e+r;return t.sign(e)!==t.sign(r)&&Math.abs(i/Math.max(Math.abs(e),Math.abs(r)))<n?0:i}var n={};return n.computeDiscriminant=function(t,r,n){if("number"!=typeof t)throw new e("a is a required number.");if("number"!=typeof r)throw new e("b is a required number.");if("number"!=typeof n)throw new e("c is a required number.");return r*r-4*t*n},n.computeRealRoots=function(n,i,o){if("number"!=typeof n)throw new e("a is a required number.");if("number"!=typeof i)throw new e("b is a required number.");if("number"!=typeof o)throw new e("c is a required number.");var a;if(0===n)return 0===i?[]:[-o/i];if(0===i){if(0===o)return[0,0];var s=Math.abs(o),u=Math.abs(n);if(s<u&&s/u<t.EPSILON14)return[0,0];if(s>u&&u/s<t.EPSILON14)return[];if((a=-o/n)<0)return[];var l=Math.sqrt(a);return[-l,l]}if(0===o)return a=-i/n,a<0?[a,0]:[0,a];var c=i*i,h=4*n*o,f=r(c,-h,t.EPSILON14);if(f<0)return[];var d=-.5*r(i,t.sign(i)*Math.sqrt(f),t.EPSILON14);return i>0?[d/n,o/d]:[o/d,d/n]},n}),r("Core/CubicRealPolynomial",["./DeveloperError","./QuadraticRealPolynomial"],function(e,t){"use strict";function r(e,t,r,n){var i,o,a=e,s=t/3,u=r/3,l=n,c=a*u,h=s*l,f=s*s,d=u*u,p=a*u-f,m=a*l-s*u,y=s*l-d,g=4*p*y-m*m;if(g<0){var E,_,v;f*h>=c*d?(E=a,_=p,v=-2*s*p+a*m):(E=l,_=y,v=-l*m+2*u*y);var w=v<0?-1:1,T=-w*Math.abs(E)*Math.sqrt(-g);o=-v+T;var O=o/2,S=O<0?-Math.pow(-O,1/3):Math.pow(O,1/3),b=o===T?-S:-_/S;return i=_<=0?S+b:-v/(S*S+b*b+_),f*h>=c*d?[(i-s)/a]:[-l/(i+u)]}var C=p,R=-2*s*p+a*m,I=y,A=-l*m+2*u*y,M=Math.sqrt(g),x=Math.sqrt(3)/2,N=Math.abs(Math.atan2(a*M,-R)/3);i=2*Math.sqrt(-C);var P=Math.cos(N);o=i*P;var D=i*(-P/2-x*Math.sin(N)),L=o+D>2*s?o-s:D-s,U=a,q=L/U;N=Math.abs(Math.atan2(l*M,-A)/3),i=2*Math.sqrt(-I),P=Math.cos(N),o=i*P,D=i*(-P/2-x*Math.sin(N));var B=-l,F=o+D<2*u?o+u:D+u,j=B/F,z=U*F,G=-L*F-U*B,k=L*B,H=(u*G-s*k)/(-s*G+u*z);return q<=H?q<=j?H<=j?[q,H,j]:[q,j,H]:[j,q,H]:q<=j?[H,q,j]:H<=j?[H,j,q]:[j,H,q]}var n={};return n.computeDiscriminant=function(t,r,n,i){if("number"!=typeof t)throw new e("a is a required number.");if("number"!=typeof r)throw new e("b is a required number.");if("number"!=typeof n)throw new e("c is a required number.");if("number"!=typeof i)throw new e("d is a required number.");var o=t*t,a=r*r,s=n*n;return 18*t*r*n*i+a*s-27*o*(i*i)-4*(t*s*n+a*r*i)},n.computeRealRoots=function(n,i,o,a){if("number"!=typeof n)throw new e("a is a required number.");if("number"!=typeof i)throw new e("b is a required number.");if("number"!=typeof o)throw new e("c is a required number.");if("number"!=typeof a)throw new e("d is a required number.");var s,u;if(0===n)return t.computeRealRoots(i,o,a);if(0===i){if(0===o){if(0===a)return[0,0,0];u=-a/n;var l=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3);return[l,l,l]}return 0===a?(s=t.computeRealRoots(n,0,o),0===s.Length?[0]:[s[0],0,s[1]]):r(n,0,o,a)}return 0===o?0===a?(u=-i/n,u<0?[u,0,0]:[0,0,u]):r(n,i,0,a):0===a?(s=t.computeRealRoots(n,i,o),0===s.length?[0]:s[1]<=0?[s[0],s[1],0]:s[0]>=0?[0,s[0],s[1]]:[s[0],0,s[1]]):r(n,i,o,a)},n}),r("Core/QuarticRealPolynomial",["./CubicRealPolynomial","./DeveloperError","./Math","./QuadraticRealPolynomial"],function(e,t,r,n){"use strict";function i(t,i,o,a){var s=t*t,u=i-3*s/8,l=o-i*t/2+s*t/8,c=a-o*t/4+i*s/16-3*s*s/256,h=e.computeRealRoots(1,2*u,u*u-4*c,-l*l);if(h.length>0){var f=-t/4,d=h[h.length-1];if(Math.abs(d)<r.EPSILON14){var p=n.computeRealRoots(1,u,c);if(2===p.length){var m,y=p[0],g=p[1];if(y>=0&&g>=0){var E=Math.sqrt(y),_=Math.sqrt(g);return[f-_,f-E,f+E,f+_]}if(y>=0&&g<0)return m=Math.sqrt(y),[f-m,f+m];if(y<0&&g>=0)return m=Math.sqrt(g),[f-m,f+m]}return[]}if(d>0){var v=Math.sqrt(d),w=(u+d-l/v)/2,T=(u+d+l/v)/2,O=n.computeRealRoots(1,v,w),S=n.computeRealRoots(1,-v,T);return 0!==O.length?(O[0]+=f,O[1]+=f,0!==S.length?(S[0]+=f,S[1]+=f,O[1]<=S[0]?[O[0],O[1],S[0],S[1]]:S[1]<=O[0]?[S[0],S[1],O[0],O[1]]:O[0]>=S[0]&&O[1]<=S[1]?[S[0],O[0],O[1],S[1]]:S[0]>=O[0]&&S[1]<=O[1]?[O[0],S[0],S[1],O[1]]:O[0]>S[0]&&O[0]<S[1]?[S[0],O[0],S[1],O[1]]:[O[0],S[0],O[1],S[1]]):O):0!==S.length?(S[0]+=f,S[1]+=f,S):[]}}return[]}function o(t,i,o,a){var s=o*o,u=i*i,l=t*t,c=-2*i,h=o*t+u-4*a,f=l*a-o*i*t+s,d=e.computeRealRoots(1,c,h,f);if(d.length>0){var p,m,y=d[0],g=i-y,E=g*g,_=t/2,v=g/2,w=E-4*a,T=E+4*Math.abs(a),O=l-4*y,S=l+4*Math.abs(y);if(y<0||w*S<O*T){var b=Math.sqrt(O);p=b/2,m=0===b?0:(t*v-o)/b}else{var C=Math.sqrt(w);p=0===C?0:(t*v-o)/C,m=C/2}var R,I;0===_&&0===p?(R=0,I=0):r.sign(_)===r.sign(p)?(R=_+p,I=y/R):(I=_-p,R=y/I);var A,M;0===v&&0===m?(A=0,M=0):r.sign(v)===r.sign(m)?(A=v+m,M=a/A):(M=v-m,A=a/M);var x=n.computeRealRoots(1,R,A),N=n.computeRealRoots(1,I,M);if(0!==x.length)return 0!==N.length?x[1]<=N[0]?[x[0],x[1],N[0],N[1]]:N[1]<=x[0]?[N[0],N[1],x[0],x[1]]:x[0]>=N[0]&&x[1]<=N[1]?[N[0],x[0],x[1],N[1]]:N[0]>=x[0]&&N[1]<=x[1]?[x[0],N[0],N[1],x[1]]:x[0]>N[0]&&x[0]<N[1]?[N[0],x[0],N[1],x[1]]:[x[0],N[0],x[1],N[1]]:x;if(0!==N.length)return N}return[]}var a={};return a.computeDiscriminant=function(e,r,n,i,o){if("number"!=typeof e)throw new t("a is a required number.");if("number"!=typeof r)throw new t("b is a required number.");if("number"!=typeof n)throw new t("c is a required number.");if("number"!=typeof i)throw new t("d is a required number.");if("number"!=typeof o)throw new t("e is a required number.");var a=e*e,s=a*e,u=r*r,l=u*r,c=n*n,h=c*n,f=i*i,d=f*i,p=o*o;return u*c*f-4*l*d-4*e*h*f+18*e*r*n*d-27*a*f*f+256*s*(p*o)+o*(18*l*n*i-4*u*h+16*e*c*c-80*e*r*c*i-6*e*u*f+144*a*n*f)+p*(144*e*u*n-27*u*u-128*a*c-192*a*r*i)},a.computeRealRoots=function(n,a,s,u,l){if("number"!=typeof n)throw new t("a is a required number.");if("number"!=typeof a)throw new t("b is a required number.");if("number"!=typeof s)throw new t("c is a required number.");if("number"!=typeof u)throw new t("d is a required number.");if("number"!=typeof l)throw new t("e is a required number.");if(Math.abs(n)<r.EPSILON15)return e.computeRealRoots(a,s,u,l);var c=a/n,h=s/n,f=u/n,d=l/n,p=c<0?1:0;switch(p+=h<0?p+1:p,p+=f<0?p+1:p,p+=d<0?p+1:p){case 0:return i(c,h,f,d);case 1:case 2:return o(c,h,f,d);case 3:case 4:return i(c,h,f,d);case 5:return o(c,h,f,d);case 6:case 7:return i(c,h,f,d);case 8:return o(c,h,f,d);case 9:case 10:return i(c,h,f,d);case 11:return o(c,h,f,d);case 12:case 13:case 14:case 15:return i(c,h,f,d);default:return}},a}),r("Core/Ray",["./Cartesian3","./Check","./defaultValue","./defined"],function(e,t,r,n){"use strict";function i(t,n){n=e.clone(r(n,e.ZERO)),e.equals(n,e.ZERO)||e.normalize(n,n),this.origin=e.clone(r(t,e.ZERO)),this.direction=n}return i.clone=function(t,r){if(n(t))return n(r)?(r.origin=e.clone(t.origin),r.direction=e.clone(t.direction),r):new i(t.origin,t.direction)},i.getPoint=function(r,i,o){return t.typeOf.object("ray",r),t.typeOf.number("t",i),n(o)||(o=new e),o=e.multiplyByScalar(r.direction,i,o),e.add(r.origin,o,o)},i}),r("Core/IntersectionTests",["./Cartesian3","./Cartographic","./defaultValue","./defined","./DeveloperError","./Interval","./Math","./Matrix3","./QuadraticRealPolynomial","./QuarticRealPolynomial","./Ray"],function(e,t,r,n,i,o,a,s,u,l,c){"use strict";function h(e,t,r,n){var i=t*t-4*e*r;if(!(i<0)){if(i>0){var o=1/(2*e),a=Math.sqrt(i),s=(-t+a)*o,u=(-t-a)*o;return s<u?(n.root0=s,n.root1=u):(n.root0=u,n.root1=s),n}var l=-t/(2*e);if(0!==l)return n.root0=n.root1=l,n}}function f(t,r,i){n(i)||(i=new o);var a=t.origin,s=t.direction,u=r.center,l=r.radius*r.radius,c=e.subtract(a,u,E),f=e.dot(s,s),d=2*e.dot(s,c),p=e.magnitudeSquared(c)-l,m=h(f,d,p,T);if(n(m))return i.start=m.root0,i.stop=m.root1,i}function d(e,t,r){var n=e+t;return a.sign(e)!==a.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<r?0:n}function p(t,r,n,i,o){var c,h=i*i,f=o*o,p=(t[s.COLUMN1ROW1]-t[s.COLUMN2ROW2])*f,m=o*(i*d(t[s.COLUMN1ROW0],t[s.COLUMN0ROW1],a.EPSILON15)+r.y),y=t[s.COLUMN0ROW0]*h+t[s.COLUMN2ROW2]*f+i*r.x+n,g=f*d(t[s.COLUMN2ROW1],t[s.COLUMN1ROW2],a.EPSILON15),E=o*(i*d(t[s.COLUMN2ROW0],t[s.COLUMN0ROW2])+r.z),_=[];if(0===E&&0===g){if(c=u.computeRealRoots(p,m,y),0===c.length)return _;var v=c[0],w=Math.sqrt(Math.max(1-v*v,0));if(_.push(new e(i,o*v,o*-w)),_.push(new e(i,o*v,o*w)),2===c.length){var T=c[1],O=Math.sqrt(Math.max(1-T*T,0));_.push(new e(i,o*T,o*-O)),_.push(new e(i,o*T,o*O))}return _}var S=E*E,b=g*g,C=p*p,R=E*g,I=C+b,A=2*(m*p+R),M=2*y*p+m*m-b+S,x=2*(y*m-R),N=y*y-S;if(0===I&&0===A&&0===M&&0===x)return _;c=l.computeRealRoots(I,A,M,x,N);var P=c.length;if(0===P)return _;for(var D=0;D<P;++D){var L,U=c[D],q=U*U,B=Math.max(1-q,0),F=Math.sqrt(B);L=a.sign(p)===a.sign(y)?d(p*q+y,m*U,a.EPSILON12):a.sign(y)===a.sign(m*U)?d(p*q,m*U+y,a.EPSILON12):d(p*q+m*U,y,a.EPSILON12);var j=d(g*U,E,a.EPSILON15),z=L*j;z<0?_.push(new e(i,o*U,o*F)):z>0?_.push(new e(i,o*U,o*-F)):0!==F?(_.push(new e(i,o*U,o*-F)),_.push(new e(i,o*U,o*F)),++D):_.push(new e(i,o*U,o*F))}return _}var m={};m.rayPlane=function(t,r,o){if(!n(t))throw new i("ray is required.");if(!n(r))throw new i("plane is required.");n(o)||(o=new e);var s=t.origin,u=t.direction,l=r.normal,c=e.dot(l,u);if(!(Math.abs(c)<a.EPSILON15)){var h=(-r.distance-e.dot(l,s))/c;if(!(h<0))return o=e.multiplyByScalar(u,h,o),e.add(s,o,o)}};var y=new e,g=new e,E=new e,_=new e,v=new e;m.rayTriangleParametric=function(t,o,s,u,l){if(!n(t))throw new i("ray is required.");if(!n(o))throw new i("p0 is required.");if(!n(s))throw new i("p1 is required.");if(!n(u))throw new i("p2 is required.");l=r(l,!1);var c,h,f,d,p,m=t.origin,w=t.direction,T=e.subtract(s,o,y),O=e.subtract(u,o,g),S=e.cross(w,O,E),b=e.dot(T,S);if(l){if(b<a.EPSILON6)return;if(c=e.subtract(m,o,_),(f=e.dot(c,S))<0||f>b)return;if(h=e.cross(c,T,v),(d=e.dot(w,h))<0||f+d>b)return;p=e.dot(O,h)/b}else{if(Math.abs(b)<a.EPSILON6)return;var C=1/b;if(c=e.subtract(m,o,_),(f=e.dot(c,S)*C)<0||f>1)return;if(h=e.cross(c,T,v),(d=e.dot(w,h)*C)<0||f+d>1)return;p=e.dot(O,h)*C}return p},m.rayTriangle=function(t,r,i,o,a,s){var u=m.rayTriangleParametric(t,r,i,o,a);if(n(u)&&!(u<0))return n(s)||(s=new e),e.multiplyByScalar(t.direction,u,s),e.add(t.origin,s,s)};var w=new c;m.lineSegmentTriangle=function(t,r,o,a,s,u,l){if(!n(t))throw new i("v0 is required.");if(!n(r))throw new i("v1 is required.");if(!n(o))throw new i("p0 is required.");if(!n(a))throw new i("p1 is required.");if(!n(s))throw new i("p2 is required.");var c=w;e.clone(t,c.origin),e.subtract(r,t,c.direction),e.normalize(c.direction,c.direction);var h=m.rayTriangleParametric(c,o,a,s,u);if(!(!n(h)||h<0||h>e.distance(t,r)))return n(l)||(l=new e),e.multiplyByScalar(c.direction,h,l),e.add(c.origin,l,l)};var T={root0:0,root1:0};m.raySphere=function(e,t,r){if(!n(e))throw new i("ray is required.");if(!n(t))throw new i("sphere is required.");if(r=f(e,t,r),n(r)&&!(r.stop<0))return r.start=Math.max(r.start,0),r};var O=new c;m.lineSegmentSphere=function(t,r,o,a){if(!n(t))throw new i("p0 is required.");if(!n(r))throw new i("p1 is required.");if(!n(o))throw new i("sphere is required.");var s=O;e.clone(t,s.origin);var u=e.subtract(r,t,s.direction),l=e.magnitude(u);if(e.normalize(u,u),a=f(s,o,a),!(!n(a)||a.stop<0||a.start>l))return a.start=Math.max(a.start,0),a.stop=Math.min(a.stop,l),a};var S=new e,b=new e;m.rayEllipsoid=function(t,r){if(!n(t))throw new i("ray is required.");if(!n(r))throw new i("ellipsoid is required.");var a,s,u,l,c,h=r.oneOverRadii,f=e.multiplyComponents(h,t.origin,S),d=e.multiplyComponents(h,t.direction,b),p=e.magnitudeSquared(f),m=e.dot(f,d);if(p>1){if(m>=0)return;var y=m*m;if(a=p-1,s=e.magnitudeSquared(d),u=s*a,y<u)return;if(y>u){l=m*m-u,c=-m+Math.sqrt(l);var g=c/s,E=a/c;return g<E?new o(g,E):{start:E,stop:g}}var _=Math.sqrt(a/s);return new o(_,_)}return p<1?(a=p-1,s=e.magnitudeSquared(d),u=s*a,l=m*m-u,c=-m+Math.sqrt(l),new o(0,c/s)):m<0?(s=e.magnitudeSquared(d),new o(0,-m/s)):void 0};var C=new e,R=new e,I=new e,A=new e,M=new e,x=new s,N=new s,P=new s,D=new s,L=new s,U=new s,q=new s,B=new e,F=new e,j=new t;m.grazingAltitudeLocation=function(t,r){if(!n(t))throw new i("ray is required.");if(!n(r))throw new i("ellipsoid is required.");var o=t.origin,u=t.direction;if(!e.equals(o,e.ZERO)){var l=r.geodeticSurfaceNormal(o,C);if(e.dot(u,l)>=0)return o}var c=n(this.rayEllipsoid(t,r)),h=r.transformPositionToScaledSpace(u,C),f=e.normalize(h,h),d=e.mostOrthogonalAxis(h,A),m=e.normalize(e.cross(d,f,R),R),y=e.normalize(e.cross(f,m,I),I),g=x;g[0]=f.x,g[1]=f.y,g[2]=f.z,g[3]=m.x,g[4]=m.y,g[5]=m.z,g[6]=y.x,g[7]=y.y,g[8]=y.z;var E=s.transpose(g,N),_=s.fromScale(r.radii,P),v=s.fromScale(r.oneOverRadii,D),w=L;w[0]=0,w[1]=-u.z,w[2]=u.y,w[3]=u.z,w[4]=0,w[5]=-u.x,w[6]=-u.y,w[7]=u.x,w[8]=0;var T,O,S=s.multiply(s.multiply(E,v,U),w,U),b=s.multiply(s.multiply(S,_,q),g,q),z=s.multiplyByVector(S,o,M),G=p(b,e.negate(z,C),0,0,1),k=G.length;if(k>0){for(var H=e.clone(e.ZERO,F),V=Number.NEGATIVE_INFINITY,W=0;W<k;++W){T=s.multiplyByVector(_,s.multiplyByVector(g,G[W],B),B);var Y=e.normalize(e.subtract(T,o,A),A),X=e.dot(Y,u);X>V&&(V=X,H=e.clone(T,H))}var Z=r.cartesianToCartographic(H,j);return V=a.clamp(V,0,1),O=e.magnitude(e.subtract(H,o,A))*Math.sqrt(1-V*V),O=c?-O:O,Z.height=O,r.cartographicToCartesian(Z,new e)}};var z=new e;return m.lineSegmentPlane=function(t,r,o,s){if(!n(t))throw new i("endPoint0 is required.");if(!n(r))throw new i("endPoint1 is required.");if(!n(o))throw new i("plane is required.");n(s)||(s=new e);var u=e.subtract(r,t,z),l=o.normal,c=e.dot(l,u);if(!(Math.abs(c)<a.EPSILON6)){var h=e.dot(l,t),f=-(o.distance+h)/c;if(!(f<0||f>1))return e.multiplyByScalar(u,f,s),e.add(t,s,s),s}},m.trianglePlaneIntersection=function(t,r,o,a){if(!(n(t)&&n(r)&&n(o)&&n(a)))throw new i("p0, p1, p2, and plane are required.");var s=a.normal,u=a.distance,l=e.dot(s,t)+u<0,c=e.dot(s,r)+u<0,h=e.dot(s,o)+u<0,f=0;f+=l?1:0,f+=c?1:0,f+=h?1:0;var d,p;if(1!==f&&2!==f||(d=new e,p=new e),1===f){if(l)return m.lineSegmentPlane(t,r,a,d),m.lineSegmentPlane(t,o,a,p),{positions:[t,r,o,d,p],indices:[0,3,4,1,2,4,1,4,3]};if(c)return m.lineSegmentPlane(r,o,a,d),m.lineSegmentPlane(r,t,a,p),{positions:[t,r,o,d,p],indices:[1,3,4,2,0,4,2,4,3]};if(h)return m.lineSegmentPlane(o,t,a,d),m.lineSegmentPlane(o,r,a,p),{positions:[t,r,o,d,p],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===f){if(!l)return m.lineSegmentPlane(r,t,a,d),m.lineSegmentPlane(o,t,a,p),{positions:[t,r,o,d,p],indices:[1,2,4,1,4,3,0,3,4]};if(!c)return m.lineSegmentPlane(o,r,a,d),m.lineSegmentPlane(t,r,a,p),{positions:[t,r,o,d,p],indices:[2,0,4,2,4,3,1,3,4]};if(!h)return m.lineSegmentPlane(t,o,a,d),m.lineSegmentPlane(r,o,a,p),{positions:[t,r,o,d,p],indices:[0,1,4,0,4,3,2,3,4]}}},m}),r("Core/Plane",["./Cartesian3","./Check","./defined","./DeveloperError","./freezeObject","./Math","./Matrix4"],function(e,t,r,n,i,o,a){"use strict";function s(r,i){if(t.typeOf.object("normal",r),!o.equalsEpsilon(e.magnitude(r),1,o.EPSILON6))throw new n("normal must be normalized.");t.typeOf.number("distance",i),this.normal=e.clone(r),this.distance=i}s.fromPointNormal=function(i,a,u){if(t.typeOf.object("point",i),t.typeOf.object("normal",a),!o.equalsEpsilon(e.magnitude(a),1,o.EPSILON6))throw new n("normal must be normalized.");var l=-e.dot(a,i);return r(u)?(e.clone(a,u.normal),u.distance=l,u):new s(a,l)};var u=new e;s.fromCartesian4=function(i,a){t.typeOf.object("coefficients",i);var l=e.fromCartesian4(i,u),c=i.w;if(!o.equalsEpsilon(e.magnitude(l),1,o.EPSILON6))throw new n("normal must be normalized.");return r(a)?(e.clone(l,a.normal),a.distance=c,a):new s(l,c)},s.getPointDistance=function(r,n){return t.typeOf.object("plane",r),t.typeOf.object("point",n),e.dot(r.normal,n)+r.distance};var l=new e;s.projectPointOntoPlane=function(n,i,o){t.typeOf.object("plane",n),t.typeOf.object("point",i),r(o)||(o=new e);var a=s.getPointDistance(n,i),u=e.multiplyByScalar(n.normal,a,l);return e.subtract(i,u,o)};var c=new e;return s.transform=function(r,n,i){return t.typeOf.object("plane",r),t.typeOf.object("transform",n),a.multiplyByPointAsVector(n,r.normal,u),e.normalize(u,u),e.multiplyByScalar(r.normal,-r.distance,c),a.multiplyByPoint(n,c,c),s.fromPointNormal(c,u,i)},s.clone=function(n,i){return t.typeOf.object("plane",n),r(i)?(e.clone(n.normal,i.normal),i.distance=n.distance,i):new s(n.normal,n.distance)},s.equals=function(r,n){return t.typeOf.object("left",r),t.typeOf.object("right",n),r.distance===n.distance&&e.equals(r.normal,n.normal)},s.ORIGIN_XY_PLANE=i(new s(e.UNIT_Z,0)),s.ORIGIN_YZ_PLANE=i(new s(e.UNIT_X,0)),s.ORIGIN_ZX_PLANE=i(new s(e.UNIT_Y,0)),s}),r("Core/binarySearch",["./Check"],function(e){"use strict";function t(t,r,n){e.defined("array",t),e.defined("itemToFind",r),e.defined("comparator",n);for(var i,o,a=0,s=t.length-1;a<=s;)if(i=~~((a+s)/2),(o=n(t[i],r))<0)a=i+1;else{if(!(o>0))return i;s=i-1}return~(s+1)}return t}),r("Core/EarthOrientationParametersSample",[],function(){"use strict";function e(e,t,r,n,i){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=r,this.yPoleOffset=n,this.ut1MinusUtc=i}return e}),r("ThirdParty/sprintf",[],function(){function e(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,r=0,n=t[r++],i=function(e,t,r,n){r||(r=" ");var i=e.length>=t?"":Array(1+t-e.length>>>0).join(r);return n?e+i:i+e},o=function(e,t,r,n,o,a){var s=n-e.length;return s>0&&(e=r||!o?i(e,n,a,r):e.slice(0,t.length)+i("",s,"0",!0)+e.slice(t.length)),e},a=function(e,t,r,n,a,s,u){var l=e>>>0;return r=r&&l&&{2:"0b",8:"0",16:"0x"}[t]||"",e=r+i(l.toString(t),s||0,"0",!1),o(e,r,n,a,u)},s=function(e,t,r,n,i,a){return null!=n&&(e=e.slice(0,n)),o(e,"",t,r,i,a)},u=function(e,n,u,l,c,h,f){var d,p,m,y,g;if("%%"==e)return"%";for(var E=!1,_="",v=!1,w=!1,T=" ",O=u.length,S=0;u&&S<O;S++)switch(u.charAt(S)){case" ":_=" ";break;case"+":_="+";break;case"-":E=!0;break;case"'":T=u.charAt(S+1);break;case"0":v=!0;break;case"#":w=!0}if(l=l?"*"==l?+t[r++]:"*"==l.charAt(0)?+t[l.slice(1,-1)]:+l:0,l<0&&(l=-l,E=!0),!isFinite(l))throw new Error("sprintf: (minimum-)width must be finite");switch(h=h?"*"==h?+t[r++]:"*"==h.charAt(0)?+t[h.slice(1,-1)]:+h:"fFeE".indexOf(f)>-1?6:"d"==f?0:void 0,g=n?t[n.slice(0,-1)]:t[r++],f){case"s":return s(String(g),E,l,h,v,T);case"c":return s(String.fromCharCode(+g),E,l,h,v);case"b":return a(g,2,w,E,l,h,v);case"o":return a(g,8,w,E,l,h,v);case"x":return a(g,16,w,E,l,h,v);case"X":return a(g,16,w,E,l,h,v).toUpperCase();case"u":return a(g,10,w,E,l,h,v);case"i":case"d":return d=+g||0,d=Math.round(d-d%1),p=d<0?"-":_,g=p+i(String(Math.abs(d)),h,"0",!1),o(g,p,E,l,v);case"e":case"E":case"f":case"F":case"g":case"G":return d=+g,p=d<0?"-":_,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],y=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],g=p+Math.abs(d)[m](h),o(g,p,E,l,v)[y]();default:return e}};return n.replace(e,u)}return e}),r("Core/GregorianDate",[],function(){"use strict";function e(e,t,r,n,i,o,a,s){this.year=e,this.month=t,this.day=r,this.hour=n,this.minute=i,this.second=o,this.millisecond=a,this.isLeapSecond=s}return e}),r("Core/isLeapYear",["./DeveloperError"],function(e){"use strict";function t(t){if(null===t||isNaN(t))throw new e("year is required and must be a number.");return t%4==0&&t%100!=0||t%400==0}return t}),r("Core/LeapSecond",[],function(){"use strict";function e(e,t){this.julianDate=e,this.offset=t}return e}),r("Core/TimeConstants",["./freezeObject"],function(e){"use strict";return e({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5})}),r("Core/TimeStandard",["./freezeObject"],function(e){"use strict";return e({UTC:0,TAI:1})}),r("Core/JulianDate",["../ThirdParty/sprintf","./binarySearch","./defaultValue","./defined","./DeveloperError","./GregorianDate","./isLeapYear","./LeapSecond","./TimeConstants","./TimeStandard"],function(e,t,r,n,i,o,a,s,u,l){"use strict";function c(e,t){return m.compare(e.julianDate,t.julianDate)}function h(e){E.julianDate=e;var r=m.leapSeconds,n=t(r,E,c);n<0&&(n=~n),n>=r.length&&(n=r.length-1);var i=r[n].offset;if(n>0){m.secondsDifference(r[n].julianDate,e)>i&&(n--,i=r[n].offset)}m.addSeconds(e,i,e)}function f(e,r){E.julianDate=e;var n=m.leapSeconds,i=t(n,E,c);if(i<0&&(i=~i),0===i)return m.addSeconds(e,-n[0].offset,r);if(i>=n.length)return m.addSeconds(e,-n[i-1].offset,r);var o=m.secondsDifference(n[i].julianDate,e);return 0===o?m.addSeconds(e,-n[i].offset,r):o<=1?void 0:m.addSeconds(e,-n[--i].offset,r)}function d(e,t,r){var n=t/u.SECONDS_PER_DAY|0;return e+=n,t-=u.SECONDS_PER_DAY*n,t<0&&(e--,t+=u.SECONDS_PER_DAY),r.dayNumber=e,r.secondsOfDay=t,r}function p(e,t,r,n,i,o,a){var s=(t-14)/12|0,l=e+4800+s,c=(1461*l/4|0)+(367*(t-2-12*s)/12|0)-(3*((l+100)/100|0)/4|0)+r-32075;(n-=12)<0&&(n+=24);var h=o+(n*u.SECONDS_PER_HOUR+i*u.SECONDS_PER_MINUTE+a*u.SECONDS_PER_MILLISECOND);return h>=43200&&(c-=1),[c,h]}function m(e,t,n){this.dayNumber=void 0,this.secondsOfDay=void 0,e=r(e,0),t=r(t,0),n=r(n,l.UTC);var i=0|e;t+=(e-i)*u.SECONDS_PER_DAY,d(i,t,this),n===l.UTC&&h(this)}
var y=new o,g=[31,28,31,30,31,30,31,31,30,31,30,31],E=new s,_=/^(\d{4})$/,v=/^(\d{4})-(\d{2})$/,w=/^(\d{4})-?(\d{3})$/,T=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,O=/^(\d{4})-?(\d{2})-?(\d{2})$/,S=/([Z+\-])?(\d{2})?:?(\d{2})?$/,b=/^(\d{2})(\.\d+)?/.source+S.source,C=/^(\d{2}):?(\d{2})(\.\d+)?/.source+S.source,R=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+S.source,I="Invalid ISO 8601 date.";m.fromGregorianDate=function(e,t){if(!(e instanceof o))throw new i("date must be a valid GregorianDate.");var r=p(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return n(t)?(d(r[0],r[1],t),h(t),t):new m(r[0],r[1],l.UTC)},m.fromDate=function(e,t){if(!(e instanceof Date)||isNaN(e.getTime()))throw new i("date must be a valid JavaScript Date.");var r=p(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return n(t)?(d(r[0],r[1],t),h(t),t):new m(r[0],r[1],l.UTC)},m.fromIso8601=function(e,t){if("string"!=typeof e)throw new i(I);e=e.replace(",",".");var r,o,s,u=e.split("T"),c=1,f=1,y=0,E=0,S=0,A=0,M=u[0],x=u[1];if(!n(M))throw new i(I);var N;if(null!==(u=M.match(O))){if((N=M.split("-").length-1)>0&&2!==N)throw new i(I);r=+u[1],c=+u[2],f=+u[3]}else if(null!==(u=M.match(v)))r=+u[1],c=+u[2];else if(null!==(u=M.match(_)))r=+u[1];else{var P;if(null!==(u=M.match(w))){if(r=+u[1],P=+u[2],s=a(r),P<1||s&&P>366||!s&&P>365)throw new i(I)}else{if(null===(u=M.match(T)))throw new i(I);r=+u[1];var D=+u[2],L=+u[3]||0;if((N=M.split("-").length-1)>0&&(!n(u[3])&&1!==N||n(u[3])&&2!==N))throw new i(I);var U=new Date(Date.UTC(r,0,4));P=7*D+L-U.getUTCDay()-3}o=new Date(Date.UTC(r,0,1)),o.setUTCDate(P),c=o.getUTCMonth()+1,f=o.getUTCDate()}if(s=a(r),c<1||c>12||f<1||(2!==c||!s)&&f>g[c-1]||s&&2===c&&f>29)throw new i(I);var q;if(n(x)){if(null!==(u=x.match(R))){if((N=x.split(":").length-1)>0&&2!==N&&3!==N)throw new i(I);y=+u[1],E=+u[2],S=+u[3],A=1e3*+(u[4]||0),q=5}else if(null!==(u=x.match(C))){if((N=x.split(":").length-1)>2)throw new i(I);y=+u[1],E=+u[2],S=60*+(u[3]||0),q=4}else{if(null===(u=x.match(b)))throw new i(I);y=+u[1],E=60*+(u[2]||0),q=3}if(E>=60||S>=61||y>24||24===y&&(E>0||S>0||A>0))throw new i(I);var B=u[q],F=+u[q+1],j=+(u[q+2]||0);switch(B){case"+":y-=F,E-=j;break;case"-":y+=F,E+=j;break;case"Z":break;default:E+=new Date(Date.UTC(r,c-1,f,y,E)).getTimezoneOffset()}}var z=60===S;for(z&&S--;E>=60;)E-=60,y++;for(;y>=24;)y-=24,f++;for(o=s&&2===c?29:g[c-1];f>o;)f-=o,c++,c>12&&(c-=12,r++),o=s&&2===c?29:g[c-1];for(;E<0;)E+=60,y--;for(;y<0;)y+=24,f--;for(;f<1;)c--,c<1&&(c+=12,r--),o=s&&2===c?29:g[c-1],f+=o;var G=p(r,c,f,y,E,S,A);return n(t)?(d(G[0],G[1],t),h(t)):t=new m(G[0],G[1],l.UTC),z&&m.addSeconds(t,1,t),t},m.now=function(e){return m.fromDate(new Date,e)};var A=new m(0,0,l.TAI);return m.toGregorianDate=function(e,t){if(!n(e))throw new i("julianDate is required.");var r=!1,a=f(e,A);n(a)||(m.addSeconds(e,-1,A),a=f(A,A),r=!0);var s=a.dayNumber,l=a.secondsOfDay;l>=43200&&(s+=1);var c=s+68569|0,h=4*c/146097|0;c=c-((146097*h+3)/4|0)|0;var d=4e3*(c+1)/1461001|0;c=c-(1461*d/4|0)+31|0;var p=80*c/2447|0,y=c-(2447*p/80|0)|0;c=p/11|0;var g=p+2-12*c|0,E=100*(h-49)+d+c|0,_=l/u.SECONDS_PER_HOUR|0,v=l-_*u.SECONDS_PER_HOUR,w=v/u.SECONDS_PER_MINUTE|0;v-=w*u.SECONDS_PER_MINUTE;var T=0|v,O=(v-T)/u.SECONDS_PER_MILLISECOND;return _+=12,_>23&&(_-=24),r&&(T+=1),n(t)?(t.year=E,t.month=g,t.day=y,t.hour=_,t.minute=w,t.second=T,t.millisecond=O,t.isLeapSecond=r,t):new o(E,g,y,_,w,T,O,r)},m.toDate=function(e){if(!n(e))throw new i("julianDate is required.");var t=m.toGregorianDate(e,y),r=t.second;return t.isLeapSecond&&(r-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,r,t.millisecond))},m.toIso8601=function(t,r){if(!n(t))throw new i("julianDate is required.");var o=m.toGregorianDate(t,y),a=o.year,s=o.month,u=o.day,l=o.hour,c=o.minute,h=o.second,f=o.millisecond;1e4===a&&1===s&&1===u&&0===l&&0===c&&0===h&&0===f&&(a=9999,s=12,u=31,l=24);var d;return n(r)||0===f?n(r)&&0!==r?(d=(.01*f).toFixed(r).replace(".","").slice(0,r),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",a,s,u,l,c,h,d)):e("%04d-%02d-%02dT%02d:%02d:%02dZ",a,s,u,l,c,h):(d=(.01*f).toString().replace(".",""),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",a,s,u,l,c,h,d))},m.clone=function(e,t){if(n(e))return n(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new m(e.dayNumber,e.secondsOfDay,l.TAI)},m.compare=function(e,t){if(!n(e))throw new i("left is required.");if(!n(t))throw new i("right is required.");var r=e.dayNumber-t.dayNumber;return 0!==r?r:e.secondsOfDay-t.secondsOfDay},m.equals=function(e,t){return e===t||n(e)&&n(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},m.equalsEpsilon=function(e,t,r){if(!n(r))throw new i("epsilon is required.");return e===t||n(e)&&n(t)&&Math.abs(m.secondsDifference(e,t))<=r},m.totalDays=function(e){if(!n(e))throw new i("julianDate is required.");return e.dayNumber+e.secondsOfDay/u.SECONDS_PER_DAY},m.secondsDifference=function(e,t){if(!n(e))throw new i("left is required.");if(!n(t))throw new i("right is required.");return(e.dayNumber-t.dayNumber)*u.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},m.daysDifference=function(e,t){if(!n(e))throw new i("left is required.");if(!n(t))throw new i("right is required.");return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/u.SECONDS_PER_DAY},m.computeTaiMinusUtc=function(e){E.julianDate=e;var r=m.leapSeconds,n=t(r,E,c);return n<0&&(n=~n,--n<0&&(n=0)),r[n].offset},m.addSeconds=function(e,t,r){if(!n(e))throw new i("julianDate is required.");if(!n(t))throw new i("seconds is required.");if(!n(r))throw new i("result is required.");return d(e.dayNumber,e.secondsOfDay+t,r)},m.addMinutes=function(e,t,r){if(!n(e))throw new i("julianDate is required.");if(!n(t))throw new i("minutes is required.");if(!n(r))throw new i("result is required.");var o=e.secondsOfDay+t*u.SECONDS_PER_MINUTE;return d(e.dayNumber,o,r)},m.addHours=function(e,t,r){if(!n(e))throw new i("julianDate is required.");if(!n(t))throw new i("hours is required.");if(!n(r))throw new i("result is required.");var o=e.secondsOfDay+t*u.SECONDS_PER_HOUR;return d(e.dayNumber,o,r)},m.addDays=function(e,t,r){if(!n(e))throw new i("julianDate is required.");if(!n(t))throw new i("days is required.");if(!n(r))throw new i("result is required.");return d(e.dayNumber+t,e.secondsOfDay,r)},m.lessThan=function(e,t){return m.compare(e,t)<0},m.lessThanOrEquals=function(e,t){return m.compare(e,t)<=0},m.greaterThan=function(e,t){return m.compare(e,t)>0},m.greaterThanOrEquals=function(e,t){return m.compare(e,t)>=0},m.prototype.clone=function(e){return m.clone(this,e)},m.prototype.equals=function(e){return m.equals(this,e)},m.prototype.equalsEpsilon=function(e,t){return m.equalsEpsilon(this,e,t)},m.prototype.toString=function(){return m.toIso8601(this)},m.leapSeconds=[new s(new m(2441317,43210,l.TAI),10),new s(new m(2441499,43211,l.TAI),11),new s(new m(2441683,43212,l.TAI),12),new s(new m(2442048,43213,l.TAI),13),new s(new m(2442413,43214,l.TAI),14),new s(new m(2442778,43215,l.TAI),15),new s(new m(2443144,43216,l.TAI),16),new s(new m(2443509,43217,l.TAI),17),new s(new m(2443874,43218,l.TAI),18),new s(new m(2444239,43219,l.TAI),19),new s(new m(2444786,43220,l.TAI),20),new s(new m(2445151,43221,l.TAI),21),new s(new m(2445516,43222,l.TAI),22),new s(new m(2446247,43223,l.TAI),23),new s(new m(2447161,43224,l.TAI),24),new s(new m(2447892,43225,l.TAI),25),new s(new m(2448257,43226,l.TAI),26),new s(new m(2448804,43227,l.TAI),27),new s(new m(2449169,43228,l.TAI),28),new s(new m(2449534,43229,l.TAI),29),new s(new m(2450083,43230,l.TAI),30),new s(new m(2450630,43231,l.TAI),31),new s(new m(2451179,43232,l.TAI),32),new s(new m(2453736,43233,l.TAI),33),new s(new m(2454832,43234,l.TAI),34),new s(new m(2456109,43235,l.TAI),35),new s(new m(2457204,43236,l.TAI),36),new s(new m(2457754,43237,l.TAI),37)],m}),r("Core/EarthOrientationParameters",["../ThirdParty/when","./binarySearch","./defaultValue","./defined","./EarthOrientationParametersSample","./freezeObject","./JulianDate","./LeapSecond","./Resource","./RuntimeError","./TimeConstants","./TimeStandard"],function(e,t,r,n,i,o,a,s,u,l,c,h){"use strict";function f(t){if(t=r(t,r.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=r(t.addNewLeapSeconds,!0),n(t.data))p(this,t.data);else if(n(t.url)){var i=u.createIfNeeded(t.url),o=this;this._downloadPromise=e(i.fetchJson(),function(e){p(o,e)},function(){o._dataError="An error occurred while retrieving the EOP data from the URL "+i.url+"."})}else p(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function d(e,t){return a.compare(e.julianDate,t)}function p(e,r){if(!n(r.columnNames))return void(e._dataError="Error in loaded EOP data: The columnNames property is required.");if(!n(r.samples))return void(e._dataError="Error in loaded EOP data: The samples property is required.");var i=r.columnNames.indexOf("modifiedJulianDateUtc"),o=r.columnNames.indexOf("xPoleWanderRadians"),u=r.columnNames.indexOf("yPoleWanderRadians"),l=r.columnNames.indexOf("ut1MinusUtcSeconds"),f=r.columnNames.indexOf("xCelestialPoleOffsetRadians"),p=r.columnNames.indexOf("yCelestialPoleOffsetRadians"),m=r.columnNames.indexOf("taiMinusUtcSeconds");if(i<0||o<0||u<0||l<0||f<0||p<0||m<0)return void(e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");var y=e._samples=r.samples,g=e._dates=[];e._dateColumn=i,e._xPoleWanderRadiansColumn=o,e._yPoleWanderRadiansColumn=u,e._ut1MinusUtcSecondsColumn=l,e._xCelestialPoleOffsetRadiansColumn=f,e._yCelestialPoleOffsetRadiansColumn=p,e._taiMinusUtcSecondsColumn=m,e._columnCount=r.columnNames.length,e._lastIndex=void 0;for(var E,_=e._addNewLeapSeconds,v=0,w=y.length;v<w;v+=e._columnCount){var T=y[v+i],O=y[v+m],S=T+c.MODIFIED_JULIAN_DATE_DIFFERENCE,b=new a(S,O,h.TAI);if(g.push(b),_){if(O!==E&&n(E)){var C=a.leapSeconds,R=t(C,b,d);if(R<0){var I=new s(b,O);C.splice(~R,0,I)}}E=O}}}function m(e,t,r,n,i){var o=r*n;i.xPoleWander=t[o+e._xPoleWanderRadiansColumn],i.yPoleWander=t[o+e._yPoleWanderRadiansColumn],i.xPoleOffset=t[o+e._xCelestialPoleOffsetRadiansColumn],i.yPoleOffset=t[o+e._yCelestialPoleOffsetRadiansColumn],i.ut1MinusUtc=t[o+e._ut1MinusUtcSecondsColumn]}function y(e,t,r){return t+e*(r-t)}function g(e,t,r,n,i,o,s){var u=e._columnCount;if(o>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var l=t[i],c=t[o];if(l.equals(c)||n.equals(l))return m(e,r,i,u,s),s;if(n.equals(c))return m(e,r,o,u,s),s;var h=a.secondsDifference(n,l)/a.secondsDifference(c,l),f=i*u,d=o*u,p=r[f+e._ut1MinusUtcSecondsColumn],g=r[d+e._ut1MinusUtcSecondsColumn],E=g-p;if(E>.5||E<-.5){var _=r[f+e._taiMinusUtcSecondsColumn],v=r[d+e._taiMinusUtcSecondsColumn];_!==v&&(c.equals(n)?p=g:g-=v-_)}return s.xPoleWander=y(h,r[f+e._xPoleWanderRadiansColumn],r[d+e._xPoleWanderRadiansColumn]),s.yPoleWander=y(h,r[f+e._yPoleWanderRadiansColumn],r[d+e._yPoleWanderRadiansColumn]),s.xPoleOffset=y(h,r[f+e._xCelestialPoleOffsetRadiansColumn],r[d+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=y(h,r[f+e._yCelestialPoleOffsetRadiansColumn],r[d+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=y(h,p,g),s}return f.NONE=o({getPromiseToLoad:function(){return e()},compute:function(e,t){return n(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new i(0,0,0,0,0),t}}),f.prototype.getPromiseToLoad=function(){return e(this._downloadPromise)},f.prototype.compute=function(e,r){if(n(this._samples)){if(n(r)||(r=new i(0,0,0,0,0)),0===this._samples.length)return r.xPoleWander=0,r.yPoleWander=0,r.xPoleOffset=0,r.yPoleOffset=0,r.ut1MinusUtc=0,r;var o=this._dates,s=this._lastIndex,u=0,c=0;if(n(s)){var h=o[s],f=o[s+1],d=a.lessThanOrEquals(h,e),p=!n(f),m=p||a.greaterThanOrEquals(f,e);if(d&&m)return u=s,!p&&f.equals(e)&&++u,c=u+1,g(this,o,this._samples,e,u,c,r),r}var y=t(o,e,a.compare,this._dateColumn);return y>=0?(y<o.length-1&&o[y+1].equals(e)&&++y,u=y,c=y):(c=~y,(u=c-1)<0&&(u=0)),this._lastIndex=u,g(this,o,this._samples,e,u,c,r),r}if(n(this._dataError))throw new l(this._dataError)},f}),r("Core/HeadingPitchRoll",["./defaultValue","./defined","./DeveloperError","./Math"],function(e,t,r,n){"use strict";function i(t,r,n){this.heading=e(t,0),this.pitch=e(r,0),this.roll=e(n,0)}return i.fromQuaternion=function(e,o){if(!t(e))throw new r("quaternion is required");t(o)||(o=new i);var a=2*(e.w*e.y-e.z*e.x),s=1-2*(e.x*e.x+e.y*e.y),u=2*(e.w*e.x+e.y*e.z),l=1-2*(e.y*e.y+e.z*e.z),c=2*(e.w*e.z+e.x*e.y);return o.heading=-Math.atan2(c,l),o.roll=Math.atan2(u,s),o.pitch=-n.asinClamped(a),o},i.fromDegrees=function(e,o,a,s){if(!t(e))throw new r("heading is required");if(!t(o))throw new r("pitch is required");if(!t(a))throw new r("roll is required");return t(s)||(s=new i),s.heading=e*n.RADIANS_PER_DEGREE,s.pitch=o*n.RADIANS_PER_DEGREE,s.roll=a*n.RADIANS_PER_DEGREE,s},i.clone=function(e,r){if(t(e))return t(r)?(r.heading=e.heading,r.pitch=e.pitch,r.roll=e.roll,r):new i(e.heading,e.pitch,e.roll)},i.equals=function(e,r){return e===r||t(e)&&t(r)&&e.heading===r.heading&&e.pitch===r.pitch&&e.roll===r.roll},i.equalsEpsilon=function(e,r,i,o){return e===r||t(e)&&t(r)&&n.equalsEpsilon(e.heading,r.heading,i,o)&&n.equalsEpsilon(e.pitch,r.pitch,i,o)&&n.equalsEpsilon(e.roll,r.roll,i,o)},i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i.prototype.equalsEpsilon=function(e,t,r){return i.equalsEpsilon(this,e,t,r)},i.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"},i}),r("Core/Iau2006XysSample",[],function(){"use strict";function e(e,t,r){this.x=e,this.y=t,this.s=r}return e}),r("Core/Iau2006XysData",["../ThirdParty/when","./buildModuleUrl","./defaultValue","./defined","./Iau2006XysSample","./JulianDate","./Resource","./TimeStandard"],function(e,t,r,n,i,o,a,s){"use strict";function u(e){e=r(e,r.EMPTY_OBJECT),this._xysFileUrlTemplate=a.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=r(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=r(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new o(this._sampleZeroJulianEphemerisDate,0,s.TAI),this._stepSizeDays=r(e.stepSizeDays,1),this._samplesPerXysFile=r(e.samplesPerXysFile,1e3),this._totalSamples=r(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,n=this._denominators=new Array(t+1),i=this._xTable=new Array(t+1),u=Math.pow(this._stepSizeDays,t),l=0;l<=t;++l){n[l]=u,i[l]=l*this._stepSizeDays;for(var c=0;c<=t;++c)c!==l&&(n[l]*=l-c);n[l]=1/n[l]}this._work=new Array(t+1),this._coef=new Array(t+1)}function l(e,t,r){var n=h;return n.dayNumber=t,n.secondsOfDay=r,o.daysDifference(n,e._sampleZeroDateTT)}function c(r,i){if(r._chunkDownloadsInProgress[i])return r._chunkDownloadsInProgress[i];var o=e.defer();r._chunkDownloadsInProgress[i]=o;var s,u=r._xysFileUrlTemplate;return s=n(u)?u.getDerivedResource({templateValues:{0:i}}):new a({url:t("Assets/IAU2006_XYS/IAU2006_XYS_"+i+".json")}),e(s.fetchJson(),function(e){r._chunkDownloadsInProgress[i]=!1;for(var t=r._samples,n=e.samples,a=i*r._samplesPerXysFile*3,s=0,u=n.length;s<u;++s)t[a+s]=n[s];o.resolve()}),o.promise}var h=new o(0,0,s.TAI);return u.prototype.preload=function(t,r,n,i){var o=l(this,t,r),a=l(this,n,i),s=o/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);var u=a/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;u>=this._totalSamples&&(u=this._totalSamples-1);for(var h=s/this._samplesPerXysFile|0,f=u/this._samplesPerXysFile|0,d=[],p=h;p<=f;++p)d.push(c(this,p));return e.all(d)},u.prototype.computeXysRadians=function(e,t,r){var o=l(this,e,t);if(!(o<0)){var a=o/this._stepSizeDays|0;if(!(a>=this._totalSamples)){var s=this._interpolationOrder,u=a-(s/2|0);u<0&&(u=0);var h=u+s;h>=this._totalSamples&&(h=this._totalSamples-1,(u=h-s)<0&&(u=0));var f=!1,d=this._samples;if(n(d[3*u])||(c(this,u/this._samplesPerXysFile|0),f=!0),n(d[3*h])||(c(this,h/this._samplesPerXysFile|0),f=!0),!f){n(r)?(r.x=0,r.y=0,r.s=0):r=new i(0,0,0);var p,m,y=o-u*this._stepSizeDays,g=this._work,E=this._denominators,_=this._coef,v=this._xTable;for(p=0;p<=s;++p)g[p]=y-v[p];for(p=0;p<=s;++p){for(_[p]=1,m=0;m<=s;++m)m!==p&&(_[p]*=g[m]);_[p]*=E[p];var w=3*(u+p);r.x+=_[p]*d[w++],r.y+=_[p]*d[w++],r.s+=_[p]*d[w]}return r}}}},u}),r("Core/Quaternion",["./Cartesian3","./Check","./defaultValue","./defined","./FeatureDetection","./freezeObject","./Math","./Matrix3"],function(e,t,r,n,i,o,a,s){"use strict";function u(e,t,n,i){this.x=r(e,0),this.y=r(t,0),this.z=r(n,0),this.w=r(i,0)}var l=new e;u.fromAxisAngle=function(r,i,o){t.typeOf.object("axis",r),t.typeOf.number("angle",i);var a=i/2,s=Math.sin(a);l=e.normalize(r,l);var c=l.x*s,h=l.y*s,f=l.z*s,d=Math.cos(a);return n(o)?(o.x=c,o.y=h,o.z=f,o.w=d,o):new u(c,h,f,d)};var c=[1,2,0],h=new Array(3);u.fromRotationMatrix=function(e,r){t.typeOf.object("matrix",e);var i,o,a,l,f,d=e[s.COLUMN0ROW0],p=e[s.COLUMN1ROW1],m=e[s.COLUMN2ROW2],y=d+p+m;if(y>0)i=Math.sqrt(y+1),f=.5*i,i=.5/i,o=(e[s.COLUMN1ROW2]-e[s.COLUMN2ROW1])*i,a=(e[s.COLUMN2ROW0]-e[s.COLUMN0ROW2])*i,l=(e[s.COLUMN0ROW1]-e[s.COLUMN1ROW0])*i;else{var g=c,E=0;p>d&&(E=1),m>d&&m>p&&(E=2);var _=g[E],v=g[_];i=Math.sqrt(e[s.getElementIndex(E,E)]-e[s.getElementIndex(_,_)]-e[s.getElementIndex(v,v)]+1);var w=h;w[E]=.5*i,i=.5/i,f=(e[s.getElementIndex(v,_)]-e[s.getElementIndex(_,v)])*i,w[_]=(e[s.getElementIndex(_,E)]+e[s.getElementIndex(E,_)])*i,w[v]=(e[s.getElementIndex(v,E)]+e[s.getElementIndex(E,v)])*i,o=-w[0],a=-w[1],l=-w[2]}return n(r)?(r.x=o,r.y=a,r.z=l,r.w=f,r):new u(o,a,l,f)};var f=new u,d=new u,p=new u,m=new u;u.fromHeadingPitchRoll=function(r,n){return t.typeOf.object("headingPitchRoll",r),m=u.fromAxisAngle(e.UNIT_X,r.roll,f),p=u.fromAxisAngle(e.UNIT_Y,-r.pitch,n),n=u.multiply(p,m,p),d=u.fromAxisAngle(e.UNIT_Z,-r.heading,f),u.multiply(d,n,n)};var y=new e,g=new e,E=new u,_=new u,v=new u;u.packedLength=4,u.pack=function(e,n,i){return t.typeOf.object("value",e),t.defined("array",n),i=r(i,0),n[i++]=e.x,n[i++]=e.y,n[i++]=e.z,n[i]=e.w,n},u.unpack=function(e,i,o){return t.defined("array",e),i=r(i,0),n(o)||(o=new u),o.x=e[i],o.y=e[i+1],o.z=e[i+2],o.w=e[i+3],o},u.packedInterpolationLength=3,u.convertPackedArrayForInterpolation=function(e,t,r,n){u.unpack(e,4*r,v),u.conjugate(v,v);for(var i=0,o=r-t+1;i<o;i++){var a=3*i;u.unpack(e,4*(t+i),E),u.multiply(E,v,E),E.w<0&&u.negate(E,E),u.computeAxis(E,y);var s=u.computeAngle(E);n[a]=y.x*s,n[a+1]=y.y*s,n[a+2]=y.z*s}},u.unpackInterpolationResult=function(t,r,i,o,a){n(a)||(a=new u),e.fromArray(t,0,g);var s=e.magnitude(g);return u.unpack(r,4*o,_),0===s?u.clone(u.IDENTITY,E):u.fromAxisAngle(g,s,E),u.multiply(E,_,a)},u.clone=function(e,t){if(n(e))return n(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new u(e.x,e.y,e.z,e.w)},u.conjugate=function(e,r){return t.typeOf.object("quaternion",e),t.typeOf.object("result",r),r.x=-e.x,r.y=-e.y,r.z=-e.z,r.w=e.w,r},u.magnitudeSquared=function(e){return t.typeOf.object("quaternion",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},u.magnitude=function(e){return Math.sqrt(u.magnitudeSquared(e))},u.normalize=function(e,r){t.typeOf.object("result",r);var n=1/u.magnitude(e),i=e.x*n,o=e.y*n,a=e.z*n,s=e.w*n;return r.x=i,r.y=o,r.z=a,r.w=s,r},u.inverse=function(e,r){t.typeOf.object("result",r);var n=u.magnitudeSquared(e);return r=u.conjugate(e,r),u.multiplyByScalar(r,1/n,r)},u.add=function(e,r,n){return t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n),n.x=e.x+r.x,n.y=e.y+r.y,n.z=e.z+r.z,n.w=e.w+r.w,n},u.subtract=function(e,r,n){return t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n),n.x=e.x-r.x,n.y=e.y-r.y,n.z=e.z-r.z,n.w=e.w-r.w,n},u.negate=function(e,r){return t.typeOf.object("quaternion",e),t.typeOf.object("result",r),r.x=-e.x,r.y=-e.y,r.z=-e.z,r.w=-e.w,r},u.dot=function(e,r){return t.typeOf.object("left",e),t.typeOf.object("right",r),e.x*r.x+e.y*r.y+e.z*r.z+e.w*r.w},u.multiply=function(e,r,n){t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n);var i=e.x,o=e.y,a=e.z,s=e.w,u=r.x,l=r.y,c=r.z,h=r.w,f=s*u+i*h+o*c-a*l,d=s*l-i*c+o*h+a*u,p=s*c+i*l-o*u+a*h,m=s*h-i*u-o*l-a*c;return n.x=f,n.y=d,n.z=p,n.w=m,n},u.multiplyByScalar=function(e,r,n){return t.typeOf.object("quaternion",e),t.typeOf.number("scalar",r),t.typeOf.object("result",n),n.x=e.x*r,n.y=e.y*r,n.z=e.z*r,n.w=e.w*r,n},u.divideByScalar=function(e,r,n){return t.typeOf.object("quaternion",e),t.typeOf.number("scalar",r),t.typeOf.object("result",n),n.x=e.x/r,n.y=e.y/r,n.z=e.z/r,n.w=e.w/r,n},u.computeAxis=function(e,r){t.typeOf.object("quaternion",e),t.typeOf.object("result",r);var n=e.w;if(Math.abs(n-1)<a.EPSILON6)return r.x=r.y=r.z=0,r;var i=1/Math.sqrt(1-n*n);return r.x=e.x*i,r.y=e.y*i,r.z=e.z*i,r},u.computeAngle=function(e){return t.typeOf.object("quaternion",e),Math.abs(e.w-1)<a.EPSILON6?0:2*Math.acos(e.w)};var w=new u;u.lerp=function(e,r,n,i){return t.typeOf.object("start",e),t.typeOf.object("end",r),t.typeOf.number("t",n),t.typeOf.object("result",i),w=u.multiplyByScalar(r,n,w),i=u.multiplyByScalar(e,1-n,i),u.add(w,i,i)};var T=new u,O=new u,S=new u;u.slerp=function(e,r,n,i){t.typeOf.object("start",e),t.typeOf.object("end",r),t.typeOf.number("t",n),t.typeOf.object("result",i);var o=u.dot(e,r),s=r;if(o<0&&(o=-o,s=T=u.negate(r,T)),1-o<a.EPSILON6)return u.lerp(e,s,n,i);var l=Math.acos(o);return O=u.multiplyByScalar(e,Math.sin((1-n)*l),O),S=u.multiplyByScalar(s,Math.sin(n*l),S),i=u.add(O,S,i),u.multiplyByScalar(i,1/Math.sin(l),i)},u.log=function(r,n){t.typeOf.object("quaternion",r),t.typeOf.object("result",n);var i=a.acosClamped(r.w),o=0;return 0!==i&&(o=i/Math.sin(i)),e.multiplyByScalar(r,o,n)},u.exp=function(r,n){t.typeOf.object("cartesian",r),t.typeOf.object("result",n);var i=e.magnitude(r),o=0;return 0!==i&&(o=Math.sin(i)/i),n.x=r.x*o,n.y=r.y*o,n.z=r.z*o,n.w=Math.cos(i),n};var b=new e,C=new e,R=new u,I=new u;u.computeInnerQuadrangle=function(r,n,i,o){t.typeOf.object("q0",r),t.typeOf.object("q1",n),t.typeOf.object("q2",i),t.typeOf.object("result",o);var a=u.conjugate(n,R);u.multiply(a,i,I);var s=u.log(I,b);u.multiply(a,r,I);var l=u.log(I,C);return e.add(s,l,s),e.multiplyByScalar(s,.25,s),e.negate(s,s),u.exp(s,R),u.multiply(n,R,o)},u.squad=function(e,r,n,i,o,a){t.typeOf.object("q0",e),t.typeOf.object("q1",r),t.typeOf.object("s0",n),t.typeOf.object("s1",i),t.typeOf.number("t",o),t.typeOf.object("result",a);var s=u.slerp(e,r,o,R),l=u.slerp(n,i,o,I);return u.slerp(s,l,2*o*(1-o),a)};for(var A=new u,M=1.9011074535173003,x=i.supportsTypedArrays()?new Float32Array(8):[],N=i.supportsTypedArrays()?new Float32Array(8):[],P=i.supportsTypedArrays()?new Float32Array(8):[],D=i.supportsTypedArrays()?new Float32Array(8):[],L=0;L<7;++L){var U=L+1,q=2*U+1;x[L]=1/(U*q),N[L]=U/q}return x[7]=M/136,N[7]=8*M/17,u.fastSlerp=function(e,r,n,i){t.typeOf.object("start",e),t.typeOf.object("end",r),t.typeOf.number("t",n),t.typeOf.object("result",i);var o,a=u.dot(e,r);a>=0?o=1:(o=-1,a=-a);for(var s=a-1,l=1-n,c=n*n,h=l*l,f=7;f>=0;--f)P[f]=(x[f]*c-N[f])*s,D[f]=(x[f]*h-N[f])*s;var d=o*n*(1+P[0]*(1+P[1]*(1+P[2]*(1+P[3]*(1+P[4]*(1+P[5]*(1+P[6]*(1+P[7])))))))),p=l*(1+D[0]*(1+D[1]*(1+D[2]*(1+D[3]*(1+D[4]*(1+D[5]*(1+D[6]*(1+D[7])))))))),m=u.multiplyByScalar(e,p,A);return u.multiplyByScalar(r,d,i),u.add(m,i,i)},u.fastSquad=function(e,r,n,i,o,a){t.typeOf.object("q0",e),t.typeOf.object("q1",r),t.typeOf.object("s0",n),t.typeOf.object("s1",i),t.typeOf.number("t",o),t.typeOf.object("result",a);var s=u.fastSlerp(e,r,o,R),l=u.fastSlerp(n,i,o,I);return u.fastSlerp(s,l,2*o*(1-o),a)},u.equals=function(e,t){return e===t||n(e)&&n(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},u.equalsEpsilon=function(e,r,i){return t.typeOf.number("epsilon",i),e===r||n(e)&&n(r)&&Math.abs(e.x-r.x)<=i&&Math.abs(e.y-r.y)<=i&&Math.abs(e.z-r.z)<=i&&Math.abs(e.w-r.w)<=i},u.ZERO=o(new u(0,0,0,0)),u.IDENTITY=o(new u(0,0,0,1)),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},u}),r("Core/Transforms",["../ThirdParty/when","./Cartesian2","./Cartesian3","./Cartesian4","./Cartographic","./Check","./defaultValue","./defined","./DeveloperError","./EarthOrientationParameters","./EarthOrientationParametersSample","./Ellipsoid","./HeadingPitchRoll","./Iau2006XysData","./Iau2006XysSample","./JulianDate","./Math","./Matrix3","./Matrix4","./Quaternion","./TimeConstants"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m,y,g,E,_,v){"use strict";var w={},T={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},O={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},S={},b={east:new r,north:new r,up:new r,west:new r,south:new r,down:new r},C=new r,R=new r,I=new r;w.localFrameToFixedFrameGenerator=function(e,t){if(!T.hasOwnProperty(e)||!T[e].hasOwnProperty(t))throw new u("firstAxis and secondAxis must be east, north, up, west, south or down.");var n,i=T[e][t],o=e+t;return s(S[o])?n=S[o]:(n=function(n,o,l){if(!s(n))throw new u("origin is required.");if(s(l)||(l=new E),y.equalsEpsilon(n.x,0,y.EPSILON14)&&y.equalsEpsilon(n.y,0,y.EPSILON14)){var c=y.sign(n.z);r.unpack(O[e],0,C),"east"!==e&&"west"!==e&&r.multiplyByScalar(C,c,C),r.unpack(O[t],0,R),"east"!==t&&"west"!==t&&r.multiplyByScalar(R,c,R),r.unpack(O[i],0,I),"east"!==i&&"west"!==i&&r.multiplyByScalar(I,c,I)}else{o=a(o,h.WGS84),o.geodeticSurfaceNormal(n,b.up);var f=b.up,d=b.east;d.x=-n.y,d.y=n.x,d.z=0,r.normalize(d,b.east),r.cross(f,d,b.north),r.multiplyByScalar(b.up,-1,b.down),r.multiplyByScalar(b.east,-1,b.west),r.multiplyByScalar(b.north,-1,b.south),C=b[e],R=b[t],I=b[i]}return l[0]=C.x,l[1]=C.y,l[2]=C.z,l[3]=0,l[4]=R.x,l[5]=R.y,l[6]=R.z,l[7]=0,l[8]=I.x,l[9]=I.y,l[10]=I.z,l[11]=0,l[12]=n.x,l[13]=n.y,l[14]=n.z,l[15]=1,l},S[o]=n),n},w.eastNorthUpToFixedFrame=w.localFrameToFixedFrameGenerator("east","north"),w.northEastDownToFixedFrame=w.localFrameToFixedFrameGenerator("north","east"),w.northUpEastToFixedFrame=w.localFrameToFixedFrameGenerator("north","up"),w.northWestUpToFixedFrame=w.localFrameToFixedFrameGenerator("north","west");var A=new _,M=new r(1,1,1),x=new E;w.headingPitchRollToFixedFrame=function(e,t,n,i,s){o.typeOf.object("HeadingPitchRoll",t),i=a(i,w.eastNorthUpToFixedFrame);var u=_.fromHeadingPitchRoll(t,A),l=E.fromTranslationQuaternionRotationScale(r.ZERO,u,M,x);return s=i(e,n,s),E.multiply(s,l,s)};var N=new E,P=new g;w.headingPitchRollQuaternion=function(e,t,r,n,i){o.typeOf.object("HeadingPitchRoll",t);var a=w.headingPitchRollToFixedFrame(e,t,r,n,N),s=E.getRotation(a,P);return _.fromRotationMatrix(s,i)};var D=new r(1,1,1),L=new r,U=new E,q=new E,B=new g,F=new _;w.fixedFrameToHeadingPitchRoll=function(e,t,n,i){o.defined("transform",e),t=a(t,h.WGS84),n=a(n,w.eastNorthUpToFixedFrame),s(i)||(i=new f);var u=E.getTranslation(e,L);if(r.equals(u,r.ZERO))return i.heading=0,i.pitch=0,i.roll=0,i;var l=E.inverseTransformation(n(u,t,U),U),c=E.setScale(e,D,q);c=E.setTranslation(c,r.ZERO,c),l=E.multiply(l,c,l);var d=_.fromRotationMatrix(E.getRotation(l,B),F);return d=_.normalize(d,d),f.fromQuaternion(d,i)};var j=y.TWO_PI/86400,z=new m;w.computeTemeToPseudoFixedMatrix=function(e,t){if(!s(e))throw new u("date is required.");z=m.addSeconds(e,-m.computeTaiMinusUtc(e),z);var r,n=z.dayNumber,i=z.secondsOfDay,o=n-2451545;r=i>=43200?(o+.5)/v.DAYS_PER_JULIAN_CENTURY:(o-.5)/v.DAYS_PER_JULIAN_CENTURY;var a=24110.54841+r*(8640184.812866+r*(.093104+-62e-7*r)),l=a*j%y.TWO_PI,c=72921158553e-15+1.1772758384668e-19*(n-2451545.5),h=(i+.5*v.SECONDS_PER_DAY)%v.SECONDS_PER_DAY,f=l+c*h,d=Math.cos(f),p=Math.sin(f);return s(t)?(t[0]=d,t[1]=-p,t[2]=0,t[3]=p,t[4]=d,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new g(d,p,0,-p,d,0,0,0,1)},w.iau2006XysData=new d,w.earthOrientationParameters=l.NONE;w.preloadIcrfFixed=function(t){var r=t.start.dayNumber,n=t.start.secondsOfDay+32.184,i=t.stop.dayNumber,o=t.stop.secondsOfDay+32.184,a=w.iau2006XysData.preload(r,n,i,o),s=w.earthOrientationParameters.getPromiseToLoad();return e.all([a,s])},w.computeIcrfToFixedMatrix=function(e,t){if(!s(e))throw new u("date is required.");s(t)||(t=new g);var r=w.computeFixedToIcrfMatrix(e,t);if(s(r))return g.transpose(r,t)};var G=new p(0,0,0),k=new c(0,0,0,0,0,0),H=new g,V=new g;w.computeFixedToIcrfMatrix=function(e,t){if(!s(e))throw new u("date is required.");s(t)||(t=new g);var r=w.earthOrientationParameters.compute(e,k);if(s(r)){var n=e.dayNumber,i=e.secondsOfDay+32.184,o=w.iau2006XysData.computeXysRadians(n,i,G);if(s(o)){var a=o.x+r.xPoleOffset,l=o.y+r.yPoleOffset,c=1/(1+Math.sqrt(1-a*a-l*l)),h=H;h[0]=1-c*a*a,h[3]=-c*a*l,h[6]=a,h[1]=-c*a*l,h[4]=1-c*l*l,h[7]=l,h[2]=-a,h[5]=-l,h[8]=1-c*(a*a+l*l);var f=g.fromRotationZ(-o.s,V),d=g.multiply(h,f,H),p=e.dayNumber,E=e.secondsOfDay-m.computeTaiMinusUtc(e)+r.ut1MinusUtc,_=p-2451545,T=E/v.SECONDS_PER_DAY,O=.779057273264+T+.00273781191135448*(_+T);O=O%1*y.TWO_PI;var S=g.fromRotationZ(O,V),b=g.multiply(d,S,H),C=Math.cos(r.xPoleWander),R=Math.cos(r.yPoleWander),I=Math.sin(r.xPoleWander),A=Math.sin(r.yPoleWander),M=n-2451545+i/v.SECONDS_PER_DAY;M/=36525;var x=-47e-6*M*y.RADIANS_PER_DEGREE/3600,N=Math.cos(x),P=Math.sin(x),D=V;return D[0]=C*N,D[1]=C*P,D[2]=I,D[3]=-R*P+A*I*N,D[4]=R*N+A*I*P,D[5]=-A*C,D[6]=-A*P-R*I*N,D[7]=A*N-R*I*P,D[8]=R*C,g.multiply(b,D,t)}}};var W=new n;w.pointToWindowCoordinates=function(e,t,r,n){return n=w.pointToGLWindowCoordinates(e,t,r,n),n.y=2*t[5]-n.y,n},w.pointToGLWindowCoordinates=function(e,r,i,o){if(!s(e))throw new u("modelViewProjectionMatrix is required.");if(!s(r))throw new u("viewportTransformation is required.");if(!s(i))throw new u("point is required.");s(o)||(o=new t);var a=W;return E.multiplyByVector(e,n.fromElements(i.x,i.y,i.z,1,a),a),n.multiplyByScalar(a,1/a.w,a),E.multiplyByVector(r,a,a),t.fromCartesian4(a,o)};var Y=new r,X=new r,Z=new r;w.rotationMatrixFromPositionVelocity=function(e,t,n,i){if(!s(e))throw new u("position is required.");if(!s(t))throw new u("velocity is required.");var o=a(n,h.WGS84).geodeticSurfaceNormal(e,Y),l=r.cross(t,o,X);r.equalsEpsilon(l,r.ZERO,y.EPSILON6)&&(l=r.clone(r.UNIT_X,l));var c=r.cross(l,t,Z);return r.normalize(c,c),r.cross(t,c,l),r.negate(l,l),r.normalize(l,l),s(i)||(i=new g),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=l.x,i[4]=l.y,i[5]=l.z,i[6]=c.x,i[7]=c.y,i[8]=c.z,i};var K=new E(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),Q=new i,J=new r,$=new r,ee=new g,te=new E,re=new E;return w.basisTo2D=function(e,t,n){if(!s(e))throw new u("projection is required.");if(!s(t))throw new u("matrix is required.");if(!s(n))throw new u("result is required.");var i=E.getTranslation(t,$),o=e.ellipsoid,a=o.cartesianToCartographic(i,Q),l=e.project(a,J);r.fromElements(l.z,l.x,l.y,l);var c=w.eastNorthUpToFixedFrame(i,o,te),h=E.inverseTransformation(c,re),f=E.getRotation(t,ee),d=E.multiplyByMatrix3(h,f,n);return E.multiply(K,d,n),E.setTranslation(n,l,n),n},w.wgs84To2DModelMatrix=function(e,t,n){if(!s(e))throw new u("projection is required.")
;if(!s(t))throw new u("center is required.");if(!s(n))throw new u("result is required.");var i=e.ellipsoid,o=w.eastNorthUpToFixedFrame(t,i,te),a=E.inverseTransformation(o,re),l=i.cartesianToCartographic(t,Q),c=e.project(l,J);r.fromElements(c.z,c.x,c.y,c);var h=E.fromTranslation(c,te);return E.multiply(K,a,n),E.multiply(h,n,n),n},w}),r("Core/EllipsoidTangentPlane",["./AxisAlignedBoundingBox","./Cartesian2","./Cartesian3","./Cartesian4","./Check","./defaultValue","./defined","./defineProperties","./DeveloperError","./Ellipsoid","./IntersectionTests","./Matrix4","./Plane","./Ray","./Transforms"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p){"use strict";function m(e,t){if(i.defined("origin",e),t=o(t,l.WGS84),e=t.scaleToGeodeticSurface(e),!a(e))throw new u("origin must not be at the center of the ellipsoid.");var n=p.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=r.fromCartesian4(h.getColumn(n,0,y)),this._yAxis=r.fromCartesian4(h.getColumn(n,1,y));var s=r.fromCartesian4(h.getColumn(n,2,y));this._plane=f.fromPointNormal(e,s)}var y=new n;s(m.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});var g=new e;m.fromPoints=function(t,r){return i.defined("cartesians",t),new m(e.fromPoints(t,g).center,r)};var E=new d,_=new r;m.prototype.projectPointOntoPlane=function(e,n){i.defined("cartesian",e);var o=E;o.origin=e,r.normalize(e,o.direction);var s=c.rayPlane(o,this._plane,_);if(a(s)||(r.negate(o.direction,o.direction),s=c.rayPlane(o,this._plane,_)),a(s)){var u=r.subtract(s,this._origin,s),l=r.dot(this._xAxis,u),h=r.dot(this._yAxis,u);return a(n)?(n.x=l,n.y=h,n):new t(l,h)}},m.prototype.projectPointsOntoPlane=function(e,t){i.defined("cartesians",e),a(t)||(t=[]);for(var r=0,n=e.length,o=0;o<n;o++){var s=this.projectPointOntoPlane(e[o],t[r]);a(s)&&(t[r]=s,r++)}return t.length=r,t},m.prototype.projectPointToNearestOnPlane=function(e,n){i.defined("cartesian",e),a(n)||(n=new t);var o=E;o.origin=e,r.clone(this._plane.normal,o.direction);var s=c.rayPlane(o,this._plane,_);a(s)||(r.negate(o.direction,o.direction),s=c.rayPlane(o,this._plane,_));var u=r.subtract(s,this._origin,s),l=r.dot(this._xAxis,u),h=r.dot(this._yAxis,u);return n.x=l,n.y=h,n},m.prototype.projectPointsToNearestOnPlane=function(e,t){i.defined("cartesians",e),a(t)||(t=[]);var r=e.length;t.length=r;for(var n=0;n<r;n++)t[n]=this.projectPointToNearestOnPlane(e[n],t[n]);return t};var v=new r;return m.prototype.projectPointOntoEllipsoid=function(e,t){i.defined("cartesian",e),a(t)||(t=new r);var n=this._ellipsoid,o=this._origin,s=this._xAxis,u=this._yAxis,l=v;return r.multiplyByScalar(s,e.x,l),t=r.add(o,l,t),r.multiplyByScalar(u,e.y,l),r.add(t,l,t),n.scaleToGeocentricSurface(t,t),t},m.prototype.projectPointsOntoEllipsoid=function(e,t){i.defined("cartesians",e);var r=e.length;a(t)?t.length=r:t=new Array(r);for(var n=0;n<r;++n)t[n]=this.projectPointOntoEllipsoid(e[n],t[n]);return t},m}),r("Core/OrientedBoundingBox",["./BoundingSphere","./Cartesian2","./Cartesian3","./Cartographic","./Check","./defaultValue","./defined","./DeveloperError","./Ellipsoid","./EllipsoidTangentPlane","./Intersect","./Interval","./Math","./Matrix3","./Plane","./Rectangle"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m){"use strict";function y(e,t){this.center=r.clone(o(e,r.ZERO)),this.halfAxes=d.clone(o(t,d.ZERO))}function g(e,t,n,i,o,u,l,c){if(!(a(t)&&a(n)&&a(i)&&a(o)&&a(u)&&a(l)))throw new s("all extents (minimum/maximum X/Y/Z) are required.");a(c)||(c=new y);var h=c.halfAxes;d.setColumn(h,0,e.xAxis,h),d.setColumn(h,1,e.yAxis,h),d.setColumn(h,2,e.zAxis,h);var f=C;f.x=(t+n)/2,f.y=(i+o)/2,f.z=(u+l)/2;var p=R;p.x=(n-t)/2,p.y=(o-i)/2,p.z=(l-u)/2;var m=c.center;return f=d.multiplyByVector(h,f,f),r.add(e.origin,f,m),d.multiplyByScale(h,p,h),c}y.packedLength=r.packedLength+d.packedLength,y.pack=function(e,t,n){return i.typeOf.object("value",e),i.defined("array",t),n=o(n,0),r.pack(e.center,t,n),d.pack(e.halfAxes,t,n+r.packedLength),t},y.unpack=function(e,t,n){return i.defined("array",e),t=o(t,0),a(n)||(n=new y),r.unpack(e,t,n.center),d.unpack(e,t+r.packedLength,n.halfAxes),n};var E=new r,_=new r,v=new r,w=new r,T=new r,O=new r,S=new d,b={unitary:new d,diagonal:new d};y.fromPoints=function(e,t){if(a(t)||(t=new y),!a(e)||0===e.length)return t.halfAxes=d.ZERO,t.center=r.ZERO,t;var n,i=e.length,o=r.clone(e[0],E);for(n=1;n<i;n++)r.add(o,e[n],o);var s=1/i;r.multiplyByScalar(o,s,o);var u,l=0,c=0,h=0,f=0,p=0,m=0;for(n=0;n<i;n++)u=r.subtract(e[n],o,_),l+=u.x*u.x,c+=u.x*u.y,h+=u.x*u.z,f+=u.y*u.y,p+=u.y*u.z,m+=u.z*u.z;l*=s,c*=s,h*=s,f*=s,p*=s,m*=s;var g=S;g[0]=l,g[1]=c,g[2]=h,g[3]=c,g[4]=f,g[5]=p,g[6]=h,g[7]=p,g[8]=m;var C=d.computeEigenDecomposition(g,b),R=d.clone(C.unitary,t.halfAxes),I=d.getColumn(R,0,w),A=d.getColumn(R,1,T),M=d.getColumn(R,2,O),x=-Number.MAX_VALUE,N=-Number.MAX_VALUE,P=-Number.MAX_VALUE,D=Number.MAX_VALUE,L=Number.MAX_VALUE,U=Number.MAX_VALUE;for(n=0;n<i;n++)u=e[n],x=Math.max(r.dot(I,u),x),N=Math.max(r.dot(A,u),N),P=Math.max(r.dot(M,u),P),D=Math.min(r.dot(I,u),D),L=Math.min(r.dot(A,u),L),U=Math.min(r.dot(M,u),U);I=r.multiplyByScalar(I,.5*(D+x),I),A=r.multiplyByScalar(A,.5*(L+N),A),M=r.multiplyByScalar(M,.5*(U+P),M);var q=r.add(I,A,t.center);r.add(q,M,q);var B=v;return B.x=x-D,B.y=N-L,B.z=P-U,r.multiplyByScalar(B,.5,B),d.multiplyByScale(t.halfAxes,B,t.halfAxes),t};var C=new r,R=new r,I=new n,A=new r,M=[new n,new n,new n,new n,new n,new n,new n,new n],x=[new r,new r,new r,new r,new r,new r,new r,new r],N=[new t,new t,new t,new t,new t,new t,new t,new t];y.fromRectangle=function(e,t,r,n,i){if(!a(e))throw new s("rectangle is required");if(e.width<0||e.width>f.TWO_PI)throw new s("Rectangle width must be between 0 and 2*pi");if(e.height<0||e.height>f.PI)throw new s("Rectangle height must be between 0 and pi");if(a(n)&&!f.equalsEpsilon(n.radii.x,n.radii.y,f.EPSILON15))throw new s("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");t=o(t,0),r=o(r,0),n=o(n,u.WGS84);var c=m.center(e,I),h=n.cartographicToCartesian(c,A),d=new l(h,n),y=d.plane,E=M[0],_=M[1],v=M[2],w=M[3],T=M[4],O=M[5],S=M[6],b=M[7],C=c.longitude,R=e.south<0&&e.north>0?0:c.latitude;S.latitude=O.latitude=T.latitude=e.south,b.latitude=w.latitude=R,E.latitude=_.latitude=v.latitude=e.north,S.longitude=b.longitude=E.longitude=e.west,O.longitude=_.longitude=C,T.longitude=w.longitude=v.longitude=e.east,v.height=_.height=E.height=b.height=S.height=O.height=T.height=w.height=r,n.cartographicArrayToCartesianArray(M,x),d.projectPointsToNearestOnPlane(x,N);var P=Math.min(N[6].x,N[7].x,N[0].x),D=Math.max(N[2].x,N[3].x,N[4].x),L=Math.min(N[4].y,N[5].y,N[6].y),U=Math.max(N[0].y,N[1].y,N[2].y);return v.height=E.height=T.height=S.height=t,n.cartographicArrayToCartesianArray(M,x),g(d,P,D,L,U,Math.min(p.getPointDistance(y,x[0]),p.getPointDistance(y,x[2]),p.getPointDistance(y,x[4]),p.getPointDistance(y,x[6])),r,i)},y.clone=function(e,t){if(a(e))return a(t)?(r.clone(e.center,t.center),d.clone(e.halfAxes,t.halfAxes),t):new y(e.center,e.halfAxes)},y.intersectPlane=function(e,t){if(!a(e))throw new s("box is required.");if(!a(t))throw new s("plane is required.");var n=e.center,i=t.normal,o=e.halfAxes,u=i.x,l=i.y,h=i.z,f=Math.abs(u*o[d.COLUMN0ROW0]+l*o[d.COLUMN0ROW1]+h*o[d.COLUMN0ROW2])+Math.abs(u*o[d.COLUMN1ROW0]+l*o[d.COLUMN1ROW1]+h*o[d.COLUMN1ROW2])+Math.abs(u*o[d.COLUMN2ROW0]+l*o[d.COLUMN2ROW1]+h*o[d.COLUMN2ROW2]),p=r.dot(i,n)+t.distance;return p<=-f?c.OUTSIDE:p>=f?c.INSIDE:c.INTERSECTING};var P=new r,D=new r,L=new r,U=new r;y.distanceSquaredTo=function(e,t){if(!a(e))throw new s("box is required.");if(!a(t))throw new s("cartesian is required.");var n=r.subtract(t,e.center,C),i=e.halfAxes,o=d.getColumn(i,0,P),u=d.getColumn(i,1,D),l=d.getColumn(i,2,L),c=r.magnitude(o),h=r.magnitude(u),f=r.magnitude(l);r.normalize(o,o),r.normalize(u,u),r.normalize(l,l);var p=U;p.x=r.dot(n,o),p.y=r.dot(n,u),p.z=r.dot(n,l);var m,y=0;return p.x<-c?(m=p.x+c,y+=m*m):p.x>c&&(m=p.x-c,y+=m*m),p.y<-h?(m=p.y+h,y+=m*m):p.y>h&&(m=p.y-h,y+=m*m),p.z<-f?(m=p.z+f,y+=m*m):p.z>f&&(m=p.z-f,y+=m*m),y};var q=new r,B=new r;y.computePlaneDistances=function(e,t,n,i){if(!a(e))throw new s("box is required.");if(!a(t))throw new s("position is required.");if(!a(n))throw new s("direction is required.");a(i)||(i=new h);var o=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=e.center,c=e.halfAxes,f=d.getColumn(c,0,P),p=d.getColumn(c,1,D),m=d.getColumn(c,2,L),y=r.add(f,p,q);r.add(y,m,y),r.add(y,l,y);var g=r.subtract(y,t,B),E=r.dot(n,g);return o=Math.min(E,o),u=Math.max(E,u),r.add(l,f,y),r.add(y,p,y),r.subtract(y,m,y),r.subtract(y,t,g),E=r.dot(n,g),o=Math.min(E,o),u=Math.max(E,u),r.add(l,f,y),r.subtract(y,p,y),r.add(y,m,y),r.subtract(y,t,g),E=r.dot(n,g),o=Math.min(E,o),u=Math.max(E,u),r.add(l,f,y),r.subtract(y,p,y),r.subtract(y,m,y),r.subtract(y,t,g),E=r.dot(n,g),o=Math.min(E,o),u=Math.max(E,u),r.subtract(l,f,y),r.add(y,p,y),r.add(y,m,y),r.subtract(y,t,g),E=r.dot(n,g),o=Math.min(E,o),u=Math.max(E,u),r.subtract(l,f,y),r.add(y,p,y),r.subtract(y,m,y),r.subtract(y,t,g),E=r.dot(n,g),o=Math.min(E,o),u=Math.max(E,u),r.subtract(l,f,y),r.subtract(y,p,y),r.add(y,m,y),r.subtract(y,t,g),E=r.dot(n,g),o=Math.min(E,o),u=Math.max(E,u),r.subtract(l,f,y),r.subtract(y,p,y),r.subtract(y,m,y),r.subtract(y,t,g),E=r.dot(n,g),o=Math.min(E,o),u=Math.max(E,u),i.start=o,i.stop=u,i};var F=new e;return y.isOccluded=function(t,r){if(!a(t))throw new s("box is required.");if(!a(r))throw new s("occluder is required.");var n=e.fromOrientedBoundingBox(t,F);return!r.isBoundingSphereVisible(n)},y.prototype.intersectPlane=function(e){return y.intersectPlane(this,e)},y.prototype.distanceSquaredTo=function(e){return y.distanceSquaredTo(this,e)},y.prototype.computePlaneDistances=function(e,t,r){return y.computePlaneDistances(this,e,t,r)},y.prototype.isOccluded=function(e){return y.isOccluded(this,e)},y.equals=function(e,t){return e===t||a(e)&&a(t)&&r.equals(e.center,t.center)&&d.equals(e.halfAxes,t.halfAxes)},y.prototype.clone=function(e){return y.clone(this,e)},y.prototype.equals=function(e){return y.equals(this,e)},y}),r("Core/WebGLConstants",["./freezeObject"],function(e){"use strict";return e({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047})}),r("Core/ComponentDatatype",["./defaultValue","./defined","./DeveloperError","./FeatureDetection","./freezeObject","./WebGLConstants"],function(e,t,r,n,i,o){"use strict";if(!n.supportsTypedArrays())return{};var a={BYTE:o.BYTE,UNSIGNED_BYTE:o.UNSIGNED_BYTE,SHORT:o.SHORT,UNSIGNED_SHORT:o.UNSIGNED_SHORT,INT:o.INT,UNSIGNED_INT:o.UNSIGNED_INT,FLOAT:o.FLOAT,DOUBLE:o.DOUBLE};return a.getSizeInBytes=function(e){if(!t(e))throw new r("value is required.");switch(e){case a.BYTE:return Int8Array.BYTES_PER_ELEMENT;case a.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case a.SHORT:return Int16Array.BYTES_PER_ELEMENT;case a.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case a.INT:return Int32Array.BYTES_PER_ELEMENT;case a.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case a.FLOAT:return Float32Array.BYTES_PER_ELEMENT;case a.DOUBLE:return Float64Array.BYTES_PER_ELEMENT;default:throw new r("componentDatatype is not a valid value.")}},a.fromTypedArray=function(e){return e instanceof Int8Array?a.BYTE:e instanceof Uint8Array?a.UNSIGNED_BYTE:e instanceof Int16Array?a.SHORT:e instanceof Uint16Array?a.UNSIGNED_SHORT:e instanceof Int32Array?a.INT:e instanceof Uint32Array?a.UNSIGNED_INT:e instanceof Float32Array?a.FLOAT:e instanceof Float64Array?a.DOUBLE:void 0},a.validate=function(e){return t(e)&&(e===a.BYTE||e===a.UNSIGNED_BYTE||e===a.SHORT||e===a.UNSIGNED_SHORT||e===a.INT||e===a.UNSIGNED_INT||e===a.FLOAT||e===a.DOUBLE)},a.createTypedArray=function(e,n){if(!t(e))throw new r("componentDatatype is required.");if(!t(n))throw new r("valuesOrLength is required.");switch(e){case a.BYTE:return new Int8Array(n);case a.UNSIGNED_BYTE:return new Uint8Array(n);case a.SHORT:return new Int16Array(n);case a.UNSIGNED_SHORT:return new Uint16Array(n);case a.INT:return new Int32Array(n);case a.UNSIGNED_INT:return new Uint32Array(n);case a.FLOAT:return new Float32Array(n);case a.DOUBLE:return new Float64Array(n);default:throw new r("componentDatatype is not a valid value.")}},a.createArrayBufferView=function(n,i,o,s){if(!t(n))throw new r("componentDatatype is required.");if(!t(i))throw new r("buffer is required.");switch(o=e(o,0),s=e(s,(i.byteLength-o)/a.getSizeInBytes(n)),n){case a.BYTE:return new Int8Array(i,o,s);case a.UNSIGNED_BYTE:return new Uint8Array(i,o,s);case a.SHORT:return new Int16Array(i,o,s);case a.UNSIGNED_SHORT:return new Uint16Array(i,o,s);case a.INT:return new Int32Array(i,o,s);case a.UNSIGNED_INT:return new Uint32Array(i,o,s);case a.FLOAT:return new Float32Array(i,o,s);case a.DOUBLE:return new Float64Array(i,o,s);default:throw new r("componentDatatype is not a valid value.")}},a.fromName=function(e){switch(e){case"BYTE":return a.BYTE;case"UNSIGNED_BYTE":return a.UNSIGNED_BYTE;case"SHORT":return a.SHORT;case"UNSIGNED_SHORT":return a.UNSIGNED_SHORT;case"INT":return a.INT;case"UNSIGNED_INT":return a.UNSIGNED_INT;case"FLOAT":return a.FLOAT;case"DOUBLE":return a.DOUBLE;default:throw new r("name is not a valid value.")}},i(a)}),r("Core/TerrainQuantization",["./freezeObject"],function(e){"use strict";return e({NONE:0,BITS12:1})}),r("Core/TerrainEncoding",["./AttributeCompression","./Cartesian2","./Cartesian3","./ComponentDatatype","./defaultValue","./defined","./Math","./Matrix4","./TerrainQuantization"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(e,t,n,a,l,f){var y,g,E,_=u.NONE;if(o(e)&&o(t)&&o(n)&&o(a)){var v=e.minimum,w=e.maximum,T=r.subtract(w,v,h),O=n-t;_=Math.max(r.maximumComponent(T),O)<m-1?u.BITS12:u.NONE,y=e.center,g=s.inverseTransformation(a,new s);var S=r.negate(v,c);s.multiply(s.fromTranslation(S,d),g,g);var b=c;b.x=1/T.x,b.y=1/T.y,b.z=1/T.z,s.multiply(s.fromScale(b,d),g,g),E=s.clone(a),s.setTranslation(E,r.ZERO,E),a=s.clone(a,new s);var C=s.fromTranslation(v,d),R=s.fromScale(T,p),I=s.multiply(C,R,d);s.multiply(a,I,a),s.multiply(E,I,E)}this.quantization=_,this.minimumHeight=t,this.maximumHeight=n,this.center=y,this.toScaledENU=g,this.fromScaledENU=a,this.matrix=E,this.hasVertexNormals=l,this.hasWebMercatorT=i(f,!1)}var c=new r,h=new r,f=new t,d=new s,p=new s,m=Math.pow(2,12);l.prototype.encode=function(n,i,o,l,h,d,p){var m=l.x,y=l.y;if(this.quantization===u.BITS12){o=s.multiplyByPoint(this.toScaledENU,o,c),o.x=a.clamp(o.x,0,1),o.y=a.clamp(o.y,0,1),o.z=a.clamp(o.z,0,1);var g=this.maximumHeight-this.minimumHeight,E=a.clamp((h-this.minimumHeight)/g,0,1);t.fromElements(o.x,o.y,f);var _=e.compressTextureCoordinates(f);t.fromElements(o.z,E,f);var v=e.compressTextureCoordinates(f);t.fromElements(m,y,f);var w=e.compressTextureCoordinates(f);if(n[i++]=_,n[i++]=v,n[i++]=w,this.hasWebMercatorT){t.fromElements(p,0,f);var T=e.compressTextureCoordinates(f);n[i++]=T}}else r.subtract(o,this.center,c),n[i++]=c.x,n[i++]=c.y,n[i++]=c.z,n[i++]=h,n[i++]=m,n[i++]=y,this.hasWebMercatorT&&(n[i++]=p);return this.hasVertexNormals&&(n[i++]=e.octPackFloat(d)),i},l.prototype.decodePosition=function(t,n,i){if(o(i)||(i=new r),n*=this.getStride(),this.quantization===u.BITS12){var a=e.decompressTextureCoordinates(t[n],f);i.x=a.x,i.y=a.y;var l=e.decompressTextureCoordinates(t[n+1],f);return i.z=l.x,s.multiplyByPoint(this.fromScaledENU,i,i)}return i.x=t[n],i.y=t[n+1],i.z=t[n+2],r.add(i,this.center,i)},l.prototype.decodeTextureCoordinates=function(r,n,i){return o(i)||(i=new t),n*=this.getStride(),this.quantization===u.BITS12?e.decompressTextureCoordinates(r[n+2],i):t.fromElements(r[n+4],r[n+5],i)},l.prototype.decodeHeight=function(t,r){if(r*=this.getStride(),this.quantization===u.BITS12){return e.decompressTextureCoordinates(t[r+1],f).y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight}return t[r+3]},l.prototype.decodeWebMercatorT=function(t,r){return r*=this.getStride(),this.quantization===u.BITS12?e.decompressTextureCoordinates(t[r+3],f).x:t[r+6]},l.prototype.getOctEncodedNormal=function(e,r,n){r=(r+1)*this.getStride()-1;var i=e[r]/256,o=Math.floor(i),a=256*(i-o);return t.fromElements(o,a,n)},l.prototype.getStride=function(){var e;switch(this.quantization){case u.BITS12:e=3;break;default:e=6}return this.hasWebMercatorT&&++e,this.hasVertexNormals&&++e,e};var y={position3DAndHeight:0,textureCoordAndEncodedNormals:1},g={compressed0:0,compressed1:1};return l.prototype.getAttributes=function(e){var t,r=n.FLOAT,i=n.getSizeInBytes(r);if(this.quantization===u.NONE){var o=2;return this.hasWebMercatorT&&++o,this.hasVertexNormals&&++o,t=(4+o)*i,[{index:y.position3DAndHeight,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:4,offsetInBytes:0,strideInBytes:t},{index:y.textureCoordAndEncodedNormals,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:o,offsetInBytes:4*i,strideInBytes:t}]}var a=3,s=0;return(this.hasWebMercatorT||this.hasVertexNormals)&&++a,this.hasWebMercatorT&&this.hasVertexNormals?(++s,t=(a+s)*i,[{index:g.compressed0,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:a,offsetInBytes:0,strideInBytes:t},{index:g.compressed1,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:s,offsetInBytes:a*i,strideInBytes:t}]):[{index:g.compressed0,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:a}]},l.prototype.getAttributeLocations=function(){return this.quantization===u.NONE?y:g},l.clone=function(e,t){return o(t)||(t=new l),t.quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=r.clone(e.center),t.toScaledENU=s.clone(e.toScaledENU),t.fromScaledENU=s.clone(e.fromScaledENU),t.matrix=s.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t.hasWebMercatorT=e.hasWebMercatorT,t},l}),r("Core/WebMercatorProjection",["./Cartesian3","./Cartographic","./defaultValue","./defined","./defineProperties","./DeveloperError","./Ellipsoid","./Math"],function(e,t,r,n,i,o,a,s){"use strict";function u(e){this._ellipsoid=r(e,a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return i(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),u.mercatorAngleToGeodeticLatitude=function(e){return s.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},u.geodeticLatitudeToMercatorAngle=function(e){e>u.MaximumLatitude?e=u.MaximumLatitude:e<-u.MaximumLatitude&&(e=-u.MaximumLatitude);var t=Math.sin(e);return.5*Math.log((1+t)/(1-t))},u.MaximumLatitude=u.mercatorAngleToGeodeticLatitude(Math.PI),u.prototype.project=function(t,r){var i=this._semimajorAxis,o=t.longitude*i,a=u.geodeticLatitudeToMercatorAngle(t.latitude)*i,s=t.height;return n(r)?(r.x=o,r.y=a,
r.z=s,r):new e(o,a,s)},u.prototype.unproject=function(e,r){if(!n(e))throw new o("cartesian is required");var i=this._oneOverSemimajorAxis,a=e.x*i,s=u.mercatorAngleToGeodeticLatitude(e.y*i),l=e.z;return n(r)?(r.longitude=a,r.latitude=s,r.height=l,r):new t(a,s,l)},u}),r("Core/HeightmapTessellator",["./AxisAlignedBoundingBox","./BoundingSphere","./Cartesian2","./Cartesian3","./defaultValue","./defined","./DeveloperError","./Ellipsoid","./EllipsoidalOccluder","./freezeObject","./Math","./Matrix4","./OrientedBoundingBox","./Rectangle","./TerrainEncoding","./Transforms","./WebMercatorProjection"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m,y){"use strict";var g={};g.DEFAULT_STRUCTURE=l({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});var E=new n,_=new h,v=new n,w=new n;return g.computeVertices=function(l){if(!o(l)||!o(l.heightmap))throw new a("options.heightmap is required.");if(!o(l.width)||!o(l.height))throw new a("options.width and options.height are required.");if(!o(l.nativeRectangle))throw new a("options.nativeRectangle is required.");if(!o(l.skirtHeight))throw new a("options.skirtHeight is required.");var T,O,S,b,C=Math.cos,R=Math.sin,I=Math.sqrt,A=Math.atan,M=Math.exp,x=c.PI_OVER_TWO,N=c.toRadians,P=l.heightmap,D=l.width,L=l.height,U=l.skirtHeight,q=i(l.isGeographic,!0),B=i(l.ellipsoid,s.WGS84),F=1/B.maximumRadius,j=l.nativeRectangle,z=l.rectangle;o(z)?(T=z.west,O=z.south,S=z.east,b=z.north):q?(T=N(j.west),O=N(j.south),S=N(j.east),b=N(j.north)):(T=j.west*F,O=x-2*A(M(-j.south*F)),S=j.east*F,b=x-2*A(M(-j.north*F)));var G=l.relativeToCenter,k=o(G);G=k?G:n.ZERO;var H=i(l.exaggeration,1),V=i(l.includeWebMercatorT,!1),W=i(l.structure,g.DEFAULT_STRUCTURE),Y=i(W.heightScale,g.DEFAULT_STRUCTURE.heightScale),X=i(W.heightOffset,g.DEFAULT_STRUCTURE.heightOffset),Z=i(W.elementsPerHeight,g.DEFAULT_STRUCTURE.elementsPerHeight),K=i(W.stride,g.DEFAULT_STRUCTURE.stride),Q=i(W.elementMultiplier,g.DEFAULT_STRUCTURE.elementMultiplier),J=i(W.isBigEndian,g.DEFAULT_STRUCTURE.isBigEndian),$=d.computeWidth(j),ee=d.computeHeight(j),te=$/(D-1),re=ee/(L-1);q||($*=F,ee*=F);var ne,ie,oe=B.radiiSquared,ae=oe.x,se=oe.y,ue=oe.z,le=65536,ce=-65536,he=m.eastNorthUpToFixedFrame(G,B),fe=h.inverseTransformation(he,_);V&&(ne=y.geodeticLatitudeToMercatorAngle(O),ie=1/(y.geodeticLatitudeToMercatorAngle(b)-ne));var de=v;de.x=Number.POSITIVE_INFINITY,de.y=Number.POSITIVE_INFINITY,de.z=Number.POSITIVE_INFINITY;var pe=w;pe.x=Number.NEGATIVE_INFINITY,pe.y=Number.NEGATIVE_INFINITY,pe.z=Number.NEGATIVE_INFINITY;var me=Number.POSITIVE_INFINITY,ye=D+(U>0?2:0),ge=L+(U>0?2:0),Ee=ye*ge,_e=new Array(Ee),ve=new Array(Ee),we=new Array(Ee),Te=V?new Array(Ee):[],Oe=0,Se=L,be=0,Ce=D;U>0&&(--Oe,++Se,--be,++Ce);for(var Re=0,Ie=Oe;Ie<Se;++Ie){var Ae=Ie;Ae<0&&(Ae=0),Ae>=L&&(Ae=L-1);var Me=j.north-re*Ae;Me=q?N(Me):x-2*A(M(-Me*F));var xe=C(Me),Ne=R(Me),Pe=ue*Ne,De=(Me-O)/(b-O);De=c.clamp(De,0,1);var Le;V&&(Le=(y.geodeticLatitudeToMercatorAngle(Me)-ne)*ie);for(var Ue=be;Ue<Ce;++Ue){var qe=Ue;qe<0&&(qe=0),qe>=D&&(qe=D-1);var Be=j.west+te*qe;q?Be=N(Be):Be*=F;var Fe,je=Ae*(D*K)+qe*K;if(1===Z)Fe=P[je];else{Fe=0;var ze;if(J)for(ze=0;ze<Z;++ze)Fe=Fe*Q+P[je+ze];else for(ze=Z-1;ze>=0;--ze)Fe=Fe*Q+P[je+ze]}Fe=(Fe*Y+X)*H;var Ge=(Be-T)/(S-T);if(Ge=c.clamp(Ge,0,1),we[Re]=new r(Ge,De),ce=Math.max(ce,Fe),le=Math.min(le,Fe),Ue!==qe||Ie!==Ae){Ue<0?Be-=1e-5*$:Be+=1e-5*$,Ie<0?Me+=1e-5*ee:Me-=1e-5*ee,xe=C(Me),Ne=R(Me),Pe=ue*Ne,Fe-=U}var ke=xe*C(Be),He=xe*R(Be),Ve=ae*ke,We=se*He,Ye=I(Ve*ke+We*He+Pe*Ne),Xe=1/Ye,Ze=Ve*Xe,Ke=We*Xe,Qe=Pe*Xe,Je=new n;Je.x=Ze+ke*Fe,Je.y=Ke+He*Fe,Je.z=Qe+Ne*Fe,_e[Re]=Je,ve[Re]=Fe,V&&(Te[Re]=Le),Re++,h.multiplyByPoint(fe,Je,E),n.minimumByComponent(E,de,de),n.maximumByComponent(E,pe,pe),me=Math.min(me,Fe)}}var $e,et=t.fromPoints(_e);o(z)&&z.width<c.PI_OVER_TWO+c.EPSILON5&&($e=f.fromRectangle(z,le,ce,B));var tt;if(k){tt=new u(B).computeHorizonCullingPoint(G,_e)}for(var rt=new e(de,pe,G),nt=new p(rt,me,ce,he,!1,V),it=new Float32Array(Ee*nt.getStride()),ot=0,at=0;at<Ee;++at)ot=nt.encode(it,ot,_e[at],we[at],ve[at],void 0,Te[at]);var st,ut,lt,ct;if(U>0){ct=[],ut=[];for(var ht=0;ht<D;++ht)ct.push(ye+1+ht),ut.push(ye*(ge-1)-2-ht);st=[],lt=[];for(var ft=0;ft<L;++ft)lt.push((ft+1)*ye+D),st.push((L-ft)*ye+1)}else{ct=[],ut=[];for(var dt=0;dt<D;++dt)ct.push(dt),ut.push(D*L-1-dt);st=[],lt=[];for(var pt=0;pt<L;++pt)lt.push((pt+1)*D-1),st.push((L-pt-1)*D)}return{vertices:it,maximumHeight:ce,minimumHeight:le,encoding:nt,boundingSphere3D:et,orientedBoundingBox:$e,occludeePointInScaledSpace:tt,westIndicesSouthToNorth:st,southIndicesEastToWest:ut,eastIndicesNorthToSouth:lt,northIndicesWestToEast:ct}},g}),r("Core/destroyObject",["./defaultValue","./DeveloperError"],function(e,t){"use strict";function r(){return!0}function n(n,i){function o(){throw new t(i)}i=e(i,"This object was destroyed, i.e., destroy() was called.");for(var a in n)"function"==typeof n[a]&&(n[a]=o);n.isDestroyed=r}return n}),r("Core/TaskProcessor",["../ThirdParty/when","./buildModuleUrl","./defaultValue","./defined","./destroyObject","./DeveloperError","./Event","./FeatureDetection","./getAbsoluteUri","./isCrossOriginUrl","./Resource","./RuntimeError","require"],function(e,t,n,i,o,a,s,u,l,c,h,f,d){"use strict";function p(){if(!i(v._canTransferArrayBuffer)){var t=new Worker(y("Workers/transferTypedArrayTest.js"));t.postMessage=n(t.webkitPostMessage,t.postMessage);var r=new Int8Array([99]);try{t.postMessage({array:r},[r.buffer])}catch(e){return v._canTransferArrayBuffer=!1,v._canTransferArrayBuffer}var o=e.defer();t.onmessage=function(e){var r=e.data.array,n=i(r)&&99===r[0];o.resolve(n),t.terminate(),v._canTransferArrayBuffer=n},v._canTransferArrayBuffer=o.promise}return v._canTransferArrayBuffer}function m(e,t){--e._activeTasks;var r=t.id;if(i(r)){var n=e._deferreds,o=n[r];if(i(t.error)){var s=t.error;"RuntimeError"===s.name?(s=new f(t.error.message),s.stack=t.error.stack):"DeveloperError"===s.name&&(s=new a(t.error.message),s.stack=t.error.stack),T.raiseEvent(s),o.reject(s)}else T.raiseEvent(),o.resolve(t.result);delete n[r]}}function y(e){var r=t(e);if(c(r)){var n,i='importScripts("'+r+'");';try{n=new Blob([i],{type:"application/javascript"})}catch(e){var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new o;a.append(i),n=a.getBlob("application/javascript")}r=(window.URL||window.webkitURL).createObjectURL(n)}return r}function g(){return i(w)||(w=y("Workers/cesiumWorkerBootstrapper.js")),w}function E(e){var o=new Worker(g());o.postMessage=n(o.webkitPostMessage,o.postMessage);var a={loaderConfig:{},workerModule:v._workerModulePrefix+e._workerName};return i(v._loaderConfig)?a.loaderConfig=v._loaderConfig:(i(r.amd)&&!r.amd.toUrlUndefined&&i(d.toUrl)||(a.loaderConfig.paths={Workers:t("Workers")}),a.loaderConfig.baseUrl=t.getCesiumBaseUrl().url),o.postMessage(a),o.onmessage=function(t){m(e,t.data)},o}function _(r,n){var o={modulePath:void 0,wasmBinaryFile:void 0,wasmBinary:void 0};if(!u.supportsWebAssembly()){if(!i(n.fallbackModulePath))throw new f("This browser does not support Web Assembly, and no backup module was provided for "+r._workerName);return o.modulePath=t(n.fallbackModulePath),e.resolve(o)}return o.modulePath=t(n.modulePath),o.wasmBinaryFile=t(n.wasmBinaryFile),h.fetchArrayBuffer({url:o.wasmBinaryFile}).then(function(e){return o.wasmBinary=e,o})}function v(e,t){this._workerName=e,this._maximumActiveTasks=n(t,5),this._activeTasks=0,this._deferreds={},this._nextID=0}var w,T=new s,O=[];return v.prototype.scheduleTask=function(t,r){if(i(this._worker)||(this._worker=E(this)),!(this._activeTasks>=this._maximumActiveTasks)){++this._activeTasks;var n=this;return e(p(),function(o){i(r)?o||(r.length=0):r=O;var a=n._nextID++,s=e.defer();return n._deferreds[a]=s,n._worker.postMessage({id:a,parameters:t,canTransferArrayBuffer:o},r),s.promise})}},v.prototype.initWebAssemblyModule=function(t){i(this._worker)||(this._worker=E(this));var r=e.defer(),n=this,o=this._worker;return _(this,t).then(function(t){return e(p(),function(e){var a,s=t.wasmBinary;i(s)&&e&&(a=[s]),o.onmessage=function(e){o.onmessage=function(e){m(n,e.data)},r.resolve(e.data)},o.postMessage({webAssemblyConfig:t},a)})}),r},v.prototype.isDestroyed=function(){return!1},v.prototype.destroy=function(){return i(this._worker)&&this._worker.terminate(),o(this)},v.taskCompletedEvent=T,v._defaultWorkerModulePrefix="Workers/",v._workerModulePrefix=v._defaultWorkerModulePrefix,v._loaderConfig=void 0,v._canTransferArrayBuffer=void 0,v}),r("Core/TerrainMesh",["./Cartesian3","./defaultValue"],function(e,t){"use strict";function r(e,r,n,i,o,a,s,u,l,c,h,f,d,p,m){this.center=e,this.vertices=r,this.stride=t(u,6),this.indices=n,this.minimumHeight=i,this.maximumHeight=o,this.boundingSphere3D=a,this.occludeePointInScaledSpace=s,this.orientedBoundingBox=l,this.encoding=c,this.exaggeration=h,this.westIndicesSouthToNorth=f,this.southIndicesEastToWest=d,this.eastIndicesNorthToSouth=p,this.northIndicesWestToEast=m}return r}),r("Core/TerrainProvider",["./defined","./defineProperties","./DeveloperError","./Math"],function(e,t,r,n){"use strict";function i(){r.throwInstantiationError()}t(i.prototype,{errorEvent:{get:r.throwInstantiationError},credit:{get:r.throwInstantiationError},tilingScheme:{get:r.throwInstantiationError},ready:{get:r.throwInstantiationError},readyPromise:{get:r.throwInstantiationError},hasWaterMask:{get:r.throwInstantiationError},hasVertexNormals:{get:r.throwInstantiationError},availability:{get:r.throwInstantiationError}});var o=[];return i.getRegularGridIndices=function(t,i){if(t*i>=n.SIXTY_FOUR_KILOBYTES)throw new r("The total number of vertices (width * height) must be less than 65536.");var a=o[t];e(a)||(o[t]=a=[]);var s=a[i];if(!e(s)){s=a[i]=new Uint16Array((t-1)*(i-1)*6);for(var u=0,l=0,c=0;c<i-1;++c){for(var h=0;h<t-1;++h){var f=u,d=f+t,p=d+1,m=f+1;s[l++]=f,s[l++]=d,s[l++]=m,s[l++]=m,s[l++]=d,s[l++]=p,++u}++u}}return s},i.heightmapTerrainQuality=.25,i.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(e,t,r){return 2*e.maximumRadius*Math.PI*i.heightmapTerrainQuality/(t*r)},i.prototype.requestTileGeometry=r.throwInstantiationError,i.prototype.getLevelMaximumGeometricError=r.throwInstantiationError,i.prototype.getTileDataAvailable=r.throwInstantiationError,i.prototype.loadTileDataAvailability=r.throwInstantiationError,i}),r("Core/HeightmapTerrainData",["../ThirdParty/when","./BoundingSphere","./Cartesian3","./defaultValue","./defined","./defineProperties","./DeveloperError","./GeographicProjection","./HeightmapTessellator","./OrientedBoundingBox","./Math","./Rectangle","./TaskProcessor","./TerrainEncoding","./TerrainMesh","./TerrainProvider"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m){"use strict";function y(e){if(!i(e)||!i(e.buffer))throw new a("options.buffer is required.");if(!i(e.width))throw new a("options.width is required.");if(!i(e.height))throw new a("options.height is required.");this._buffer=e.buffer,this._width=e.width,this._height=e.height,this._childTileMask=n(e.childTileMask,15);var t=u.DEFAULT_STRUCTURE,r=e.structure;i(r)?r!==t&&(r.heightScale=n(r.heightScale,t.heightScale),r.heightOffset=n(r.heightOffset,t.heightOffset),r.elementsPerHeight=n(r.elementsPerHeight,t.elementsPerHeight),r.stride=n(r.stride,t.stride),r.elementMultiplier=n(r.elementMultiplier,t.elementMultiplier),r.isBigEndian=n(r.isBigEndian,t.isBigEndian)):r=t,this._structure=r,this._createdByUpsampling=n(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0}function g(e,t,r,n,i,o,a,s,u,l){var c=(u-o.west)*(a-1)/(o.east-o.west),h=(l-o.south)*(s-1)/(o.north-o.south),f=0|c,d=f+1;d>=a&&(d=a-1,f=a-2);var p=0|h,m=p+1;m>=s&&(m=s-1,p=s-2);var y=c-f,g=h-p;return p=s-1-p,m=s-1-m,_(y,g,v(e,t,r,n,i,p*a+f),v(e,t,r,n,i,p*a+d),v(e,t,r,n,i,m*a+f),v(e,t,r,n,i,m*a+d))}function E(e,t,r,n,i,o,a,s,u,l,c){var h=(u-o.west)*(a-1)/(o.east-o.west),f=(l-o.south)*(s-1)/(o.north-o.south);i>0&&(h+=1,f+=1,a+=2,s+=2);var d=i>0?a-1:a,p=0|h,m=p+1;m>=d&&(m=a-1,p=a-2);var y=i>0?s-1:s,g=0|f,E=g+1;E>=y&&(E=s-1,g=s-2);var v=h-p,w=f-g;return g=s-1-g,E=s-1-E,_(v,w,(t.decodeHeight(e,g*a+p)/c-r)/n,(t.decodeHeight(e,g*a+m)/c-r)/n,(t.decodeHeight(e,E*a+p)/c-r)/n,(t.decodeHeight(e,E*a+m)/c-r)/n)}function _(e,t,r,n,i,o){return t<e?r+e*(n-r)+t*(o-n):r+e*(o-i)+t*(i-r)}function v(e,t,r,n,i,o){o*=n;var a,s=0;if(i)for(a=0;a<t;++a)s=s*r+e[o+a];else for(a=t-1;a>=0;--a)s=s*r+e[o+a];return s}function w(e,t,r,n,i,o,a,s){a*=i;var u;if(o)for(u=0;u<t-1;++u)e[a+u]=s/n|0,s-=e[a+u]*n,n/=r;else for(u=t-1;u>0;--u)e[a+u]=s/n|0,s-=e[a+u]*n,n/=r;e[a+u]=s}o(y.prototype,{credits:{get:function(){}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}}});var T=new f("createVerticesFromHeightmap");return y.prototype.createMesh=function(o,u,c,f,y){if(!i(o))throw new a("tilingScheme is required.");if(!i(u))throw new a("x is required.");if(!i(c))throw new a("y is required.");if(!i(f))throw new a("level is required.");var g=o.ellipsoid,E=o.tileXYToNativeRectangle(u,c,f),_=o.tileXYToRectangle(u,c,f);y=n(y,1);var v=g.cartographicToCartesian(h.center(_)),w=this._structure,O=m.getEstimatedLevelZeroGeometricErrorForAHeightmap(g,this._width,o.getNumberOfXTilesAtLevel(0)),S=O/(1<<f);this._skirtHeight=Math.min(4*S,1e3);var b=T.scheduleTask({heightmap:this._buffer,structure:w,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:E,rectangle:_,relativeToCenter:v,ellipsoid:g,skirtHeight:this._skirtHeight,isGeographic:o.projection instanceof s,exaggeration:y});if(i(b)){var C=this;return e(b,function(e){return C._mesh=new p(v,new Float32Array(e.vertices),m.getRegularGridIndices(e.gridWidth,e.gridHeight),e.minimumHeight,e.maximumHeight,t.clone(e.boundingSphere3D),r.clone(e.occludeePointInScaledSpace),e.numberOfAttributes,l.clone(e.orientedBoundingBox),d.clone(e.encoding),y,e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),C._buffer=void 0,C._mesh})}},y.prototype._createMeshSync=function(e,t,r,o,l){if(!i(e))throw new a("tilingScheme is required.");if(!i(t))throw new a("x is required.");if(!i(r))throw new a("y is required.");if(!i(o))throw new a("level is required.");var c=e.ellipsoid,f=e.tileXYToNativeRectangle(t,r,o),d=e.tileXYToRectangle(t,r,o);l=n(l,1);var y=c.cartographicToCartesian(h.center(d)),g=this._structure,E=m.getEstimatedLevelZeroGeometricErrorForAHeightmap(c,this._width,e.getNumberOfXTilesAtLevel(0)),_=E/(1<<o);this._skirtHeight=Math.min(4*_,1e3);var v=u.computeVertices({heightmap:this._buffer,structure:g,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:f,rectangle:d,relativeToCenter:y,ellipsoid:c,skirtHeight:this._skirtHeight,isGeographic:e.projection instanceof s,exaggeration:l});this._buffer=void 0;var w=this._width,T=this._height;return this._skirtHeight>0&&(w+=2,T+=2),new p(y,v.vertices,m.getRegularGridIndices(w,T),v.minimumHeight,v.maximumHeight,v.boundingSphere3D,v.occludeePointInScaledSpace,v.encoding.getStride(),v.orientedBoundingBox,v.encoding,l,v.westIndicesSouthToNorth,v.southIndicesEastToWest,v.eastIndicesNorthToSouth,v.northIndicesWestToEast)},y.prototype.interpolateHeight=function(e,t,r){var n,o=this._width,a=this._height,s=this._structure,u=s.stride,l=s.elementsPerHeight,c=s.elementMultiplier,h=s.isBigEndian,f=s.heightOffset,d=s.heightScale;if(i(this._mesh)){n=E(this._mesh.vertices,this._mesh.encoding,f,d,this._skirtHeight,e,o,a,t,r,this._mesh.exaggeration)}else n=g(this._buffer,l,c,u,h,e,o,a,t,r),n=n*d+f;return n},y.prototype.upsample=function(e,t,r,n,o,s,u){if(!i(e))throw new a("tilingScheme is required.");if(!i(t))throw new a("thisX is required.");if(!i(r))throw new a("thisY is required.");if(!i(n))throw new a("thisLevel is required.");if(!i(o))throw new a("descendantX is required.");if(!i(s))throw new a("descendantY is required.");if(!i(u))throw new a("descendantLevel is required.");if(u-n>1)throw new a("Upsampling through more than one level at a time is not currently supported.");var l=this._mesh;if(i(l)){for(var h=this._width,f=this._height,d=this._structure,p=this._skirtHeight,m=d.stride,g=new this._bufferType(h*f*m),_=l.vertices,v=l.encoding,T=e.tileXYToRectangle(t,r,n),O=e.tileXYToRectangle(o,s,u),S=d.heightOffset,b=d.heightScale,C=l.exaggeration,R=d.elementsPerHeight,I=d.elementMultiplier,A=d.isBigEndian,M=Math.pow(I,R-1),x=0;x<f;++x)for(var N=c.lerp(O.north,O.south,x/(f-1)),P=0;P<h;++P){var D=c.lerp(O.west,O.east,P/(h-1)),L=E(_,v,S,b,p,T,h,f,D,N,C);L=L<d.lowestEncodedHeight?d.lowestEncodedHeight:L,L=L>d.highestEncodedHeight?d.highestEncodedHeight:L,w(g,R,I,M,m,A,x*h+P,L)}return new y({buffer:g,width:h,height:f,childTileMask:0,structure:this._structure,createdByUpsampling:!0})}},y.prototype.isChildAvailable=function(e,t,r,n){if(!i(e))throw new a("thisX is required.");if(!i(t))throw new a("thisY is required.");if(!i(r))throw new a("childX is required.");if(!i(n))throw new a("childY is required.");var o=2;return r!==2*e&&++o,n!==2*t&&(o-=2),0!=(this._childTileMask&1<<o)},y.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},y}),r("Core/IndexDatatype",["./defined","./DeveloperError","./freezeObject","./Math","./WebGLConstants"],function(e,t,r,n,i){"use strict";var o={UNSIGNED_BYTE:i.UNSIGNED_BYTE,UNSIGNED_SHORT:i.UNSIGNED_SHORT,UNSIGNED_INT:i.UNSIGNED_INT};return o.getSizeInBytes=function(e){switch(e){case o.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case o.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case o.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}throw new t("indexDatatype is required and must be a valid IndexDatatype constant.")},o.fromSizeInBytes=function(e){switch(e){case 2:return o.UNSIGNED_SHORT;case 4:return o.UNSIGNED_INT;case 1:return o.UNSIGNED_BYTE;default:throw new t("Size in bytes cannot be mapped to an IndexDatatype")}},o.validate=function(t){return e(t)&&(t===o.UNSIGNED_BYTE||t===o.UNSIGNED_SHORT||t===o.UNSIGNED_INT)},o.createTypedArray=function(r,i){if(!e(r))throw new t("numberOfVertices is required.");return r>=n.SIXTY_FOUR_KILOBYTES?new Uint32Array(i):new Uint16Array(i)},o.createTypedArrayFromArrayBuffer=function(r,i,o,a){if(!e(r))throw new t("numberOfVertices is required.");if(!e(i))throw new t("sourceArray is required.");if(!e(o))throw new t("byteOffset is required.");return r>=n.SIXTY_FOUR_KILOBYTES?new Uint32Array(i,o,a):new Uint16Array(i,o,a)},r(o)}),r("Core/Intersections2D",["./Cartesian2","./Cartesian3","./Check","./defined","./DeveloperError"],function(e,t,r,n,i){"use strict";var o={};return o.clipTriangleAtAxisAlignedThreshold=function(e,t,r,o,a,s){if(!n(e))throw new i("threshold is required.");if(!n(t))throw new i("keepAbove is required.");if(!n(r))throw new i("u0 is required.");if(!n(o))throw new i("u1 is required.");if(!n(a))throw new i("u2 is required.");n(s)?s.length=0:s=[];var u,l,c;t?(u=r<e,l=o<e,c=a<e):(u=r>e,l=o>e,c=a>e);var h,f,d,p,m,y,g=u+l+c;return 1===g?u?(h=(e-r)/(o-r),f=(e-r)/(a-r),s.push(1),s.push(2),1!==f&&(s.push(-1),s.push(0),s.push(2),s.push(f)),1!==h&&(s.push(-1),s.push(0),s.push(1),s.push(h))):l?(d=(e-o)/(a-o),p=(e-o)/(r-o),s.push(2),s.push(0),1!==p&&(s.push(-1),s.push(1),s.push(0),s.push(p)),1!==d&&(s.push(-1),s.push(1),s.push(2),s.push(d))):c&&(m=(e-a)/(r-a),y=(e-a)/(o-a),s.push(0),s.push(1),1!==y&&(s.push(-1),s.push(2),s.push(1),s.push(y)),1!==m&&(s.push(-1),s.push(2),s.push(0),s.push(m))):2===g?u||r===e?l||o===e?c||a===e||(f=(e-r)/(a-r),d=(e-o)/(a-o),s.push(2),s.push(-1),s.push(0),s.push(2),s.push(f),s.push(-1),s.push(1),s.push(2),s.push(d)):(y=(e-a)/(o-a),h=(e-r)/(o-r),s.push(1),s.push(-1),s.push(2),s.push(1),s.push(y),s.push(-1),s.push(0),s.push(1),s.push(h)):(p=(e-o)/(r-o),m=(e-a)/(r-a),s.push(0),s.push(-1),s.push(1),s.push(0),s.push(p),s.push(-1),s.push(2),s.push(0),s.push(m)):3!==g&&(s.push(0),s.push(1),s.push(2)),s},o.computeBarycentricCoordinates=function(e,r,o,a,s,u,l,c,h){if(!n(e))throw new i("x is required.");if(!n(r))throw new i("y is required.");if(!n(o))throw new i("x1 is required.");if(!n(a))throw new i("y1 is required.");if(!n(s))throw new i("x2 is required.");if(!n(u))throw new i("y2 is required.");if(!n(l))throw new i("x3 is required.");if(!n(c))throw new i("y3 is required.");var f=o-l,d=l-s,p=u-c,m=a-c,y=1/(p*f+d*m),g=r-c,E=e-l,_=(p*E+d*g)*y,v=(-m*E+f*g)*y,w=1-_-v;return n(h)?(h.x=_,h.y=v,h.z=w,h):new t(_,v,w)},o.computeLineSegmentLineSegmentIntersection=function(t,i,o,a,s,u,l,c,h){r.typeOf.number("x00",t),r.typeOf.number("y00",i),r.typeOf.number("x01",o),r.typeOf.number("y01",a),r.typeOf.number("x10",s),r.typeOf.number("y10",u),r.typeOf.number("x11",l),r.typeOf.number("y11",c);var f=(l-s)*(i-u)-(c-u)*(t-s),d=(o-t)*(i-u)-(a-i)*(t-s),p=(c-u)*(o-t)-(l-s)*(a-i);if(0!==p){var m=f/p,y=d/p;return m>=0&&m<=1&&y>=0&&y<=1?(n(h)||(h=new e),h.x=t+m*(o-t),h.y=i+m*(a-i),h):void 0}},o}),r("Core/QuantizedMeshTerrainData",["../ThirdParty/when","./BoundingSphere","./Cartesian2","./Cartesian3","./defaultValue","./defined","./defineProperties","./DeveloperError","./IndexDatatype","./Intersections2D","./Math","./OrientedBoundingBox","./TaskProcessor","./TerrainEncoding","./TerrainMesh"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p){"use strict";function m(e){function t(e,t){return u[e]-u[t]}function r(e,t){return a[e]-a[t]}if(!o(e)||!o(e.quantizedVertices))throw new s("options.quantizedVertices is required.");if(!o(e.indices))throw new s("options.indices is required.");if(!o(e.minimumHeight))throw new s("options.minimumHeight is required.");if(!o(e.maximumHeight))throw new s("options.maximumHeight is required.");if(!o(e.maximumHeight))throw new s("options.maximumHeight is required.");if(!o(e.boundingSphere))throw new s("options.boundingSphere is required.");if(!o(e.horizonOcclusionPoint))throw new s("options.horizonOcclusionPoint is required.");if(!o(e.westIndices))throw new s("options.westIndices is required.");if(!o(e.southIndices))throw new s("options.southIndices is required.");if(!o(e.eastIndices))throw new s("options.eastIndices is required.");if(!o(e.northIndices))throw new s("options.northIndices is required.");if(!o(e.westSkirtHeight))throw new s("options.westSkirtHeight is required.");if(!o(e.southSkirtHeight))throw new s("options.southSkirtHeight is required.");if(!o(e.eastSkirtHeight))throw new s("options.eastSkirtHeight is required.");if(!o(e.northSkirtHeight))throw new s("options.northSkirtHeight is required.");this._quantizedVertices=e.quantizedVertices,this._encodedNormals=e.encodedNormals,this._indices=e.indices,this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._boundingSphere=e.boundingSphere,this._orientedBoundingBox=e.orientedBoundingBox,this._horizonOcclusionPoint=e.horizonOcclusionPoint,this._credits=e.credits;var n=this._quantizedVertices.length/3,a=this._uValues=this._quantizedVertices.subarray(0,n),u=this._vValues=this._quantizedVertices.subarray(n,2*n);this._heightValues=this._quantizedVertices.subarray(2*n,3*n),this._westIndices=y(e.westIndices,t,n),this._southIndices=y(e.southIndices,r,n),this._eastIndices=y(e.eastIndices,t,n),this._northIndices=y(e.northIndices,r,n),this._westSkirtHeight=e.westSkirtHeight,this._southSkirtHeight=e.southSkirtHeight,this._eastSkirtHeight=e.eastSkirtHeight,this._northSkirtHeight=e.northSkirtHeight,this._childTileMask=i(e.childTileMask,15),this._createdByUpsampling=i(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._mesh=void 0}function y(e,t,r){v.length=e.length;for(var n=!1,i=0,o=e.length;i<o;++i)v[i]=e[i],n=n||i>0&&t(e[i-1],e[i])>0;return n?(v.sort(t),u.createTypedArray(r,v)):e}function g(e,t,r,n,i,o,a,s){var u=Math.min(r,i,a),l=Math.max(r,i,a),c=Math.min(n,o,s),h=Math.max(n,o,s);return e>=u&&e<=l&&t>=c&&t<=h}function E(e,t,r){for(var n=e._mesh,i=n.vertices,o=n.encoding,a=n.indices,s=0,u=a.length;s<u;s+=3){var c=a[s],h=a[s+1],f=a[s+2],d=o.decodeTextureCoordinates(i,c,b),p=o.decodeTextureCoordinates(i,h,C),m=o.decodeTextureCoordinates(i,f,R);if(g(t,r,d.x,d.y,p.x,p.y,m.x,m.y)){var y=l.computeBarycentricCoordinates(t,r,d.x,d.y,p.x,p.y,m.x,m.y,S);if(y.x>=-1e-15&&y.y>=-1e-15&&y.z>=-1e-15){var E=o.decodeHeight(i,c),_=o.decodeHeight(i,h),v=o.decodeHeight(i,f);return y.x*E+y.y*_+y.z*v}}}}function _(e,t,r){for(var n=e._uValues,i=e._vValues,o=e._heightValues,a=e._indices,s=0,u=a.length;s<u;s+=3){var h=a[s],f=a[s+1],d=a[s+2],p=n[h],m=n[f],y=n[d],E=i[h],_=i[f],v=i[d];if(g(t,r,p,E,m,_,y,v)){var w=l.computeBarycentricCoordinates(t,r,p,E,m,_,y,v,S);if(w.x>=-1e-15&&w.y>=-1e-15&&w.z>=-1e-15){var T=w.x*o[h]+w.y*o[f]+w.z*o[d];return c.lerp(e._minimumHeight,e._maximumHeight,T/O)}}}}a(m.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}},canUpsample:{get:function(){return o(this._mesh)}}});var v=[],w=new f("createVerticesFromQuantizedTerrainMesh");m.prototype.createMesh=function(r,a,l,c,f){if(!o(r))throw new s("tilingScheme is required.");if(!o(a))throw new s("x is required.");if(!o(l))throw new s("y is required.");if(!o(c))throw new s("level is required.");var m=r.ellipsoid,y=r.tileXYToRectangle(a,l,c);f=i(f,1);var g=w.scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:y,relativeToCenter:this._boundingSphere.center,ellipsoid:m,exaggeration:f});if(o(g)){var E=this;return e(g,function(e){var r=E._quantizedVertices.length/3;r+=E._westIndices.length+E._southIndices.length+E._eastIndices.length+E._northIndices.length;var o=u.createTypedArray(r,e.indices),a=new Float32Array(e.vertices),s=e.center,l=e.minimumHeight,c=e.maximumHeight,m=i(t.clone(e.boundingSphere),E._boundingSphere),y=i(h.clone(e.orientedBoundingBox),E._orientedBoundingBox),g=n.clone(E._horizonOcclusionPoint),_=e.vertexStride,v=d.clone(e.encoding);return E._skirtIndex=e.skirtIndex,E._vertexCountWithoutSkirts=E._quantizedVertices.length/3,E._mesh=new p(s,a,o,l,c,m,g,_,y,v,f,e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),E._quantizedVertices=void 0,E._encodedNormals=void 0,E._indices=void 0,E._uValues=void 0,E._vValues=void 0,E._heightValues=void 0,E._westIndices=void 0,E._southIndices=void 0,E._eastIndices=void 0,E._northIndices=void 0,E._mesh})}};var T=new f("upsampleQuantizedTerrainMesh");m.prototype.upsample=function(r,i,a,l,c,f,d){if(!o(r))throw new s("tilingScheme is required.");if(!o(i))throw new s("thisX is required.");if(!o(a))throw new s("thisY is required.");if(!o(l))throw new s("thisLevel is required.");if(!o(c))throw new s("descendantX is required.");if(!o(f))throw new s("descendantY is required.");if(!o(d))throw new s("descendantLevel is required.");if(d-l>1)throw new s("Upsampling through more than one level at a time is not currently supported.");var p=this._mesh;if(o(this._mesh)){var y=2*i!==c,g=2*a===f,E=r.ellipsoid,_=r.tileXYToRectangle(c,f,d),v=T.scheduleTask({vertices:p.vertices,vertexCountWithoutSkirts:this._vertexCountWithoutSkirts,indices:p.indices,skirtIndex:this._skirtIndex,encoding:p.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:y,isNorthChild:g,childRectangle:_,ellipsoid:E,exaggeration:p.exaggeration});if(o(v)){var w=Math.min(this._westSkirtHeight,this._eastSkirtHeight);w=Math.min(w,this._southSkirtHeight),w=Math.min(w,this._northSkirtHeight);var O=y?.5*w:this._westSkirtHeight,S=g?.5*w:this._southSkirtHeight,b=y?this._eastSkirtHeight:.5*w,C=g?this._northSkirtHeight:.5*w,R=this._credits;return e(v).then(function(e){var r,i=new Uint16Array(e.vertices),a=u.createTypedArray(i.length/3,e.indices);return o(e.encodedNormals)&&(r=new Uint8Array(e.encodedNormals)),new m({quantizedVertices:i,indices:a,encodedNormals:r,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:t.clone(e.boundingSphere),orientedBoundingBox:h.clone(e.orientedBoundingBox),horizonOcclusionPoint:n.clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:O,southSkirtHeight:S,eastSkirtHeight:b,northSkirtHeight:C,childTileMask:0,credits:R,createdByUpsampling:!0})})}}};var O=32767,S=new n;m.prototype.interpolateHeight=function(e,t,r){var n=c.clamp((t-e.west)/e.width,0,1);n*=O;var i=c.clamp((r-e.south)/e.height,0,1);return i*=O,o(this._mesh)?E(this,n,i):_(this,n,i)};var b=new r,C=new r,R=new r;return m.prototype.isChildAvailable=function(e,t,r,n){if(!o(e))throw new s("thisX is required.");if(!o(t))throw new s("thisY is required.");if(!o(r))throw new s("childX is required.");if(!o(n))throw new s("childY is required.");var i=2;return r!==2*e&&++i,n!==2*t&&(i-=2),0!=(this._childTileMask&1<<i)},m.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},m}),r("Core/TileAvailability",["./binarySearch","./Cartographic","./defined","./defineProperties","./DeveloperError","./Rectangle"],function(e,t,r,n,i,o){"use strict";function a(e,t){this._tilingScheme=e,this._maximumLevel=t,this._rootNodes=[]}function s(e,t,r,n){for(var i=n.length,o=0;o<i;++o){var a=n[o];if(a.x===t&&a.y===r&&a.level===e)return!0}return!1}function u(e,t,r,n,i){this.tilingScheme=e,this.parent=t,this.level=r,this.x=n,this.y=i,this.extent=e.tileXYToRectangle(n,i,r),this.rectangles=[],this._sw=void 0,this._se=void 0,this._nw=void 0,this._ne=void 0}function l(e,t,r,n,i){this.level=e,this.west=t,this.south=r,this.east=n,this.north=i}function c(e,t){var r=Math.max(e.west,t.west),n=Math.max(e.south,t.south),i=Math.min(e.east,t.east);return n<Math.min(e.north,t.north)&&r<i}function h(t,r,n){for(;r.level<t;)if(d(r.nw.extent,n))r=r.nw;else if(d(r.ne.extent,n))r=r.ne;else if(d(r.sw.extent,n))r=r.sw;else{if(!d(r.se.extent,n))break;r=r.se}if(0===r.rectangles.length||r.rectangles[r.rectangles.length-1].level<=n.level)r.rectangles.push(n);else{var i=e(r.rectangles,n.level,f);i<=0&&(i=~i),r.rectangles.splice(i,0,n)}}function f(e,t){return e.level-t}function d(e,t){return t.west>=e.west&&t.east<=e.east&&t.south>=e.south&&t.north<=e.north}function p(e,t){return t.longitude>=e.west&&t.longitude<=e.east&&t.latitude>=e.south&&t.latitude<=e.north}function m(e,t,r){for(var n=0,i=!1;!i;){var o=t._nw&&p(t._nw.extent,r),a=t._ne&&p(t._ne.extent,r),s=t._sw&&p(t._sw.extent,r),u=t._se&&p(t._se.extent,r);if(o+a+s+u>1){o&&(n=Math.max(n,m(t,t._nw,r))),a&&(n=Math.max(n,m(t,t._ne,r))),s&&(n=Math.max(n,m(t,t._sw,r))),u&&(n=Math.max(n,m(t,t._se,r)));break}o?t=t._nw:a?t=t._ne:s?t=t._sw:u?t=t._se:i=!0}for(;t!==e;){for(var l=t.rectangles,c=l.length-1;c>=0&&l[c].level>n;--c){var h=l[c];p(h,r)&&(n=h.level)}t=t.parent}return n}function y(e,t,r){if(t){var n,i=!1;for(n=0;n<r.length;++n)i=i||c(t.extent,r[n]);if(i){var o=t.rectangles;for(n=0;n<o.length;++n){var a=o[n];e[a.level]||(e[a.level]=r),e[a.level]=g(e[a.level],a)}y(e,t._nw,r),y(e,t._ne,r),y(e,t._sw,r),y(e,t._se,r)}}}function g(e,t){for(var r=[],n=0;n<e.length;++n){var i=e[n];c(i,t)?(i.west<t.west&&r.push(new o(i.west,i.south,t.west,i.north)),i.east>t.east&&r.push(new o(t.east,i.south,i.east,i.north)),i.south<t.south&&r.push(new o(Math.max(t.west,i.west),i.south,Math.min(t.east,i.east),t.south)),i.north>t.north&&r.push(new o(Math.max(t.west,i.west),t.north,Math.min(t.east,i.east),i.north))):r.push(i)}return r}var E=new o;a.prototype.addAvailableTileRange=function(e,t,r,n,i){var o=this._tilingScheme,a=this._rootNodes;if(0===e)for(var f=r;f<=i;++f)for(var d=t;d<=n;++d)s(e,d,f,a)||a.push(new u(o,void 0,0,d,f));o.tileXYToRectangle(t,r,e,E);var p=E.west,m=E.north;o.tileXYToRectangle(n,i,e,E)
;for(var y=E.east,g=E.south,_=new l(e,p,g,y,m),v=0;v<a.length;++v){var w=a[v];c(w.extent,_)&&h(this._maximumLevel,w,_)}},a.prototype.computeMaximumLevelAtPosition=function(e){for(var t,n=0;n<this._rootNodes.length;++n){var i=this._rootNodes[n];if(p(i.extent,e)){t=i;break}}return r(t)?m(void 0,t,e):-1};var _=[],v=[],w=new o,T=new o;a.prototype.computeBestAvailableLevelOverRectangle=function(e){var t=_;t.length=0,e.east<e.west?(t.push(o.fromRadians(-Math.PI,e.south,e.east,e.north,w)),t.push(o.fromRadians(e.west,e.south,Math.PI,e.north,T))):t.push(e);var n=v;n.length=0;var i;for(i=0;i<this._rootNodes.length;++i)y(n,this._rootNodes[i],t);for(i=n.length-1;i>=0;--i)if(r(n[i])&&0===n[i].length)return i;return 0};var O=new t;return a.prototype.isTileAvailable=function(e,t,r){var n=this._tilingScheme.tileXYToRectangle(t,r,e,E);return o.center(n,O),this.computeMaximumLevelAtPosition(O)>=e},a.prototype.computeChildMaskForTile=function(e,t,r){var n=e+1;if(n>=this._maximumLevel)return 0;var i=0;return i|=this.isTileAvailable(n,2*t,2*r+1)?1:0,i|=this.isTileAvailable(n,2*t+1,2*r+1)?2:0,i|=this.isTileAvailable(n,2*t,2*r)?4:0,i|=this.isTileAvailable(n,2*t+1,2*r)?8:0},n(u.prototype,{nw:{get:function(){return this._nw||(this._nw=new u(this.tilingScheme,this,this.level+1,2*this.x,2*this.y)),this._nw}},ne:{get:function(){return this._ne||(this._ne=new u(this.tilingScheme,this,this.level+1,2*this.x+1,2*this.y)),this._ne}},sw:{get:function(){return this._sw||(this._sw=new u(this.tilingScheme,this,this.level+1,2*this.x,2*this.y+1)),this._sw}},se:{get:function(){return this._se||(this._se=new u(this.tilingScheme,this,this.level+1,2*this.x+1,2*this.y+1)),this._se}}}),a}),r("Core/formatError",["./defined"],function(e){"use strict";function t(t){var r,n=t.name,i=t.message;r=e(n)&&e(i)?n+": "+i:t.toString();var o=t.stack;return e(o)&&(r+="\n"+o),r}return t}),r("Core/TileProviderError",["./defaultValue","./defined","./formatError"],function(e,t,r){"use strict";function n(t,r,n,i,o,a,s){this.provider=t,this.message=r,this.x=n,this.y=i,this.level=o,this.timesRetried=e(a,0),this.retry=!1,this.error=s}return n.handleError=function(e,i,o,a,s,u,l,c,h){var f=e;return t(e)?(f.provider=i,f.message=a,f.x=s,f.y=u,f.level=l,f.retry=!1,f.error=h,++f.timesRetried):f=new n(i,a,s,u,l,0,h),o.numberOfListeners>0?o.raiseEvent(f):console.log('An error occurred in "'+i.constructor.name+'": '+r(a)),f.retry&&t(c)&&c(),f},n.handleSuccess=function(e){t(e)&&(e.timesRetried=-1)},n}),r("Core/CesiumTerrainProvider",["../ThirdParty/Uri","../ThirdParty/when","./AttributeCompression","./BoundingSphere","./Cartesian2","./Cartesian3","./Credit","./defaultValue","./defined","./defineProperties","./DeveloperError","./Event","./GeographicTilingScheme","./getStringFromTypedArray","./HeightmapTerrainData","./IndexDatatype","./Math","./OrientedBoundingBox","./QuantizedMeshTerrainData","./Request","./RequestType","./Resource","./RuntimeError","./TerrainProvider","./TileAvailability","./TileProviderError"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m,y,g,E,_,v,w,T,O,S,b){"use strict";function C(e){this.resource=e.resource,this.version=e.version,this.isHeightmap=e.isHeightmap,this.tileUrlTemplates=e.tileUrlTemplates,this.availability=e.availability,this.hasVertexNormals=e.hasVertexNormals,this.hasWaterMask=e.hasWaterMask,this.hasMetadata=e.hasMetadata,this.availabilityLevels=e.availabilityLevels,this.availabilityTilesLoaded=e.availabilityTilesLoaded,this.littleEndianExtensionSize=e.littleEndianExtensionSize,this.availabilityTilesLoaded=e.availabilityTilesLoaded,this.availabilityPromiseCache={}}function R(e){function r(e){var i;if(!e.format)return i="The tile format is not specified in the layer.json file.",void(g=b.handleError(g,E,E._errorEvent,i,void 0,void 0,void 0,l));if(!e.tiles||0===e.tiles.length)return i="The layer.json file does not specify any tile URL templates.",void(g=b.handleError(g,E,E._errorEvent,i,void 0,void 0,void 0,l));var o=!1,a=!1,s=!1,c=!0,h=!1;if("heightmap-1.0"===e.format)h=!0,u(E._heightmapStructure)||(E._heightmapStructure={heightScale:.2,heightOffset:-1e3,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1,lowestEncodedHeight:0,highestEncodedHeight:65535}),a=!0,E._requestWaterMask=!0;else if(0!==e.format.indexOf("quantized-mesh-1."))return i='The tile format "'+e.format+'" is invalid or not supported.',void(g=b.handleError(g,E,E._errorEvent,i,void 0,void 0,void 0,l));var f=e.tiles,d=e.maxzoom;R=Math.max(R,d);var p;u(e.extensions)&&-1!==e.extensions.indexOf("octvertexnormals")?o=!0:u(e.extensions)&&-1!==e.extensions.indexOf("vertexnormals")&&(o=!0,c=!1),u(e.extensions)&&-1!==e.extensions.indexOf("watermask")&&(a=!0),u(e.extensions)&&-1!==e.extensions.indexOf("metadata")&&(s=!0);var w,O=e.metadataAvailability,I=e.available;if(u(I)&&!u(O)){w=new S(E._tilingScheme,I.length);for(var A=0;A<I.length;++A){var M=I[A],x=E._tilingScheme.getNumberOfYTilesAtLevel(A);u(T[A])||(T[A]=[]);for(var N=0;N<M.length;++N){var P=M[N],D=x-P.endY-1,L=x-P.startY-1;T[A].push([P.startX,D,P.endX,L]),w.addAvailableTileRange(A,P.startX,D,P.endX,L)}}}else u(O)&&(p=new S(E._tilingScheme,d),w=new S(E._tilingScheme,d),T[0]=[[0,0,1,0]],w.addAvailableTileRange(0,0,0,1,0));E._hasWaterMask=E._hasWaterMask||a,E._hasVertexNormals=E._hasVertexNormals||o,E._hasMetadata=E._hasMetadata||s,u(e.attribution)&&(v.length>0&&(v+=" "),v+=e.attribution),_.push(new C({resource:m,version:e.version,isHeightmap:h,tileUrlTemplates:f,availability:w,hasVertexNormals:o,hasWaterMask:a,hasMetadata:s,availabilityLevels:O,availabilityTilesLoaded:p,littleEndianExtensionSize:c}));var U=e.parentUrl;if(u(U)){if(!u(w))return console.log("A layer.json can't have a parentUrl if it does't have an available array."),t.resolve();m=m.getDerivedResource({url:U}),m.appendForwardSlash(),y=m.getDerivedResource({url:"layer.json"});var q=y.fetchJson();return t(q,r,n)}return t.resolve()}function n(e){var t="An error occurred while accessing "+y.url+".";g=b.handleError(g,E,E._errorEvent,t,void 0,void 0,void 0,l)}function i(e){r(e).then(function(){if(!u(g)){var e=T.length;if(e>0)for(var t=E._availability=new S(E._tilingScheme,R),r=0;r<e;++r)for(var n=T[r],i=0;i<n.length;++i){var o=n[i];t.addAvailableTileRange(r,o[0],o[1],o[2],o[3])}if(v.length>0){var s=new a(v);u(E._tileCredits)?E._tileCredits.push(s):E._tileCredits=[s]}E._ready=!0,E._readyPromise.resolve(!0)}})}function o(e){if(u(e)&&404===e.statusCode)return void i({tilejson:"2.1.0",format:"heightmap-1.0",version:"1.0.0",scheme:"tms",tiles:["{z}/{x}/{y}.terrain?v={version}"]});n(e)}function l(){t(y.fetchJson()).then(i).otherwise(o)}if(!u(e)||!u(e.url))throw new c("options.url is required.");this._tilingScheme=new f({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:1,ellipsoid:e.ellipsoid}),this._heightmapWidth=65,this._levelZeroMaximumGeometricError=O.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,this._heightmapWidth,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._heightmapStructure=void 0,this._hasWaterMask=!1,this._hasVertexNormals=!1,this._requestVertexNormals=s(e.requestVertexNormals,!1),this._requestWaterMask=s(e.requestWaterMask,!1),this._requestMetadata=s(e.requestMetadata,!0),this._errorEvent=new h;var d=e.credit;"string"==typeof d&&(d=new a(d)),this._credit=d,this._availability=void 0;var p=t.defer();this._ready=!1,this._readyPromise=p,this._tileCredits=void 0;var m,y,g,E=this,_=this._layers=[],v="",T=[],R=0;t(e.url).then(function(e){var t=w.createIfNeeded(e);t.appendForwardSlash(),m=t,y=m.getDerivedResource({url:"layer.json"}),E._tileCredits=t.credits,l()}).otherwise(function(e){p.reject(e)})}function I(e){return u(e)&&0!==e.length?{Accept:"application/vnd.quantized-mesh;extensions="+e.join("-")+",application/octet-stream;q=0.9,*/*;q=0.01"}:{Accept:"application/vnd.quantized-mesh,application/octet-stream;q=0.9,*/*;q=0.01"}}function A(e,t,r,n,i,o){var a=new Uint16Array(t,0,e._heightmapWidth*e._heightmapWidth);return new p({buffer:a,childTileMask:new Uint8Array(t,a.byteLength,1)[0],waterMask:new Uint8Array(t,a.byteLength+1,t.byteLength-a.byteLength-1),width:e._heightmapWidth,height:e._heightmapWidth,structure:e._heightmapStructure,credits:e._tileCredits})}function M(e,t,i,a,s,l,c){var h=c.littleEndianExtensionSize,f=0,p=3*Float64Array.BYTES_PER_ELEMENT,_=4*Float64Array.BYTES_PER_ELEMENT,v=3*Uint16Array.BYTES_PER_ELEMENT,w=Uint16Array.BYTES_PER_ELEMENT,T=3*w,O=new DataView(t),S=new o(O.getFloat64(f,!0),O.getFloat64(f+8,!0),O.getFloat64(f+16,!0));f+=p;var b=O.getFloat32(f,!0);f+=Float32Array.BYTES_PER_ELEMENT;var C=O.getFloat32(f,!0);f+=Float32Array.BYTES_PER_ELEMENT;var R=new n(new o(O.getFloat64(f,!0),O.getFloat64(f+8,!0),O.getFloat64(f+16,!0)),O.getFloat64(f+p,!0));f+=_;var I=new o(O.getFloat64(f,!0),O.getFloat64(f+8,!0),O.getFloat64(f+16,!0));f+=p;var A=O.getUint32(f,!0);f+=Uint32Array.BYTES_PER_ELEMENT;var M=new Uint16Array(t,f,3*A);f+=A*v,A>65536&&(w=Uint32Array.BYTES_PER_ELEMENT,T=3*w);var x=M.subarray(0,A),N=M.subarray(A,2*A),P=M.subarray(2*A,3*A);r.zigZagDeltaDecode(x,N,P),f%w!=0&&(f+=w-f%w);var L=O.getUint32(f,!0);f+=Uint32Array.BYTES_PER_ELEMENT;var U=m.createTypedArrayFromArrayBuffer(A,t,f,3*L);f+=L*T;for(var q=0,B=U.length,F=0;F<B;++F){var j=U[F];U[F]=q-j,0===j&&++q}var z=O.getUint32(f,!0);f+=Uint32Array.BYTES_PER_ELEMENT;var G=m.createTypedArrayFromArrayBuffer(A,t,f,z);f+=z*w;var k=O.getUint32(f,!0);f+=Uint32Array.BYTES_PER_ELEMENT;var H=m.createTypedArrayFromArrayBuffer(A,t,f,k);f+=k*w;var V=O.getUint32(f,!0);f+=Uint32Array.BYTES_PER_ELEMENT;var W=m.createTypedArrayFromArrayBuffer(A,t,f,V);f+=V*w;var Y=O.getUint32(f,!0);f+=Uint32Array.BYTES_PER_ELEMENT;var X=m.createTypedArrayFromArrayBuffer(A,t,f,Y);f+=Y*w;for(var Z,K;f<O.byteLength;){var Q=O.getUint8(f,!0);f+=Uint8Array.BYTES_PER_ELEMENT;var J=O.getUint32(f,h);if(f+=Uint32Array.BYTES_PER_ELEMENT,Q===D.OCT_VERTEX_NORMALS&&e._requestVertexNormals)Z=new Uint8Array(t,f,2*A);else if(Q===D.WATER_MASK&&e._requestWaterMask)K=new Uint8Array(t,f,J);else if(Q===D.METADATA&&e._requestMetadata){var $=O.getUint32(f,!0);if($>0){var ee=d(new Uint8Array(t),f+Uint32Array.BYTES_PER_ELEMENT,$),te=JSON.parse(ee),re=te.available;if(u(re))for(var ne=0;ne<re.length;++ne)for(var ie=i+ne+1,oe=re[ne],ae=e._tilingScheme.getNumberOfYTilesAtLevel(ie),se=0;se<oe.length;++se){var ue=oe[se],le=ae-ue.endY-1,ce=ae-ue.startY-1;e.availability.addAvailableTileRange(ie,ue.startX,le,ue.endX,ce),c.availability.addAvailableTileRange(ie,ue.startX,le,ue.endX,ce)}}c.availabilityTilesLoaded.addAvailableTileRange(i,a,s,a,s)}f+=J}var he,fe=5*e.getLevelMaximumGeometricError(i),de=e._tilingScheme.tileXYToRectangle(a,s,i);return de.width<y.PI_OVER_TWO+y.EPSILON5&&(he=g.fromRectangle(de,b,C,e._tilingScheme.ellipsoid)),new E({center:S,minimumHeight:b,maximumHeight:C,boundingSphere:R,orientedBoundingBox:he,horizonOcclusionPoint:I,quantizedVertices:M,encodedNormals:Z,indices:U,westIndices:G,southIndices:H,eastIndices:W,northIndices:X,westSkirtHeight:fe,southSkirtHeight:fe,eastSkirtHeight:fe,northSkirtHeight:fe,childTileMask:e.availability.computeChildMaskForTile(i,a,s),waterMask:K,credits:e._tileCredits})}function x(e,r,n,i,o,a){if(!u(o))return t.reject(new T("Terrain tile doesn't exist"));var s=o.tileUrlTemplates;if(0!==s.length){var l=e._tilingScheme.getNumberOfYTilesAtLevel(i),c=l-n-1,h=[];e._requestVertexNormals&&o.hasVertexNormals&&h.push(o.littleEndianExtensionSize?"octvertexnormals":"vertexnormals"),e._requestWaterMask&&o.hasWaterMask&&h.push("watermask"),e._requestMetadata&&o.hasMetadata&&h.push("metadata");var f,d,p=s[(r+c+i)%s.length],m=o.resource;u(m._ionEndpoint)&&!u(m._ionEndpoint.externalType)?(0!==h.length&&(d={extensions:h.join("-")}),f=I(void 0)):f=I(h);var y=m.getDerivedResource({url:p,templateValues:{version:o.version,z:i,x:r,y:c},queryParameters:d,headers:f,request:a}).fetchArrayBuffer();if(u(y))return y.then(function(t){return u(e._heightmapStructure)?A(e,t,i,r,n,c):M(e,t,i,r,n,c,o)})}}function N(e,t,r,n){if(0!==n){var i=e.availabilityLevels,o=n%i==0?n-i:(n/i|0)*i,a=1<<n-o;return{level:o,x:t/a|0,y:r/a|0}}}function P(e,t,r,n,i,o){if(!u(i.availabilityLevels))return{result:!1};for(var a,s=function(){delete i.availabilityPromiseCache[a]},l=i.availabilityTilesLoaded,c=i.availability,h=N(i,t,r,n);u(h);){if(c.isTileAvailable(h.level,h.x,h.y)&&!l.isTileAvailable(h.level,h.x,h.y)){var f;if(!o&&(a=h.level+"-"+h.x+"-"+h.y,f=i.availabilityPromiseCache[a],!u(f))){var d=new _({throttle:!0,throttleByServer:!0,type:v.TERRAIN});f=x(e,h.x,h.y,h.level,i,d),u(f)&&(i.availabilityPromiseCache[a]=f,f.then(s))}return{result:!0,promise:f}}h=N(i,h.x,h.y,h.level)}return{result:!1}}var D={OCT_VERTEX_NORMALS:1,WATER_MASK:2,METADATA:4};return R.prototype.requestTileGeometry=function(e,t,r,n){if(!this._ready)throw new c("requestTileGeometry must not be called before the terrain provider is ready.");var i,o=this._layers,a=o.length;if(1===a)i=o[0];else for(var s=0;s<a;++s){var l=o[s];if(!u(l.availability)||l.availability.isTileAvailable(r,e,t)){i=l;break}}return x(this,e,t,r,i,n)},l(R.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){if(!this._ready)throw new c("credit must not be called before the terrain provider is ready.");return this._credit}},tilingScheme:{get:function(){if(!this._ready)throw new c("tilingScheme must not be called before the terrain provider is ready.");return this._tilingScheme}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},hasWaterMask:{get:function(){if(!this._ready)throw new c("hasWaterMask must not be called before the terrain provider is ready.");return this._hasWaterMask&&this._requestWaterMask}},hasVertexNormals:{get:function(){if(!this._ready)throw new c("hasVertexNormals must not be called before the terrain provider is ready.");return this._hasVertexNormals&&this._requestVertexNormals}},hasMetadata:{get:function(){if(!this._ready)throw new c("hasMetadata must not be called before the terrain provider is ready.");return this._hasMetadata&&this._requestMetadata}},requestVertexNormals:{get:function(){return this._requestVertexNormals}},requestWaterMask:{get:function(){return this._requestWaterMask}},requestMetadata:{get:function(){return this._requestMetadata}},availability:{get:function(){if(!this._ready)throw new c("availability must not be called before the terrain provider is ready.");return this._availability}}}),R.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},R.prototype.getTileDataAvailable=function(e,t,r){if(u(this._availability)){if(r>this._availability._maximumLevel)return!1;if(this._availability.isTileAvailable(r,e,t))return!0;if(!this._hasMetadata)return!1;for(var n=this._layers,i=n.length,o=0;o<i;++o){if(P(this,e,t,r,n[o],0===o).result)return}return!1}},R.prototype.loadTileDataAvailability=function(e,t,r){if(!(!u(this._availability)||r>this._availability._maximumLevel||this._availability.isTileAvailable(r,e,t))&&this._hasMetadata)for(var n=this._layers,i=n.length,o=0;o<i;++o){var a=P(this,e,t,r,n[o],0===o);if(u(a.promise))return a.promise}},R._getAvailabilityTile=N,R}),r("Core/ClockRange",["./freezeObject"],function(e){"use strict";return e({UNBOUNDED:0,CLAMPED:1,LOOP_STOP:2})}),r("Core/ClockStep",["./freezeObject"],function(e){"use strict";return e({TICK_DEPENDENT:0,SYSTEM_CLOCK_MULTIPLIER:1,SYSTEM_CLOCK:2})}),r("Core/getTimestamp",[],function(){"use strict";return"undefined"!=typeof performance&&"function"==typeof performance.now&&isFinite(performance.now())?function(){return performance.now()}:function(){return Date.now()}}),r("Core/Clock",["./ClockRange","./ClockStep","./defaultValue","./defined","./defineProperties","./DeveloperError","./Event","./getTimestamp","./JulianDate"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(i){i=r(i,r.EMPTY_OBJECT);var l=i.currentTime,c=i.startTime,h=i.stopTime;if(l=n(l)?u.clone(l):n(c)?u.clone(c):n(h)?u.addDays(h,-1,new u):u.now(),c=n(c)?u.clone(c):u.clone(l),h=n(h)?u.clone(h):u.addDays(c,1,new u),u.greaterThan(c,h))throw new o("startTime must come before stopTime.");this.startTime=c,this.stopTime=h,this.clockRange=r(i.clockRange,e.UNBOUNDED),this.canAnimate=r(i.canAnimate,!0),this.onTick=new a,this.onStop=new a,this._currentTime=void 0,this._multiplier=void 0,this._clockStep=void 0,this._shouldAnimate=void 0,this._lastSystemTime=s(),this.currentTime=l,this.multiplier=r(i.multiplier,1),this.shouldAnimate=r(i.shouldAnimate,!1),this.clockStep=r(i.clockStep,t.SYSTEM_CLOCK_MULTIPLIER)}return i(l.prototype,{currentTime:{get:function(){return this._currentTime},set:function(e){u.equals(this._currentTime,e)||(this._clockStep===t.SYSTEM_CLOCK&&(this._clockStep=t.SYSTEM_CLOCK_MULTIPLIER),this._currentTime=e)}},multiplier:{get:function(){return this._multiplier},set:function(e){this._multiplier!==e&&(this._clockStep===t.SYSTEM_CLOCK&&(this._clockStep=t.SYSTEM_CLOCK_MULTIPLIER),this._multiplier=e)}},clockStep:{get:function(){return this._clockStep},set:function(e){e===t.SYSTEM_CLOCK&&(this._multiplier=1,this._shouldAnimate=!0,this._currentTime=u.now()),this._clockStep=e}},shouldAnimate:{get:function(){return this._shouldAnimate},set:function(e){this._shouldAnimate!==e&&(this._clockStep===t.SYSTEM_CLOCK&&(this._clockStep=t.SYSTEM_CLOCK_MULTIPLIER),this._shouldAnimate=e)}}}),l.prototype.tick=function(){var r=s(),n=u.clone(this._currentTime);if(this.canAnimate&&this._shouldAnimate){var i=this._clockStep;if(i===t.SYSTEM_CLOCK)n=u.now(n);else{var o=this._multiplier;if(i===t.TICK_DEPENDENT)n=u.addSeconds(n,o,n);else{var a=r-this._lastSystemTime;n=u.addSeconds(n,o*(a/1e3),n)}var l=this.clockRange,c=this.startTime,h=this.stopTime;if(l===e.CLAMPED)u.lessThan(n,c)?n=u.clone(c,n):u.greaterThan(n,h)&&(n=u.clone(h,n),this.onStop.raiseEvent(this));else if(l===e.LOOP_STOP)for(u.lessThan(n,c)&&(n=u.clone(c,n));u.greaterThan(n,h);)n=u.addSeconds(c,u.secondsDifference(n,h),n),this.onStop.raiseEvent(this)}}return this._currentTime=n,this._lastSystemTime=r,this.onTick.raiseEvent(this),n},l}),r("Core/Color",["./Check","./defaultValue","./defined","./FeatureDetection","./freezeObject","./Math"],function(e,t,r,n,i,o){"use strict";function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),6*r<1?e+6*(t-e)*r:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function s(e,r,n,i){this.red=t(e,1),this.green=t(r,1),this.blue=t(n,1),this.alpha=t(i,1)}s.fromCartesian4=function(t,n){return e.typeOf.object("cartesian",t),r(n)?(n.red=t.x,n.green=t.y,n.blue=t.z,n.alpha=t.w,n):new s(t.x,t.y,t.z,t.w)},s.fromBytes=function(e,n,i,o,a){return e=s.byteToFloat(t(e,255)),n=s.byteToFloat(t(n,255)),i=s.byteToFloat(t(i,255)),o=s.byteToFloat(t(o,255)),r(a)?(a.red=e,a.green=n,a.blue=i,a.alpha=o,a):new s(e,n,i,o)},s.fromAlpha=function(t,n,i){return e.typeOf.object("color",t),e.typeOf.number("alpha",n),r(i)?(i.red=t.red,i.green=t.green,i.blue=t.blue,i.alpha=n,i):new s(t.red,t.green,t.blue,n)};var u,l,c;n.supportsTypedArrays()&&(u=new ArrayBuffer(4),l=new Uint32Array(u),c=new Uint8Array(u)),s.fromRgba=function(e,t){return l[0]=e,s.fromBytes(c[0],c[1],c[2],c[3],t)},s.fromHsl=function(e,n,i,o,u){e=t(e,0)%1,n=t(n,0),i=t(i,0),o=t(o,1);var l=i,c=i,h=i;if(0!==n){var f;f=i<.5?i*(1+n):i+n-i*n;var d=2*i-f;l=a(d,f,e+1/3),c=a(d,f,e),h=a(d,f,e-1/3)}return r(u)?(u.red=l,u.green=c,u.blue=h,u.alpha=o,u):new s(l,c,h,o)},s.fromRandom=function(n,i){n=t(n,t.EMPTY_OBJECT);var a=n.red;if(!r(a)){var u=t(n.minimumRed,0),l=t(n.maximumRed,1);e.typeOf.number.lessThanOrEquals("minimumRed",u,l),a=u+o.nextRandomNumber()*(l-u)}var c=n.green;if(!r(c)){var h=t(n.minimumGreen,0),f=t(n.maximumGreen,1);e.typeOf.number.lessThanOrEquals("minimumGreen",h,f),c=h+o.nextRandomNumber()*(f-h)}var d=n.blue;if(!r(d)){var p=t(n.minimumBlue,0),m=t(n.maximumBlue,1);e.typeOf.number.lessThanOrEquals("minimumBlue",p,m),d=p+o.nextRandomNumber()*(m-p)}var y=n.alpha;if(!r(y)){var g=t(n.minimumAlpha,0),E=t(n.maximumAlpha,1);e.typeOf.number.lessThanOrEquals("minumumAlpha",g,E),y=g+o.nextRandomNumber()*(E-g)}return r(i)?(i.red=a,i.green=c,i.blue=d,i.alpha=y,i):new s(a,c,d,y)};var h=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,f=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,d=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,p=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;return s.fromCssColorString=function(n,i){e.typeOf.string("color",n),r(i)||(i=new s);var o=s[n.toUpperCase()];if(r(o))return s.clone(o,i),i;var a=h.exec(n);return null!==a?(i.red=parseInt(a[1],16)/15,i.green=parseInt(a[2],16)/15,i.blue=parseInt(a[3],16)/15,i.alpha=1,i):null!==(a=f.exec(n))?(i.red=parseInt(a[1],16)/255,i.green=parseInt(a[2],16)/255,i.blue=parseInt(a[3],16)/255,i.alpha=1,i):null!==(a=d.exec(n))?(i.red=parseFloat(a[1])/("%"===a[1].substr(-1)?100:255),i.green=parseFloat(a[2])/("%"===a[2].substr(-1)?100:255),i.blue=parseFloat(a[3])/("%"===a[3].substr(-1)?100:255),i.alpha=parseFloat(t(a[4],"1.0")),i):null!==(a=p.exec(n))?s.fromHsl(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,parseFloat(t(a[4],"1.0")),i):i=void 0},s.packedLength=4,s.pack=function(r,n,i){return e.typeOf.object("value",r),e.defined("array",n),i=t(i,0),n[i++]=r.red,n[i++]=r.green,n[i++]=r.blue,n[i]=r.alpha,n},s.unpack=function(n,i,o){return e.defined("array",n),i=t(i,0),r(o)||(o=new s),o.red=n[i++],o.green=n[i++],o.blue=n[i++],o.alpha=n[i],o},s.byteToFloat=function(e){return e/255},s.floatToByte=function(e){return 1===e?255:256*e|0},s.clone=function(e,t){if(r(e))return r(t)?(t.red=e.red,t.green=e.green,t.blue=e.blue,t.alpha=e.alpha,t):new s(e.red,e.green,e.blue,e.alpha)},s.equals=function(e,t){return e===t||r(e)&&r(t)&&e.red===t.red&&e.green===t.green&&e.blue===t.blue&&e.alpha===t.alpha},s.equalsArray=function(e,t,r){return e.red===t[r]&&e.green===t[r+1]&&e.blue===t[r+2]&&e.alpha===t[r+3]},s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,t){return this===e||r(e)&&Math.abs(this.red-e.red)<=t&&Math.abs(this.green-e.green)<=t&&Math.abs(this.blue-e.blue)<=t&&Math.abs(this.alpha-e.alpha)<=t},s.prototype.toString=function(){return"("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},s.prototype.toCssColorString=function(){var e=s.floatToByte(this.red),t=s.floatToByte(this.green),r=s.floatToByte(this.blue);return 1===this.alpha?"rgb("+e+","+t+","+r+")":"rgba("+e+","+t+","+r+","+this.alpha+")"},s.prototype.toBytes=function(e){var t=s.floatToByte(this.red),n=s.floatToByte(this.green),i=s.floatToByte(this.blue),o=s.floatToByte(this.alpha);return r(e)?(e[0]=t,e[1]=n,e[2]=i,e[3]=o,e):[t,n,i,o]},s.prototype.toRgba=function(){return c[0]=s.floatToByte(this.red),c[1]=s.floatToByte(this.green),c[2]=s.floatToByte(this.blue),c[3]=s.floatToByte(this.alpha),l[0]},s.prototype.brighten=function(t,r){return e.typeOf.number("magnitude",t),e.typeOf.number.greaterThanOrEquals("magnitude",t,0),e.typeOf.object("result",r),t=1-t,r.red=1-(1-this.red)*t,r.green=1-(1-this.green)*t,r.blue=1-(1-this.blue)*t,r.alpha=this.alpha,r},s.prototype.darken=function(t,r){return e.typeOf.number("magnitude",t),e.typeOf.number.greaterThanOrEquals("magnitude",t,0),e.typeOf.object("result",r),t=1-t,r.red=this.red*t,r.green=this.green*t,r.blue=this.blue*t,r.alpha=this.alpha,r},s.prototype.withAlpha=function(e,t){return s.fromAlpha(this,e,t)},s.add=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.red=t.red+r.red,n.green=t.green+r.green,n.blue=t.blue+r.blue,n.alpha=t.alpha+r.alpha,n},s.subtract=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.red=t.red-r.red,n.green=t.green-r.green,n.blue=t.blue-r.blue,n.alpha=t.alpha-r.alpha,n},s.multiply=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.red=t.red*r.red,n.green=t.green*r.green,n.blue=t.blue*r.blue,n.alpha=t.alpha*r.alpha,n},s.divide=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.red=t.red/r.red,n.green=t.green/r.green,n.blue=t.blue/r.blue,n.alpha=t.alpha/r.alpha,n},s.mod=function(t,r,n){return e.typeOf.object("left",t),e.typeOf.object("right",r),e.typeOf.object("result",n),n.red=t.red%r.red,n.green=t.green%r.green,n.blue=t.blue%r.blue,n.alpha=t.alpha%r.alpha,n},s.multiplyByScalar=function(t,r,n){return e.typeOf.object("color",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.red=t.red*r,n.green=t.green*r,n.blue=t.blue*r,n.alpha=t.alpha*r,n},s.divideByScalar=function(t,r,n){return e.typeOf.object("color",t),e.typeOf.number("scalar",r),e.typeOf.object("result",n),n.red=t.red/r,n.green=t.green/r,n.blue=t.blue/r,n.alpha=t.alpha/r,n},s.ALICEBLUE=i(s.fromCssColorString("#F0F8FF")),s.ANTIQUEWHITE=i(s.fromCssColorString("#FAEBD7")),s.AQUA=i(s.fromCssColorString("#00FFFF")),s.AQUAMARINE=i(s.fromCssColorString("#7FFFD4")),s.AZURE=i(s.fromCssColorString("#F0FFFF")),s.BEIGE=i(s.fromCssColorString("#F5F5DC")),s.BISQUE=i(s.fromCssColorString("#FFE4C4")),s.BLACK=i(s.fromCssColorString("#000000")),s.BLANCHEDALMOND=i(s.fromCssColorString("#FFEBCD")),s.BLUE=i(s.fromCssColorString("#0000FF")),s.BLUEVIOLET=i(s.fromCssColorString("#8A2BE2")),s.BROWN=i(s.fromCssColorString("#A52A2A")),s.BURLYWOOD=i(s.fromCssColorString("#DEB887")),s.CADETBLUE=i(s.fromCssColorString("#5F9EA0")),s.CHARTREUSE=i(s.fromCssColorString("#7FFF00")),s.CHOCOLATE=i(s.fromCssColorString("#D2691E")),s.CORAL=i(s.fromCssColorString("#FF7F50")),s.CORNFLOWERBLUE=i(s.fromCssColorString("#6495ED")),s.CORNSILK=i(s.fromCssColorString("#FFF8DC")),s.CRIMSON=i(s.fromCssColorString("#DC143C")),s.CYAN=i(s.fromCssColorString("#00FFFF")),s.DARKBLUE=i(s.fromCssColorString("#00008B")),s.DARKCYAN=i(s.fromCssColorString("#008B8B")),s.DARKGOLDENROD=i(s.fromCssColorString("#B8860B")),s.DARKGRAY=i(s.fromCssColorString("#A9A9A9")),s.DARKGREEN=i(s.fromCssColorString("#006400")),s.DARKGREY=s.DARKGRAY,s.DARKKHAKI=i(s.fromCssColorString("#BDB76B")),s.DARKMAGENTA=i(s.fromCssColorString("#8B008B")),s.DARKOLIVEGREEN=i(s.fromCssColorString("#556B2F")),s.DARKORANGE=i(s.fromCssColorString("#FF8C00")),s.DARKORCHID=i(s.fromCssColorString("#9932CC")),s.DARKRED=i(s.fromCssColorString("#8B0000")),s.DARKSALMON=i(s.fromCssColorString("#E9967A")),s.DARKSEAGREEN=i(s.fromCssColorString("#8FBC8F")),s.DARKSLATEBLUE=i(s.fromCssColorString("#483D8B")),s.DARKSLATEGRAY=i(s.fromCssColorString("#2F4F4F")),s.DARKSLATEGREY=s.DARKSLATEGRAY,s.DARKTURQUOISE=i(s.fromCssColorString("#00CED1")),s.DARKVIOLET=i(s.fromCssColorString("#9400D3")),s.DEEPPINK=i(s.fromCssColorString("#FF1493")),s.DEEPSKYBLUE=i(s.fromCssColorString("#00BFFF")),s.DIMGRAY=i(s.fromCssColorString("#696969")),s.DIMGREY=s.DIMGRAY,s.DODGERBLUE=i(s.fromCssColorString("#1E90FF")),s.FIREBRICK=i(s.fromCssColorString("#B22222")),s.FLORALWHITE=i(s.fromCssColorString("#FFFAF0")),s.FORESTGREEN=i(s.fromCssColorString("#228B22")),s.FUCHSIA=i(s.fromCssColorString("#FF00FF")),s.GAINSBORO=i(s.fromCssColorString("#DCDCDC")),s.GHOSTWHITE=i(s.fromCssColorString("#F8F8FF")),s.GOLD=i(s.fromCssColorString("#FFD700")),s.GOLDENROD=i(s.fromCssColorString("#DAA520")),s.GRAY=i(s.fromCssColorString("#808080")),s.GREEN=i(s.fromCssColorString("#008000")),s.GREENYELLOW=i(s.fromCssColorString("#ADFF2F")),s.GREY=s.GRAY,s.HONEYDEW=i(s.fromCssColorString("#F0FFF0")),s.HOTPINK=i(s.fromCssColorString("#FF69B4")),s.INDIANRED=i(s.fromCssColorString("#CD5C5C")),s.INDIGO=i(s.fromCssColorString("#4B0082")),s.IVORY=i(s.fromCssColorString("#FFFFF0")),s.KHAKI=i(s.fromCssColorString("#F0E68C")),s.LAVENDER=i(s.fromCssColorString("#E6E6FA")),s.LAVENDAR_BLUSH=i(s.fromCssColorString("#FFF0F5")),s.LAWNGREEN=i(s.fromCssColorString("#7CFC00")),s.LEMONCHIFFON=i(s.fromCssColorString("#FFFACD")),s.LIGHTBLUE=i(s.fromCssColorString("#ADD8E6")),s.LIGHTCORAL=i(s.fromCssColorString("#F08080")),s.LIGHTCYAN=i(s.fromCssColorString("#E0FFFF")),s.LIGHTGOLDENRODYELLOW=i(s.fromCssColorString("#FAFAD2")),s.LIGHTGRAY=i(s.fromCssColorString("#D3D3D3")),s.LIGHTGREEN=i(s.fromCssColorString("#90EE90")),s.LIGHTGREY=s.LIGHTGRAY,s.LIGHTPINK=i(s.fromCssColorString("#FFB6C1")),s.LIGHTSEAGREEN=i(s.fromCssColorString("#20B2AA")),s.LIGHTSKYBLUE=i(s.fromCssColorString("#87CEFA")),s.LIGHTSLATEGRAY=i(s.fromCssColorString("#778899")),s.LIGHTSLATEGREY=s.LIGHTSLATEGRAY,s.LIGHTSTEELBLUE=i(s.fromCssColorString("#B0C4DE")),s.LIGHTYELLOW=i(s.fromCssColorString("#FFFFE0")),s.LIME=i(s.fromCssColorString("#00FF00")),s.LIMEGREEN=i(s.fromCssColorString("#32CD32")),s.LINEN=i(s.fromCssColorString("#FAF0E6")),s.MAGENTA=i(s.fromCssColorString("#FF00FF")),s.MAROON=i(s.fromCssColorString("#800000")),s.MEDIUMAQUAMARINE=i(s.fromCssColorString("#66CDAA")),s.MEDIUMBLUE=i(s.fromCssColorString("#0000CD")),s.MEDIUMORCHID=i(s.fromCssColorString("#BA55D3")),s.MEDIUMPURPLE=i(s.fromCssColorString("#9370DB")),s.MEDIUMSEAGREEN=i(s.fromCssColorString("#3CB371")),s.MEDIUMSLATEBLUE=i(s.fromCssColorString("#7B68EE")),s.MEDIUMSPRINGGREEN=i(s.fromCssColorString("#00FA9A")),s.MEDIUMTURQUOISE=i(s.fromCssColorString("#48D1CC")),s.MEDIUMVIOLETRED=i(s.fromCssColorString("#C71585")),s.MIDNIGHTBLUE=i(s.fromCssColorString("#191970")),s.MINTCREAM=i(s.fromCssColorString("#F5FFFA")),s.MISTYROSE=i(s.fromCssColorString("#FFE4E1")),s.MOCCASIN=i(s.fromCssColorString("#FFE4B5")),s.NAVAJOWHITE=i(s.fromCssColorString("#FFDEAD")),s.NAVY=i(s.fromCssColorString("#000080")),s.OLDLACE=i(s.fromCssColorString("#FDF5E6")),s.OLIVE=i(s.fromCssColorString("#808000")),s.OLIVEDRAB=i(s.fromCssColorString("#6B8E23")),s.ORANGE=i(s.fromCssColorString("#FFA500")),s.ORANGERED=i(s.fromCssColorString("#FF4500")),s.ORCHID=i(s.fromCssColorString("#DA70D6")),s.PALEGOLDENROD=i(s.fromCssColorString("#EEE8AA")),s.PALEGREEN=i(s.fromCssColorString("#98FB98")),s.PALETURQUOISE=i(s.fromCssColorString("#AFEEEE")),s.PALEVIOLETRED=i(s.fromCssColorString("#DB7093")),s.PAPAYAWHIP=i(s.fromCssColorString("#FFEFD5")),s.PEACHPUFF=i(s.fromCssColorString("#FFDAB9")),s.PERU=i(s.fromCssColorString("#CD853F")),s.PINK=i(s.fromCssColorString("#FFC0CB")),s.PLUM=i(s.fromCssColorString("#DDA0DD")),s.POWDERBLUE=i(s.fromCssColorString("#B0E0E6")),s.PURPLE=i(s.fromCssColorString("#800080")),s.RED=i(s.fromCssColorString("#FF0000")),s.ROSYBROWN=i(s.fromCssColorString("#BC8F8F")),s.ROYALBLUE=i(s.fromCssColorString("#4169E1")),s.SADDLEBROWN=i(s.fromCssColorString("#8B4513")),s.SALMON=i(s.fromCssColorString("#FA8072")),s.SANDYBROWN=i(s.fromCssColorString("#F4A460")),s.SEAGREEN=i(s.fromCssColorString("#2E8B57")),s.SEASHELL=i(s.fromCssColorString("#FFF5EE")),s.SIENNA=i(s.fromCssColorString("#A0522D")),s.SILVER=i(s.fromCssColorString("#C0C0C0")),s.SKYBLUE=i(s.fromCssColorString("#87CEEB")),s.SLATEBLUE=i(s.fromCssColorString("#6A5ACD")),s.SLATEGRAY=i(s.fromCssColorString("#708090")),s.SLATEGREY=s.SLATEGRAY,s.SNOW=i(s.fromCssColorString("#FFFAFA")),s.SPRINGGREEN=i(s.fromCssColorString("#00FF7F")),s.STEELBLUE=i(s.fromCssColorString("#4682B4")),s.TAN=i(s.fromCssColorString("#D2B48C")),s.TEAL=i(s.fromCssColorString("#008080")),s.THISTLE=i(s.fromCssColorString("#D8BFD8")),s.TOMATO=i(s.fromCssColorString("#FF6347")),s.TURQUOISE=i(s.fromCssColorString("#40E0D0")),s.VIOLET=i(s.fromCssColorString("#EE82EE")),s.WHEAT=i(s.fromCssColorString("#F5DEB3")),s.WHITE=i(s.fromCssColorString("#FFFFFF")),s.WHITESMOKE=i(s.fromCssColorString("#F5F5F5")),s.YELLOW=i(s.fromCssColorString("#FFFF00")),s.YELLOWGREEN=i(s.fromCssColorString("#9ACD32")),s.TRANSPARENT=i(new s(0,0,0,0)),s}),r("Core/CompressedTextureBuffer",["./defined","./defineProperties"],function(e,t){"use strict";function r(e,t,r,n){this._format=e,this._width=t,this._height=r,this._buffer=n}return t(r.prototype,{internalFormat:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},bufferView:{get:function(){return this._buffer}}}),r.clone=function(t){if(e(t))return new r(t._format,t._width,t._height,t._buffer)},r.prototype.clone=function(){return r.clone(this)},r
}),r("Core/CornerType",["./freezeObject"],function(e){"use strict";return e({ROUNDED:0,MITERED:1,BEVELED:2})}),r("Core/CullingVolume",["./Cartesian3","./Cartesian4","./defaultValue","./defined","./DeveloperError","./Intersect","./Plane"],function(e,t,r,n,i,o,a){"use strict";function s(e){this.planes=r(e,[])}var u=[new e,new e,new e];e.clone(e.UNIT_X,u[0]),e.clone(e.UNIT_Y,u[1]),e.clone(e.UNIT_Z,u[2]);var l=new e,c=new e,h=new a(new e(1,0,0),0);return s.fromBoundingSphere=function(r,o){if(!n(r))throw new i("boundingSphere is required.");n(o)||(o=new s);var a=u.length,h=o.planes;h.length=2*a;for(var f=r.center,d=r.radius,p=0,m=0;m<a;++m){var y=u[m],g=h[p],E=h[p+1];n(g)||(g=h[p]=new t),n(E)||(E=h[p+1]=new t),e.multiplyByScalar(y,-d,l),e.add(f,l,l),g.x=y.x,g.y=y.y,g.z=y.z,g.w=-e.dot(y,l),e.multiplyByScalar(y,d,l),e.add(f,l,l),E.x=-y.x,E.y=-y.y,E.z=-y.z,E.w=-e.dot(e.negate(y,c),l),p+=2}return o},s.prototype.computeVisibility=function(e){if(!n(e))throw new i("boundingVolume is required.");for(var t=this.planes,r=!1,s=0,u=t.length;s<u;++s){var l=e.intersectPlane(a.fromCartesian4(t[s],h));if(l===o.OUTSIDE)return o.OUTSIDE;l===o.INTERSECTING&&(r=!0)}return r?o.INTERSECTING:o.INSIDE},s.prototype.computeVisibilityWithPlaneMask=function(e,t){if(!n(e))throw new i("boundingVolume is required.");if(!n(t))throw new i("parentPlaneMask is required.");if(t===s.MASK_OUTSIDE||t===s.MASK_INSIDE)return t;for(var r=s.MASK_INSIDE,u=this.planes,l=0,c=u.length;l<c;++l){var f=l<31?1<<l:0;if(!(l<31&&0==(t&f))){var d=e.intersectPlane(a.fromCartesian4(u[l],h));if(d===o.OUTSIDE)return s.MASK_OUTSIDE;d===o.INTERSECTING&&(r|=f)}}return r},s.MASK_OUTSIDE=4294967295,s.MASK_INSIDE=0,s.MASK_INDETERMINATE=2147483647,s}),r("Core/DefaultProxy",[],function(){"use strict";function e(e){this.proxy=e}return e.prototype.getURL=function(e){var t=-1===this.proxy.indexOf("?")?"?":"";return this.proxy+t+encodeURIComponent(e)},e}),r("Core/DistanceDisplayCondition",["./defaultValue","./defined","./defineProperties","./DeveloperError"],function(e,t,r,n){"use strict";function i(t,r){t=e(t,0),this._near=t,r=e(r,Number.MAX_VALUE),this._far=r}return r(i.prototype,{near:{get:function(){return this._near},set:function(e){this._near=e}},far:{get:function(){return this._far},set:function(e){this._far=e}}}),i.packedLength=2,i.pack=function(r,i,o){if(!t(r))throw new n("value is required");if(!t(i))throw new n("array is required");return o=e(o,0),i[o++]=r.near,i[o]=r.far,i},i.unpack=function(r,o,a){if(!t(r))throw new n("array is required");return o=e(o,0),t(a)||(a=new i),a.near=r[o++],a.far=r[o],a},i.equals=function(e,r){return e===r||t(e)&&t(r)&&e.near===r.near&&e.far===r.far},i.clone=function(e,r){if(t(e))return t(r)||(r=new i),r.near=e.near,r.far=e.far,r},i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i}),r("Core/DoublyLinkedList",["./defined","./defineProperties"],function(e,t){"use strict";function r(){this.head=void 0,this.tail=void 0,this._length=0}function n(e,t,r){this.item=e,this.previous=t,this.next=r}function i(t,r){e(r.previous)&&e(r.next)?(r.previous.next=r.next,r.next.previous=r.previous):e(r.previous)?(r.previous.next=void 0,t.tail=r.previous):e(r.next)?(r.next.previous=void 0,t.head=r.next):(t.head=void 0,t.tail=void 0),r.next=void 0,r.previous=void 0}return t(r.prototype,{length:{get:function(){return this._length}}}),r.prototype.add=function(t){var r=new n(t,this.tail,void 0);return e(this.tail)?(this.tail.next=r,this.tail=r):(this.head=r,this.tail=r),++this._length,r},r.prototype.remove=function(t){e(t)&&(i(this,t),--this._length)},r.prototype.splice=function(e,t){if(e!==t){i(this,t);var r=e.next;e.next=t,this.tail===e?this.tail=t:r.previous=t,t.next=r,t.previous=e}},r}),r("ThirdParty/Tween",[],function(){void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var e=e||function(){var e=[];return{REVISION:"13",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)},update:function(t){if(0===e.length)return!1;var r=0;for(t=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();r<e.length;)e[r].update(t)?r++:e.splice(r,1);return!0}}}();return e.Tween=function(t){var r=t,n={},i={},o={},a=1e3,s=0,u=!1,l=!1,c=!1,h=0,f=null,d=e.Easing.Linear.None,p=e.Interpolation.Linear,m=[],y=null,g=!1,E=null,_=null,v=null;for(var w in t)n[w]=parseFloat(t[w],10);this.to=function(e,t){return void 0!==t&&(a=t),i=e,this},this.start=function(t){e.add(this),l=!0,g=!1,f=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),f+=h;for(var a in i){if(i[a]instanceof Array){if(0===i[a].length)continue;i[a]=[r[a]].concat(i[a])}n[a]=r[a],n[a]instanceof Array==!1&&(n[a]*=1),o[a]=n[a]||0}return this},this.stop=function(){return l?(e.remove(this),l=!1,null!==v&&v.call(r),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return d=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return y=e,this},this.onUpdate=function(e){return E=e,this},this.onComplete=function(e){return _=e,this},this.onStop=function(e){return v=e,this},this.update=function(e){var t;if(e<f)return!0;!1===g&&(null!==y&&y.call(r),g=!0);var l=(e-f)/a;l=l>1?1:l;var v=d(l);for(t in i){var w=n[t]||0,T=i[t];T instanceof Array?r[t]=p(T,v):("string"==typeof T&&(T=w+parseFloat(T,10)),"number"==typeof T&&(r[t]=w+(T-w)*v))}if(null!==E&&E.call(r,v),1==l){if(s>0){isFinite(s)&&s--;for(t in o){if("string"==typeof i[t]&&(o[t]=o[t]+parseFloat(i[t],10)),u){var O=o[t];o[t]=i[t],i[t]=O}n[t]=o[t]}return u&&(c=!c),f=e+h,!0}null!==_&&_.call(r);for(var S=0,b=m.length;S<b;S++)m[S].start(e);return!1}return!0}},e.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,r=.1;return 0===e?0:1===e?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},Out:function(e){var t,r=.1;return 0===e?0:1===e?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,r=.1;return 0===e?0:1===e?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(t){return 1-e.Easing.Bounce.Out(1-t)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(t){return t<.5?.5*e.Easing.Bounce.In(2*t):.5*e.Easing.Bounce.Out(2*t-1)+.5}}},e.Interpolation={Linear:function(t,r){var n=t.length-1,i=n*r,o=Math.floor(i),a=e.Interpolation.Utils.Linear;return r<0?a(t[0],t[1],i):r>1?a(t[n],t[n-1],n-i):a(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,r){var n,i=0,o=t.length-1,a=Math.pow,s=e.Interpolation.Utils.Bernstein;for(n=0;n<=o;n++)i+=a(1-r,o-n)*a(r,n)*t[n]*s(o,n);return i},CatmullRom:function(t,r){var n=t.length-1,i=n*r,o=Math.floor(i),a=e.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(r<0&&(o=Math.floor(i=n*(1+r))),a(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):r<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):r>1?t[n]-(a(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):a(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(t,r){var n=e.Interpolation.Utils.Factorial;return n(t)/n(r)/n(t-r)},Factorial:function(){var e=[1];return function(t){var r,n=1;if(e[t])return e[t];for(r=t;r>1;r--)n*=r;return e[t]=n}}(),CatmullRom:function(e,t,r,n,i){var o=.5*(r-e),a=.5*(n-t),s=i*i;return(2*t-2*r+o+a)*(i*s)+(-3*t+3*r-2*o-a)*s+o*i+t}}},e}),r("Core/EasingFunction",["../ThirdParty/Tween","./freezeObject"],function(e,t){"use strict";return t({LINEAR_NONE:e.Easing.Linear.None,QUADRACTIC_IN:e.Easing.Quadratic.In,QUADRACTIC_OUT:e.Easing.Quadratic.Out,QUADRACTIC_IN_OUT:e.Easing.Quadratic.InOut,CUBIC_IN:e.Easing.Cubic.In,CUBIC_OUT:e.Easing.Cubic.Out,CUBIC_IN_OUT:e.Easing.Cubic.InOut,QUARTIC_IN:e.Easing.Quartic.In,QUARTIC_OUT:e.Easing.Quartic.Out,QUARTIC_IN_OUT:e.Easing.Quartic.InOut,QUINTIC_IN:e.Easing.Quintic.In,QUINTIC_OUT:e.Easing.Quintic.Out,QUINTIC_IN_OUT:e.Easing.Quintic.InOut,SINUSOIDAL_IN:e.Easing.Sinusoidal.In,SINUSOIDAL_OUT:e.Easing.Sinusoidal.Out,SINUSOIDAL_IN_OUT:e.Easing.Sinusoidal.InOut,EXPONENTIAL_IN:e.Easing.Exponential.In,EXPONENTIAL_OUT:e.Easing.Exponential.Out,EXPONENTIAL_IN_OUT:e.Easing.Exponential.InOut,CIRCULAR_IN:e.Easing.Circular.In,CIRCULAR_OUT:e.Easing.Circular.Out,CIRCULAR_IN_OUT:e.Easing.Circular.InOut,ELASTIC_IN:e.Easing.Elastic.In,ELASTIC_OUT:e.Easing.Elastic.Out,ELASTIC_IN_OUT:e.Easing.Elastic.InOut,BACK_IN:e.Easing.Back.In,BACK_OUT:e.Easing.Back.Out,BACK_IN_OUT:e.Easing.Back.InOut,BOUNCE_IN:e.Easing.Bounce.In,BOUNCE_OUT:e.Easing.Bounce.Out,BOUNCE_IN_OUT:e.Easing.Bounce.InOut})}),r("Core/EllipsoidGeodesic",["./Cartesian3","./Cartographic","./Check","./defaultValue","./defined","./defineProperties","./Ellipsoid","./Math"],function(e,t,r,n,i,o,a,s){"use strict";function u(e){var t=e._uSquared,r=e._ellipsoid.maximumRadius,n=e._ellipsoid.minimumRadius,i=(r-n)/r,o=Math.cos(e._startHeading),a=Math.sin(e._startHeading),s=(1-i)*Math.tan(e._start.latitude),u=1/Math.sqrt(1+s*s),l=u*s,c=Math.atan2(s,o),h=u*a,f=h*h,d=1-f,p=Math.sqrt(d),m=t/4,y=m*m,g=y*m,E=y*y,_=1+m-3*y/4+5*g/4-175*E/64,v=1-m+15*y/8-35*g/8,w=1-3*m+35*y/4,T=1-5*m,O=_*c-v*Math.sin(2*c)*m/2-w*Math.sin(4*c)*y/16-T*Math.sin(6*c)*g/48-5*Math.sin(8*c)*E/512,S=e._constants;S.a=r,S.b=n,S.f=i,S.cosineHeading=o,S.sineHeading=a,S.tanU=s,S.cosineU=u,S.sineU=l,S.sigma=c,S.sineAlpha=h,S.sineSquaredAlpha=f,S.cosineSquaredAlpha=d,S.cosineAlpha=p,S.u2Over4=m,S.u4Over16=y,S.u6Over64=g,S.u8Over256=E,S.a0=_,S.a1=v,S.a2=w,S.a3=T,S.distanceRatio=O}function l(e,t){return e*t*(4+e*(4-3*t))/16}function c(e,t,r,n,i,o,a){var s=l(e,r);return(1-s)*e*t*(n+s*i*(a+s*o*(2*a*a-1)))}function h(e,t,r,n,i,o,a){var u,l,h,f,d,p=(t-r)/t,m=o-n,y=Math.atan((1-p)*Math.tan(i)),g=Math.atan((1-p)*Math.tan(a)),E=Math.cos(y),_=Math.sin(y),v=Math.cos(g),w=Math.sin(g),T=E*v,O=E*w,S=_*w,b=_*v,C=m,R=s.TWO_PI,I=Math.cos(C),A=Math.sin(C);do{I=Math.cos(C),A=Math.sin(C);var M=O-b*I;h=Math.sqrt(v*v*A*A+M*M),l=S+T*I,u=Math.atan2(h,l);var x;0===h?(x=0,f=1):(x=T*A/h,f=1-x*x),R=C,d=l-2*S/f,isNaN(d)&&(d=0),C=m+c(p,x,f,u,h,l,d)}while(Math.abs(C-R)>s.EPSILON12);var N=f*(t*t-r*r)/(r*r),P=1+N*(4096+N*(N*(320-175*N)-768))/16384,D=N*(256+N*(N*(74-47*N)-128))/1024,L=d*d,U=D*h*(d+D*(l*(2*L-1)-D*d*(4*h*h-3)*(4*L-3)/6)/4),q=r*P*(u-U),B=Math.atan2(v*A,O-b*I),F=Math.atan2(E*A,O*I-b);e._distance=q,e._startHeading=B,e._endHeading=F,e._uSquared=N}function f(n,i,o,a){var s=e.normalize(a.cartographicToCartesian(i,m),p),l=e.normalize(a.cartographicToCartesian(o,m),m);r.typeOf.number.greaterThanOrEquals("value",Math.abs(Math.abs(e.angleBetween(s,l))-Math.PI),.0125),h(n,a.maximumRadius,a.minimumRadius,i.longitude,i.latitude,o.longitude,o.latitude),n._start=t.clone(i,n._start),n._end=t.clone(o,n._end),n._start.height=0,n._end.height=0,u(n)}function d(e,r,o){var s=n(o,a.WGS84);this._ellipsoid=s,this._start=new t,this._end=new t,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,i(e)&&i(r)&&f(this,e,r,s)}var p=new e,m=new e;return o(d.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return r.defined("distance",this._distance),this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){return r.defined("distance",this._distance),this._startHeading}},endHeading:{get:function(){return r.defined("distance",this._distance),this._endHeading}}}),d.prototype.setEndPoints=function(e,t){r.defined("start",e),r.defined("end",t),f(this,e,t,this._ellipsoid)},d.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},d.prototype.interpolateUsingSurfaceDistance=function(e,n){r.defined("distance",this._distance);var o=this._constants,a=o.distanceRatio+e/o.b,s=Math.cos(2*a),u=Math.cos(4*a),l=Math.cos(6*a),h=Math.sin(2*a),f=Math.sin(4*a),d=Math.sin(6*a),p=Math.sin(8*a),m=a*a,y=a*m,g=o.u8Over256,E=o.u2Over4,_=o.u6Over64,v=o.u4Over16,w=2*y*g*s/3+a*(1-E+7*v/4-15*_/4+579*g/64-(v-15*_/4+187*g/16)*s-(5*_/4-115*g/16)*u-29*g*l/16)+(E/2-v+71*_/32-85*g/16)*h+(5*v/16-5*_/4+383*g/96)*f-m*((_-11*g/2)*h+5*g*f/2)+(29*_/96-29*g/16)*d+539*g*p/1536,T=Math.asin(Math.sin(w)*o.cosineAlpha),O=Math.atan(o.a/o.b*Math.tan(T));w-=o.sigma;var S=Math.cos(2*o.sigma+w),b=Math.sin(w),C=Math.cos(w),R=o.cosineU*C,I=o.sineU*b,A=Math.atan2(b*o.sineHeading,R-I*o.cosineHeading),M=A-c(o.f,o.sineAlpha,o.cosineSquaredAlpha,w,b,C,S);return i(n)?(n.longitude=this._start.longitude+M,n.latitude=O,n.height=0,n):new t(this._start.longitude+M,O,0)},d}),r("Core/EllipsoidRhumbLine",["./Cartesian3","./Cartographic","./Check","./defaultValue","./defined","./defineProperties","./DeveloperError","./Ellipsoid","./Math"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(e,t,r){if(0===e)return t*r;var n=e*e,i=n*n,o=i*n,a=o*n,s=a*n,u=s*n,l=r;return t*((1-n/4-3*i/64-5*o/256-175*a/16384-441*s/65536-4851*u/1048576)*l-(3*n/8+3*i/32+45*o/1024+105*a/4096+2205*s/131072+6237*u/524288)*Math.sin(2*l)+(15*i/256+45*o/1024+525*a/16384+1575*s/65536+155925*u/8388608)*Math.sin(4*l)-(35*o/3072+175*a/12288+3675*s/262144+13475*u/1048576)*Math.sin(6*l)+(315*a/131072+2205*s/524288+43659*u/8388608)*Math.sin(8*l)-(693*s/1310720+6237*u/5242880)*Math.sin(10*l)+1001*u/8388608*Math.sin(12*l))}function c(e,t,r){var n=e/r;if(0===t)return n;var i=n*n,o=i*n,a=o*n,s=t,u=s*s,l=u*u,c=l*u,h=c*u,f=h*u,d=f*u,p=Math.sin(2*n),m=Math.cos(2*n),y=Math.sin(4*n),g=Math.cos(4*n),E=Math.sin(6*n),_=Math.cos(6*n),v=Math.sin(8*n),w=Math.cos(8*n),T=Math.sin(10*n);return n+n*u/4+7*n*l/64+15*n*c/256+579*n*h/16384+1515*n*f/65536+16837*n*d/1048576+(3*n*l/16+45*n*c/256-n*(32*i-561)*h/4096-n*(232*i-1677)*f/16384+n*(399985-90560*i+512*a)*d/5242880)*m+(21*n*c/256+483*n*h/4096-n*(224*i-1969)*f/16384-n*(33152*i-112599)*d/1048576)*g+(151*n*h/4096+4681*n*f/65536+1479*n*d/16384-453*o*d/32768)*_+(1097*n*f/65536+42783*n*d/1048576)*w+8011*n*d/1048576*Math.cos(10*n)+(3*u/8+3*l/16+213*c/2048-3*i*c/64+255*h/4096-33*i*h/512+20861*f/524288-33*i*f/512+a*f/1024+28273*d/1048576-471*i*d/8192+9*a*d/4096)*p+(21*l/256+21*c/256+533*h/8192-21*i*h/512+197*f/4096-315*i*f/4096+584039*d/16777216-12517*i*d/131072+7*a*d/2048)*y+(151*c/6144+151*h/4096+5019*f/131072-453*i*f/16384+26965*d/786432-8607*i*d/131072)*E+(1097*h/131072+1097*f/65536+225797*d/10485760-1097*i*d/65536)*v+(8011*f/2621440+8011*d/1048576)*T+293393*d/251658240*Math.sin(12*n)}function h(e,t){if(0===e)return Math.log(Math.tan(.5*(u.PI_OVER_TWO+t)));var r=e*Math.sin(t);return Math.log(Math.tan(.5*(u.PI_OVER_TWO+t)))-e/2*Math.log((1+r)/(1-r))}function f(e,t,r,n,i){var o=h(e._ellipticity,r),a=h(e._ellipticity,i);return Math.atan2(u.negativePiToPi(n-t),a-o)}function d(e,t,r,n,i,o,a){var s=e._heading,c=o-n,h=0;if(u.equalsEpsilon(Math.abs(s),u.PI_OVER_TWO,u.EPSILON8))if(t===r)h=t*Math.cos(i)*u.negativePiToPi(c);else{var f=Math.sin(i);h=t*Math.cos(i)*u.negativePiToPi(c)/Math.sqrt(1-e._ellipticitySquared*f*f)}else{var d=l(e._ellipticity,t,i);h=(l(e._ellipticity,t,a)-d)/Math.cos(s)}return Math.abs(h)}function p(n,i,o,a){var s=e.normalize(a.cartographicToCartesian(i,E),g),u=e.normalize(a.cartographicToCartesian(o,E),E);r.typeOf.number.greaterThanOrEquals("value",Math.abs(Math.abs(e.angleBetween(s,u))-Math.PI),.0125);var l=a.maximumRadius,c=a.minimumRadius,h=l*l,p=c*c;n._ellipticitySquared=(h-p)/h,n._ellipticity=Math.sqrt(n._ellipticitySquared),n._start=t.clone(i,n._start),n._start.height=0,n._end=t.clone(o,n._end),n._end.height=0,n._heading=f(n,i.longitude,i.latitude,o.longitude,o.latitude),n._distance=d(n,a.maximumRadius,a.minimumRadius,i.longitude,i.latitude,o.longitude,o.latitude)}function m(e,r,n,o,a,s){var f,d,p,m=a*a;if(Math.abs(u.PI_OVER_TWO-Math.abs(r))>u.EPSILON8){d=c(l(a,o,e.latitude)+n*Math.cos(r),a,o);var y=h(a,e.latitude),g=h(a,d);p=Math.tan(r)*(g-y),f=u.negativePiToPi(e.longitude+p)}else{d=e.latitude;var E;if(0===a)E=o*Math.cos(e.latitude);else{var _=Math.sin(e.latitude);E=o*Math.cos(e.latitude)/Math.sqrt(1-m*_*_)}p=n/E,f=r>0?u.negativePiToPi(e.longitude+p):u.negativePiToPi(e.longitude-p)}return i(s)?(s.longitude=f,s.latitude=d,s.height=0,s):new t(f,d,0)}function y(e,r,o){var a=n(o,s.WGS84);this._ellipsoid=a,this._start=new t,this._end=new t,this._heading=void 0,this._distance=void 0,this._ellipticity=void 0,this._ellipticitySquared=void 0,i(e)&&i(r)&&p(this,e,r,a)}var g=new e,E=new e;return o(y.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return r.defined("distance",this._distance),this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},heading:{get:function(){return r.defined("distance",this._distance),this._heading}}}),y.fromStartHeadingDistance=function(e,t,o,a,l){r.defined("start",e),r.defined("heading",t),r.defined("distance",o),r.typeOf.number.greaterThan("distance",o,0);var c=n(a,s.WGS84),h=c.maximumRadius,f=c.minimumRadius,d=h*h,p=f*f,g=Math.sqrt((d-p)/d);t=u.negativePiToPi(t);var E=m(e,t,o,c.maximumRadius,g);return!i(l)||i(a)&&!a.equals(l.ellipsoid)?new y(e,E,c):(l.setEndPoints(e,E),l)},y.prototype.setEndPoints=function(e,t){r.defined("start",e),r.defined("end",t),p(this,e,t,this._ellipsoid)},y.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(e*this._distance,t)},y.prototype.interpolateUsingSurfaceDistance=function(e,t){if(r.typeOf.number("distance",e),!i(this._distance)||0===this._distance)throw new a("EllipsoidRhumbLine must have distinct start and end set.");return m(this._start,this._heading,e,this._ellipsoid.maximumRadius,this._ellipticity,t)},y.prototype.findIntersectionWithLongitude=function(e,n){if(r.typeOf.number("intersectionLongitude",e),!i(this._distance)||0===this._distance)throw new a("EllipsoidRhumbLine must have distinct start and end set.");var o=this._ellipticity,s=this._heading,l=Math.abs(s),c=this._start;if(e=u.negativePiToPi(e),u.equalsEpsilon(Math.abs(e),Math.PI,u.EPSILON14)&&(e=u.sign(c.longitude)*Math.PI),i(n)||(n=new t),Math.abs(u.PI_OVER_TWO-l)<=u.EPSILON8)return n.longitude=e,n.latitude=c.latitude,n.height=0,n;if(u.equalsEpsilon(Math.abs(u.PI_OVER_TWO-l),u.PI_OVER_TWO,u.EPSILON8)){if(u.equalsEpsilon(e,c.longitude,u.EPSILON12))return;return n.longitude=e,n.latitude=u.PI_OVER_TWO*u.sign(u.PI_OVER_TWO-s),n.height=0,n}var h,f=c.latitude,d=o*Math.sin(f),p=Math.tan(.5*(u.PI_OVER_TWO+f))*Math.exp((e-c.longitude)/Math.tan(s)),m=(1+d)/(1-d),y=c.latitude;do{h=y;var g=o*Math.sin(h),E=(1+g)/(1-g);y=2*Math.atan(p*Math.pow(E/m,o/2))-u.PI_OVER_TWO}while(!u.equalsEpsilon(y,h,u.EPSILON12));return n.longitude=e,n.latitude=y,n.height=0,n},y.prototype.findIntersectionWithLatitude=function(e,n){if(r.typeOf.number("intersectionLatitude",e),!i(this._distance)||0===this._distance)throw new a("EllipsoidRhumbLine must have distinct start and end set.");var o=this._ellipticity,s=this._heading,l=this._start;if(!u.equalsEpsilon(Math.abs(s),u.PI_OVER_TWO,u.EPSILON8)){var c=h(o,l.latitude),f=h(o,e),d=Math.tan(s)*(f-c),p=u.negativePiToPi(l.longitude+d);return i(n)?(n.longitude=p,n.latitude=e,n.height=0,n):new t(p,e,0)}},y}),r("Core/EllipsoidTerrainProvider",["../ThirdParty/when","./defaultValue","./defined","./defineProperties","./Ellipsoid","./Event","./GeographicTilingScheme","./HeightmapTerrainData","./TerrainProvider"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(n){n=t(n,{}),this._tilingScheme=n.tilingScheme,r(this._tilingScheme)||(this._tilingScheme=new a({ellipsoid:t(n.ellipsoid,i.WGS84)})),this._levelZeroMaximumGeometricError=u.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,64,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new o,this._readyPromise=e.resolve(!0)}return n(l.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),l.prototype.requestTileGeometry=function(t,r,n,i){return e.resolve(new s({buffer:new Uint8Array(256),width:16,height:16}))},l.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},l.prototype.getTileDataAvailable=function(e,t,r){},l.prototype.loadTileDataAvailability=function(e,t,r){},l}),r("Core/EncodedCartesian3",["./Cartesian3","./Check","./defined"],function(e,t,r){"use strict";function n(){this.high=e.clone(e.ZERO),this.low=e.clone(e.ZERO)}n.encode=function(e,n){t.typeOf.number("value",e),r(n)||(n={high:0,low:0});var i;return e>=0?(i=65536*Math.floor(e/65536),n.high=i,n.low=e-i):(i=65536*Math.floor(-e/65536),n.high=-i,n.low=e+i),n};var i={high:0,low:0};n.fromCartesian=function(e,o){t.typeOf.object("cartesian",e),r(o)||(o=new n);var a=o.high,s=o.low;return n.encode(e.x,i),a.x=i.high,s.x=i.low,n.encode(e.y,i),a.y=i.high,s.y=i.low,n.encode(e.z,i),a.z=i.high,s.z=i.low,o};var o=new n;return n.writeElements=function(e,r,i){t.defined("cartesianArray",r),t.typeOf.number("index",i),t.typeOf.number.greaterThanOrEquals("index",i,0),n.fromCartesian(e,o);var a=o.high,s=o.low;r[i]=a.x,r[i+1]=a.y,r[i+2]=a.z,r[i+3]=s.x,r[i+4]=s.y,r[i+5]=s.z},n}),r("Core/EventHelper",["./defined","./DeveloperError"],function(e,t){"use strict";function r(){this._removalFunctions=[]}return r.prototype.add=function(r,n,i){if(!e(r))throw new t("event is required");var o=r.addEventListener(n,i);this._removalFunctions.push(o);var a=this;return function(){o();var e=a._removalFunctions;e.splice(e.indexOf(o),1)}},r.prototype.removeAll=function(){for(var e=this._removalFunctions,t=0,r=e.length;t<r;++t)e[t]();e.length=0},r}),r("Core/ExtrapolationType",["./freezeObject"],function(e){"use strict";return e({NONE:0,HOLD:1,EXTRAPOLATE:2})}),r("Core/GeocodeType",["../Core/freezeObject"],function(e){"use strict";return e({SEARCH:0,AUTOCOMPLETE:1})}),r("Core/GeocoderService",["./DeveloperError"],function(e){"use strict";function t(){}return t.prototype.geocode=e.throwInstantiationError,t}),r("Core/HeadingPitchRange",["./defaultValue","./defined"],function(e,t){"use strict";function r(t,r,n){this.heading=e(t,0),this.pitch=e(r,0),this.range=e(n,0)}return r.clone=function(e,n){if(t(e))return t(n)||(n=new r),n.heading=e.heading,n.pitch=e.pitch,n.range=e.range,n},r}),r("Core/HermitePolynomialApproximation",["./defaultValue","./defined","./DeveloperError","./Math"],function(e,t,r,n){"use strict";function i(e,t,r,n,o,a){var s,u,l,c=0;if(n>0){for(u=0;u<o;u++){for(s=!1,l=0;l<a.length&&!s;l++)u===a[l]&&(s=!0);s||(a.push(u),c+=i(e,t,r,n-1,o,a),a.splice(a.length-1,1))}return c}for(c=1,u=0;u<o;u++){for(s=!1,l=0;l<a.length&&!s;l++)u===a[l]&&(s=!0);s||(c*=e-r[t[u]])}return c}function o(e,t,r,i,o,a){for(var s,u,l=-1,c=t.length,h=c*(c+1)/2,f=0;f<o;f++){var d=Math.floor(f*h);for(s=0;s<c;s++)u=t[s]*o*(a+1)+f,e[d+s]=i[u];for(var p=1;p<c;p++){var m=0,y=Math.floor(p*(1-p)/2)+c*p,g=!1;for(s=0;s<c-p;s++){var E,_,v=r[t[s]],w=r[t[s+p]];if(w-v<=0)u=t[s]*o*(a+1)+o*p+f,E=i[u],_=E/n.factorial(p),e[d+y+m]=_,m++;else{var T=Math.floor((p-1)*(2-p)/2)+c*(p-1);E=e[d+T+s+1]-e[d+T+s],_=E/(w-v),e[d+y+m]=_,m++}g=g||0!==E}g&&(l=Math.max(l,p))}}return l}var a=n.factorial,s={type:"Hermite"};s.getRequiredDataPoints=function(n,i){if(i=e(i,0),!t(n))throw new r("degree is required.");if(n<0)throw new r("degree must be 0 or greater.");if(i<0)throw new r("inputOrder must be 0 or greater.");return Math.max(Math.floor((n+1)/(i+1)),2)},s.interpolateOrderZero=function(e,r,n,o,s){t(s)||(s=new Array(o));var u,l,c,h,f,d,p=r.length,m=new Array(o);for(u=0;u<o;u++){s[u]=0;var y=new Array(p);for(m[u]=y,l=0;l<p;l++)y[l]=[]}var g=p,E=new Array(g);for(u=0;u<g;u++)E[u]=u;var _=p-1;for(h=0;h<o;h++){for(l=0;l<g;l++)d=E[l]*o+h,m[h][0].push(n[d]);for(u=1;u<g;u++){var v=!1;for(l=0;l<g-u;l++){var w,T=r[E[l]],O=r[E[l+u]];O-T<=0?(d=E[l]*o+o*u+h,w=n[d],m[h][u].push(w/a(u))):(w=m[h][u-1][l+1]-m[h][u-1][l],m[h][u].push(w/(O-T))),v=v||0!==w}v||(_=u-1)}}for(c=0,f=0;c<=f;c++)for(u=c;u<=_;u++){var S=i(e,E,r,c,u,[]);for(h=0;h<o;h++){var b=m[h][u][0];s[h+c*o]+=b*S}}return s};var u=[];return s.interpolate=function(e,r,n,a,s,l,c){var h=a*(l+1);t(c)||(c=new Array(h));for(var f=0;f<h;f++)c[f]=0;var d,p=r.length,m=new Array(p*(s+1));for(d=0;d<p;d++)for(var y=0;y<s+1;y++)m[d*(s+1)+y]=d;for(var g=m.length,E=u,_=o(E,m,r,n,a,s),v=[],w=g*(g+1)/2,T=Math.min(_,l),O=0;O<=T;O++)for(d=O;d<=_;d++){v.length=0;for(var S=i(e,m,r,O,d,v),b=Math.floor(d*(1-d)/2)+g*d,C=0;C<a;C++){var R=Math.floor(C*w),I=E[R+b];c[C+O*a]+=I*S}}return c},s}),r("Core/IauOrientationParameters",[],function(){"use strict";function e(e,t,r,n){this.rightAscension=e,this.declination=t,this.rotation=r,this.rotationRate=n}return e}),r("Core/Iau2000Orientation",["./defined","./IauOrientationParameters","./JulianDate","./Math","./TimeConstants"],function(e,t,r,n,i){"use strict";var o={},a=-.0529921,s=-.1059842,u=13.0120009,l=13.3407154,c=26.4057084,h=13.064993,f=1.7484877,d=new r;return o.ComputeMoon=function(o,p){e(o)||(o=r.now()),d=r.addSeconds(o,32.184,d);var m=r.totalDays(d)-2451545,y=m/i.DAYS_PER_JULIAN_CENTURY,g=(125.045+a*m)*n.RADIANS_PER_DEGREE,E=(250.089+s*m)*n.RADIANS_PER_DEGREE,_=(260.008+u*m)*n.RADIANS_PER_DEGREE,v=(176.625+l*m)*n.RADIANS_PER_DEGREE,w=(357.529+.9856003*m)*n.RADIANS_PER_DEGREE,T=(311.589+c*m)*n.RADIANS_PER_DEGREE,O=(134.963+h*m)*n.RADIANS_PER_DEGREE,S=(276.617+.3287146*m)*n.RADIANS_PER_DEGREE,b=(34.226+f*m)*n.RADIANS_PER_DEGREE,C=(15.134+-.1589763*m)*n.RADIANS_PER_DEGREE,R=(119.743+.0036096*m)*n.RADIANS_PER_DEGREE,I=(239.961+.1643573*m)*n.RADIANS_PER_DEGREE,A=(25.053+12.9590088*m)*n.RADIANS_PER_DEGREE,M=Math.sin(g),x=Math.sin(E),N=Math.sin(_),P=Math.sin(v),D=Math.sin(w),L=Math.sin(T),U=Math.sin(O),q=Math.sin(S),B=Math.sin(b),F=Math.sin(C),j=Math.sin(R),z=Math.sin(I),G=Math.sin(A),k=Math.cos(g),H=Math.cos(E),V=Math.cos(_),W=Math.cos(v),Y=Math.cos(w),X=Math.cos(T),Z=Math.cos(O),K=Math.cos(S),Q=Math.cos(b),J=Math.cos(C),$=Math.cos(R),ee=Math.cos(I),te=Math.cos(A),re=(269.9949+.0031*y-3.8787*M-.1204*x+.07*N-.0172*P+.0072*L-.0052*F+.0043*G)*n.RADIANS_PER_DEGREE,ne=(66.5392+.013*y+1.5419*k+.0239*H-.0278*V+.0068*W-.0029*X+9e-4*Z+8e-4*J-9e-4*te)*n.RADIANS_PER_DEGREE,ie=(38.3213+13.17635815*m-1.4e-12*m*m+3.561*M+.1208*x-.0642*N+.0158*P+.0252*D-.0066*L-.0047*U-.0046*q+.0028*B+.0052*F+.004*j+.0019*z-.0044*G)*n.RADIANS_PER_DEGREE,oe=(13.17635815-2*m*1.4e-12+3.561*k*a+.1208*H*s-.0642*V*u+.0158*W*l+.0252*Y*.9856003-.0066*X*c-.0047*Z*h-.0046*K*.3287146+.0028*Q*f+.0052*J*-.1589763+.004*$*.0036096+.0019*ee*.1643573-.0044*te*12.9590088)/86400*n.RADIANS_PER_DEGREE;return e(p)||(p=new t),p.rightAscension=re,p.declination=ne,p.rotation=ie,p.rotationRate=oe,p},o}),r("Core/IauOrientationAxes",["./Cartesian3","./defined","./Iau2000Orientation","./JulianDate","./Math","./Matrix3","./Quaternion"],function(e,t,r,n,i,o,a){"use strict";function s(e){t(e)&&"function"==typeof e||(e=r.ComputeMoon),this._computeFunction=e}function u(r,n,a){var s=l;s.x=Math.cos(r+i.PI_OVER_TWO),s.y=Math.sin(r+i.PI_OVER_TWO),s.z=0;var u=Math.cos(n),f=h;f.x=u*Math.cos(r),f.y=u*Math.sin(r),f.z=Math.sin(n);var d=e.cross(f,s,c);return t(a)||(a=new o),a[0]=s.x,a[1]=d.x,a[2]=f.x,a[3]=s.y,a[4]=d.y,a[5]=f.y,a[6]=s.z,a[7]=d.z,a[8]=f.z,a}var l=new e,c=new e,h=new e,f=new o,d=new a;return s.prototype.evaluate=function(r,s){t(r)||(r=n.now());var l=this._computeFunction(r),c=u(l.rightAscension,l.declination,s),h=i.zeroToTwoPi(l.rotation),p=a.fromAxisAngle(e.UNIT_Z,h,d),m=o.fromQuaternion(a.conjugate(p,p),f);return o.multiply(m,c,c)},s}),r("Core/InterpolationAlgorithm",["./DeveloperError"],function(e){"use strict";var t={};return t.type=void 0,t.getRequiredDataPoints=e.throwInstantiationError,t.interpolateOrderZero=e.throwInstantiationError,t.interpolate=e.throwInstantiationError,t}),r("Core/TimeInterval",["./Check","./defaultValue","./defined","./defineProperties","./DeveloperError","./freezeObject","./JulianDate"],function(e,t,r,n,i,o,a){"use strict";function s(e){e=t(e,t.EMPTY_OBJECT),this.start=r(e.start)?a.clone(e.start):new a,this.stop=r(e.stop)?a.clone(e.stop):new a,this.data=e.data,this.isStartIncluded=t(e.isStartIncluded,!0),this.isStopIncluded=t(e.isStopIncluded,!0)}n(s.prototype,{isEmpty:{get:function(){var e=a.compare(this.stop,this.start);return e<0||0===e&&(!this.isStartIncluded||!this.isStopIncluded)}}});var u={start:void 0,stop:void 0,isStartIncluded:void 0,isStopIncluded:void 0,data:void 0};return s.fromIso8601=function(n,o){e.typeOf.object("options",n),e.typeOf.string("options.iso8601",n.iso8601);var l=n.iso8601.split("/");if(2!==l.length)throw new i("options.iso8601 is an invalid ISO 8601 interval.");var c=a.fromIso8601(l[0]),h=a.fromIso8601(l[1]),f=t(n.isStartIncluded,!0),d=t(n.isStopIncluded,!0),p=n.data;return r(o)?(o.start=c,o.stop=h,o.isStartIncluded=f,o.isStopIncluded=d,o.data=p,o):(u.start=c,u.stop=h,u.isStartIncluded=f,u.isStopIncluded=d,u.data=p,new s(u))},s.toIso8601=function(t,r){return e.typeOf.object("timeInterval",t),a.toIso8601(t.start,r)+"/"+a.toIso8601(t.stop,r)},s.clone=function(e,t){if(r(e))return r(t)?(t.start=e.start,t.stop=e.stop,t.isStartIncluded=e.isStartIncluded,t.isStopIncluded=e.isStopIncluded,t.data=e.data,t):new s(e)},s.equals=function(e,t,n){return e===t||r(e)&&r(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&a.equals(e.start,t.start)&&a.equals(e.stop,t.stop)&&(e.data===t.data||r(n)&&n(e.data,t.data)))},s.equalsEpsilon=function(t,n,i,o){return e.typeOf.number("epsilon",i),t===n||r(t)&&r(n)&&(t.isEmpty&&n.isEmpty||t.isStartIncluded===n.isStartIncluded&&t.isStopIncluded===n.isStopIncluded&&a.equalsEpsilon(t.start,n.start,i)&&a.equalsEpsilon(t.stop,n.stop,i)&&(t.data===n.data||r(o)&&o(t.data,n.data)))},s.intersect=function(t,n,i,o){if(e.typeOf.object("left",t),e.typeOf.object("result",i),!r(n))return s.clone(s.EMPTY,i);var u=t.start,l=t.stop,c=n.start,h=n.stop,f=a.greaterThanOrEquals(c,u)&&a.greaterThanOrEquals(l,c),d=!f&&a.lessThanOrEquals(c,u)&&a.lessThanOrEquals(u,h)
;if(!f&&!d)return s.clone(s.EMPTY,i);var p=t.isStartIncluded,m=t.isStopIncluded,y=n.isStartIncluded,g=n.isStopIncluded,E=a.lessThan(l,h);return i.start=f?c:u,i.isStartIncluded=p&&y||!a.equals(c,u)&&(f&&y||d&&p),i.stop=E?l:h,i.isStopIncluded=E?m:m&&g||!a.equals(h,l)&&g,i.data=r(o)?o(t.data,n.data):t.data,i},s.contains=function(t,r){if(e.typeOf.object("timeInterval",t),e.typeOf.object("julianDate",r),t.isEmpty)return!1;var n=a.compare(t.start,r);if(0===n)return t.isStartIncluded;var i=a.compare(r,t.stop);return 0===i?t.isStopIncluded:n<0&&i<0},s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e,t){return s.equals(this,e,t)},s.prototype.equalsEpsilon=function(e,t,r){return s.equalsEpsilon(this,e,t,r)},s.prototype.toString=function(){return s.toIso8601(this)},s.EMPTY=o(new s({start:new a,stop:new a,isStartIncluded:!1,isStopIncluded:!1})),s}),r("Core/Iso8601",["./freezeObject","./JulianDate","./TimeInterval"],function(e,t,r){"use strict";var n=e(t.fromIso8601("0000-01-01T00:00:00Z")),i=e(t.fromIso8601("9999-12-31T24:00:00Z"));return{MINIMUM_VALUE:n,MAXIMUM_VALUE:i,MAXIMUM_INTERVAL:e(new r({start:n,stop:i}))}}),r("Core/KeyboardEventModifier",["./freezeObject"],function(e){"use strict";return e({SHIFT:0,CTRL:1,ALT:2})}),r("Core/LagrangePolynomialApproximation",["./defined"],function(e){"use strict";var t={type:"Lagrange"};return t.getRequiredDataPoints=function(e){return Math.max(e+1,2)},t.interpolateOrderZero=function(t,r,n,i,o){e(o)||(o=new Array(i));var a,s,u=r.length;for(a=0;a<i;a++)o[a]=0;for(a=0;a<u;a++){var l=1;for(s=0;s<u;s++)if(s!==a){var c=r[a]-r[s];l*=(t-r[s])/c}for(s=0;s<i;s++)o[s]+=l*n[a*i+s]}return o},t}),r("Core/LinearApproximation",["./defined","./DeveloperError"],function(e,t){"use strict";var r={type:"Linear"};return r.getRequiredDataPoints=function(e){return 2},r.interpolateOrderZero=function(r,n,i,o,a){if(2!==n.length)throw new t("The xTable provided to the linear interpolator must have exactly two elements.");if(o<=0)throw new t("There must be at least 1 dependent variable for each independent variable.");e(a)||(a=new Array(o));var s,u,l,c=n[0],h=n[1];if(c===h)throw new t("Divide by zero error: xTable[0] and xTable[1] are equal");for(s=0;s<o;s++)u=i[s],l=i[s+o],a[s]=((l-u)*r+h*u-c*l)/(h-c);return a},r}),r("Core/ManagedArray",["./Check","./defaultValue","./defineProperties"],function(e,t,r){"use strict";function n(e){e=t(e,0),this._array=new Array(e),this._length=e}return r(n.prototype,{length:{get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},values:{get:function(){return this._array}}}),n.prototype.get=function(t){return e.typeOf.number.lessThan("index",t,this._array.length),this._array[t]},n.prototype.set=function(t,r){e.typeOf.number("index",t),t>=this.length&&(this.length=t+1),this._array[t]=r},n.prototype.peek=function(){return this._array[this._length-1]},n.prototype.push=function(e){var t=this.length++;this._array[t]=e},n.prototype.pop=function(){return this._array[--this.length]},n.prototype.reserve=function(t){e.typeOf.number.greaterThanOrEquals("length",t,0),t>this._array.length&&(this._array.length=t)},n.prototype.resize=function(t){e.typeOf.number.greaterThanOrEquals("length",t,0),this.length=t},n.prototype.trim=function(e){e=t(e,this.length),this._array.length=e},n}),r("Core/MapProjection",["./defineProperties","./DeveloperError"],function(e,t){"use strict";function r(){t.throwInstantiationError()}return e(r.prototype,{ellipsoid:{get:t.throwInstantiationError}}),r.prototype.project=t.throwInstantiationError,r.prototype.unproject=t.throwInstantiationError,r}),r("Core/MapboxApi",["./Credit","./defined"],function(e,t){"use strict";var r={};r.defaultAccessToken=void 0;var n,i=!1,o="<b>This application is using Cesium's default Mapbox access token.  Please create a new access token for the application as soon as possible and prior to deployment by visiting <a href=https://www.mapbox.com/account/apps/>https://www.mapbox.com/account/apps/</a>, and provide your token to Cesium by setting the Cesium.MapboxApi.defaultAccessToken property before constructing the CesiumWidget or any other object that uses the Mapbox API.</b>";return r.getAccessToken=function(e){return t(e)?e:t(r.defaultAccessToken)?r.defaultAccessToken:(i||(console.log(o),i=!0),"pk.eyJ1IjoiYW5hbHl0aWNhbGdyYXBoaWNzIiwiYSI6ImNpd204Zm4wejAwNzYyeW5uNjYyZmFwdWEifQ.7i-VIZZWX8pd1bTfxIVj9g")},r.getErrorCredit=function(i){if(!t(i)&&!t(r.defaultAccessToken))return t(n)||(n=new e(o,!0)),n},r}),r("Core/Matrix2",["./Cartesian2","./Check","./defaultValue","./defined","./defineProperties","./freezeObject"],function(e,t,r,n,i,o){"use strict";function a(e,t,n,i){this[0]=r(e,0),this[1]=r(n,0),this[2]=r(t,0),this[3]=r(i,0)}a.packedLength=4,a.pack=function(e,n,i){return t.typeOf.object("value",e),t.defined("array",n),i=r(i,0),n[i++]=e[0],n[i++]=e[1],n[i++]=e[2],n[i++]=e[3],n},a.unpack=function(e,i,o){return t.defined("array",e),i=r(i,0),n(o)||(o=new a),o[0]=e[i++],o[1]=e[i++],o[2]=e[i++],o[3]=e[i++],o},a.clone=function(e,t){if(n(e))return n(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new a(e[0],e[2],e[1],e[3])},a.fromArray=function(e,i,o){return t.defined("array",e),i=r(i,0),n(o)||(o=new a),o[0]=e[i],o[1]=e[i+1],o[2]=e[i+2],o[3]=e[i+3],o},a.fromColumnMajorArray=function(e,r){return t.defined("values",e),a.clone(e,r)},a.fromRowMajorArray=function(e,r){return t.defined("values",e),n(r)?(r[0]=e[0],r[1]=e[2],r[2]=e[1],r[3]=e[3],r):new a(e[0],e[1],e[2],e[3])},a.fromScale=function(e,r){return t.typeOf.object("scale",e),n(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=e.y,r):new a(e.x,0,0,e.y)},a.fromUniformScale=function(e,r){return t.typeOf.number("scale",e),n(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=e,r):new a(e,0,0,e)},a.fromRotation=function(e,r){t.typeOf.number("angle",e);var i=Math.cos(e),o=Math.sin(e);return n(r)?(r[0]=i,r[1]=o,r[2]=-o,r[3]=i,r):new a(i,-o,o,i)},a.toArray=function(e,r){return t.typeOf.object("matrix",e),n(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r):[e[0],e[1],e[2],e[3]]},a.getElementIndex=function(e,r){return t.typeOf.number.greaterThanOrEquals("row",r,0),t.typeOf.number.lessThanOrEquals("row",r,1),t.typeOf.number.greaterThanOrEquals("column",e,0),t.typeOf.number.lessThanOrEquals("column",e,1),2*e+r},a.getColumn=function(e,r,n){t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,1),t.typeOf.object("result",n);var i=2*r,o=e[i],a=e[i+1];return n.x=o,n.y=a,n},a.setColumn=function(e,r,n,i){t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,1),t.typeOf.object("cartesian",n),t.typeOf.object("result",i),i=a.clone(e,i);var o=2*r;return i[o]=n.x,i[o+1]=n.y,i},a.getRow=function(e,r,n){t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,1),t.typeOf.object("result",n);var i=e[r],o=e[r+2];return n.x=i,n.y=o,n},a.setRow=function(e,r,n,i){return t.typeOf.object("matrix",e),t.typeOf.number.greaterThanOrEquals("index",r,0),t.typeOf.number.lessThanOrEquals("index",r,1),t.typeOf.object("cartesian",n),t.typeOf.object("result",i),i=a.clone(e,i),i[r]=n.x,i[r+2]=n.y,i};var s=new e;a.getScale=function(r,n){return t.typeOf.object("matrix",r),t.typeOf.object("result",n),n.x=e.magnitude(e.fromElements(r[0],r[1],s)),n.y=e.magnitude(e.fromElements(r[2],r[3],s)),n};var u=new e;return a.getMaximumScale=function(t){return a.getScale(t,u),e.maximumComponent(u)},a.multiply=function(e,r,n){t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n);var i=e[0]*r[0]+e[2]*r[1],o=e[0]*r[2]+e[2]*r[3],a=e[1]*r[0]+e[3]*r[1],s=e[1]*r[2]+e[3]*r[3];return n[0]=i,n[1]=a,n[2]=o,n[3]=s,n},a.add=function(e,r,n){return t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n),n[0]=e[0]+r[0],n[1]=e[1]+r[1],n[2]=e[2]+r[2],n[3]=e[3]+r[3],n},a.subtract=function(e,r,n){return t.typeOf.object("left",e),t.typeOf.object("right",r),t.typeOf.object("result",n),n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],n[3]=e[3]-r[3],n},a.multiplyByVector=function(e,r,n){t.typeOf.object("matrix",e),t.typeOf.object("cartesian",r),t.typeOf.object("result",n);var i=e[0]*r.x+e[2]*r.y,o=e[1]*r.x+e[3]*r.y;return n.x=i,n.y=o,n},a.multiplyByScalar=function(e,r,n){return t.typeOf.object("matrix",e),t.typeOf.number("scalar",r),t.typeOf.object("result",n),n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n},a.multiplyByScale=function(e,r,n){return t.typeOf.object("matrix",e),t.typeOf.object("scale",r),t.typeOf.object("result",n),n[0]=e[0]*r.x,n[1]=e[1]*r.x,n[2]=e[2]*r.y,n[3]=e[3]*r.y,n},a.negate=function(e,r){return t.typeOf.object("matrix",e),t.typeOf.object("result",r),r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r},a.transpose=function(e,r){t.typeOf.object("matrix",e),t.typeOf.object("result",r);var n=e[0],i=e[2],o=e[1],a=e[3];return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r},a.abs=function(e,r){return t.typeOf.object("matrix",e),t.typeOf.object("result",r),r[0]=Math.abs(e[0]),r[1]=Math.abs(e[1]),r[2]=Math.abs(e[2]),r[3]=Math.abs(e[3]),r},a.equals=function(e,t){return e===t||n(e)&&n(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},a.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]},a.equalsEpsilon=function(e,r,i){return t.typeOf.number("epsilon",i),e===r||n(e)&&n(r)&&Math.abs(e[0]-r[0])<=i&&Math.abs(e[1]-r[1])<=i&&Math.abs(e[2]-r[2])<=i&&Math.abs(e[3]-r[3])<=i},a.IDENTITY=o(new a(1,0,0,1)),a.ZERO=o(new a(0,0,0,0)),a.COLUMN0ROW0=0,a.COLUMN0ROW1=1,a.COLUMN1ROW0=2,a.COLUMN1ROW1=3,i(a.prototype,{length:{get:function(){return a.packedLength}}}),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t){return a.equalsEpsilon(this,e,t)},a.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"},a}),r("Core/NearFarScalar",["./defaultValue","./defined","./DeveloperError"],function(e,t,r){"use strict";function n(t,r,n,i){this.near=e(t,0),this.nearValue=e(r,0),this.far=e(n,1),this.farValue=e(i,0)}return n.clone=function(e,r){if(t(e))return t(r)?(r.near=e.near,r.nearValue=e.nearValue,r.far=e.far,r.farValue=e.farValue,r):new n(e.near,e.nearValue,e.far,e.farValue)},n.packedLength=4,n.pack=function(n,i,o){if(!t(n))throw new r("value is required");if(!t(i))throw new r("array is required");return o=e(o,0),i[o++]=n.near,i[o++]=n.nearValue,i[o++]=n.far,i[o]=n.farValue,i},n.unpack=function(i,o,a){if(!t(i))throw new r("array is required");return o=e(o,0),t(a)||(a=new n),a.near=i[o++],a.nearValue=i[o++],a.far=i[o++],a.farValue=i[o],a},n.equals=function(e,r){return e===r||t(e)&&t(r)&&e.near===r.near&&e.nearValue===r.nearValue&&e.far===r.far&&e.farValue===r.farValue},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n}),r("Core/Visibility",["./freezeObject"],function(e){"use strict";return e({NONE:-1,PARTIAL:0,FULL:1})}),r("Core/Occluder",["./BoundingSphere","./Cartesian3","./defaultValue","./defined","./defineProperties","./DeveloperError","./Ellipsoid","./Math","./Rectangle","./Visibility"],function(e,t,r,n,i,o,a,s,u,l){"use strict";function c(e,r){if(!n(e))throw new o("occluderBoundingSphere is required.");if(!n(r))throw new o("camera position is required.");this._occluderPosition=t.clone(e.center),this._occluderRadius=e.radius,this._horizonDistance=0,this._horizonPlaneNormal=void 0,this._horizonPlanePosition=void 0,this._cameraPosition=void 0,this.cameraPosition=r}var h=new t;i(c.prototype,{position:{get:function(){return this._occluderPosition}},radius:{get:function(){return this._occluderRadius}},cameraPosition:{set:function(e){if(!n(e))throw new o("cameraPosition is required.");e=t.clone(e,this._cameraPosition);var r,i,a,s=t.subtract(this._occluderPosition,e,h),u=t.magnitudeSquared(s),l=this._occluderRadius*this._occluderRadius;if(u>l){r=Math.sqrt(u-l),u=1/Math.sqrt(u),i=t.multiplyByScalar(s,u,h);var c=r*r*u;a=t.add(e,t.multiplyByScalar(i,c,h),h)}else r=Number.MAX_VALUE;this._horizonDistance=r,this._horizonPlaneNormal=i,this._horizonPlanePosition=a,this._cameraPosition=e}}}),c.fromBoundingSphere=function(e,r,i){if(!n(e))throw new o("occluderBoundingSphere is required.");if(!n(r))throw new o("camera position is required.");return n(i)?(t.clone(e.center,i._occluderPosition),i._occluderRadius=e.radius,i.cameraPosition=r,i):new c(e,r)};var f=new t;c.prototype.isPointVisible=function(e){if(this._horizonDistance!==Number.MAX_VALUE){var r=t.subtract(e,this._occluderPosition,f),n=this._occluderRadius;if((n=t.magnitudeSquared(r)-n*n)>0)return n=Math.sqrt(n)+this._horizonDistance,r=t.subtract(e,this._cameraPosition,r),n*n>t.magnitudeSquared(r)}return!1};var d=new t;c.prototype.isBoundingSphereVisible=function(e){var r=t.clone(e.center,d),n=e.radius;if(this._horizonDistance!==Number.MAX_VALUE){var i=t.subtract(r,this._occluderPosition,f),o=this._occluderRadius-n;if(o=t.magnitudeSquared(i)-o*o,n<this._occluderRadius)return o>0&&(o=Math.sqrt(o)+this._horizonDistance,i=t.subtract(r,this._cameraPosition,i),o*o+n*n>t.magnitudeSquared(i));if(o>0){i=t.subtract(r,this._cameraPosition,i);var a=t.magnitudeSquared(i),s=this._occluderRadius*this._occluderRadius,u=n*n;return(this._horizonDistance*this._horizonDistance+s)*u>a*s||(o=Math.sqrt(o)+this._horizonDistance)*o+u>a}return!0}return!1};var p=new t;c.prototype.computeVisibility=function(e){if(!n(e))throw new o("occludeeBS is required.");var r=t.clone(e.center),i=e.radius;if(i>this._occluderRadius)return l.FULL;if(this._horizonDistance!==Number.MAX_VALUE){var a=t.subtract(r,this._occluderPosition,p),s=this._occluderRadius-i,u=t.magnitudeSquared(a);if((s=u-s*s)>0){s=Math.sqrt(s)+this._horizonDistance,a=t.subtract(r,this._cameraPosition,a);var c=t.magnitudeSquared(a);return s*s+i*i<c?l.NONE:(s=this._occluderRadius+i,(s=u-s*s)>0?(s=Math.sqrt(s)+this._horizonDistance,c<s*s+i*i?l.FULL:l.PARTIAL):(a=t.subtract(r,this._horizonPlanePosition,a),t.dot(a,this._horizonPlaneNormal)>-i?l.PARTIAL:l.FULL))}}return l.NONE};var m=new t;c.computeOccludeePoint=function(e,r,i){if(!n(e))throw new o("occluderBoundingSphere is required.");if(!n(i))throw new o("positions is required.");if(0===i.length)throw new o("positions must contain at least one element");var a=t.clone(r),s=t.clone(e.center),u=e.radius,l=i.length;if(t.equals(s,r))throw new o("occludeePosition must be different than occluderBoundingSphere.center");var h=t.normalize(t.subtract(a,s,m),m),f=-t.dot(h,s),d=c._anyRotationVector(s,h,f),p=c._horizonToPlaneNormalDotProduct(e,h,f,d,i[0]);if(p){for(var y,g=1;g<l;++g){if(!(y=c._horizonToPlaneNormalDotProduct(e,h,f,d,i[g])))return;y<p&&(p=y)}if(!(p<.0017453283658983088)){var E=u/p;return t.add(s,t.multiplyByScalar(h,E,m),m)}}};var y=[];c.computeOccludeePointFromRectangle=function(i,s){if(!n(i))throw new o("rectangle is required.");s=r(s,a.WGS84);var l=u.subsample(i,s,0,y),h=e.fromPoints(l),f=t.ZERO;if(!t.equals(f,h.center))return c.computeOccludeePoint(new e(f,s.minimumRadius),h.center,l)};var g=new t;c._anyRotationVector=function(e,r,n){var i=t.abs(r,g),o=i.x>i.y?0:1;(0===o&&i.z>i.x||1===o&&i.z>i.y)&&(o=2);var a,s=new t;0===o?(i.x=e.x,i.y=e.y+1,i.z=e.z+1,a=t.UNIT_X):1===o?(i.x=e.x+1,i.y=e.y,i.z=e.z+1,a=t.UNIT_Y):(i.x=e.x+1,i.y=e.y+1,i.z=e.z,a=t.UNIT_Z);var u=(t.dot(r,i)+n)/-t.dot(r,a);return t.normalize(t.subtract(t.add(i,t.multiplyByScalar(a,u,s),i),e,i),i)};var E=new t;c._rotationVector=function(e,r,n,i,o){var a=t.subtract(i,e,E);if(a=t.normalize(a,a),t.dot(r,a)<.9999999847691291){var u=t.cross(r,a,a);if(t.magnitude(u)>s.EPSILON13)return t.normalize(u,new t)}return o};var _=new t,v=new t,w=new t,T=new t;return c._horizonToPlaneNormalDotProduct=function(e,r,n,i,o){var a=t.clone(o,_),s=t.clone(e.center,v),u=e.radius,l=t.subtract(s,a,w),c=t.magnitudeSquared(l),h=u*u;if(c<h)return!1;var f=c-h,d=Math.sqrt(f),p=Math.sqrt(c),m=1/p,y=d*m,g=y*d;l=t.normalize(l,l);var E=t.add(a,t.multiplyByScalar(l,g,T),T),O=Math.sqrt(f-g*g),S=this._rotationVector(s,r,n,a,i),b=t.fromElements(S.x*S.x*l.x+(S.x*S.y-S.z)*l.y+(S.x*S.z+S.y)*l.z,(S.x*S.y+S.z)*l.x+S.y*S.y*l.y+(S.y*S.z-S.x)*l.z,(S.x*S.z-S.y)*l.x+(S.y*S.z+S.x)*l.y+S.z*S.z*l.z,_);b=t.normalize(b,b);var C=t.multiplyByScalar(b,O,_);S=t.normalize(t.subtract(t.add(E,C,w),s,w),w);var R=t.dot(r,S);S=t.normalize(t.subtract(t.subtract(E,C,S),s,S),S);var I=t.dot(r,S);return R<I?R:I},c}),r("Core/OpenCageGeocoderService",["./Cartesian3","./Check","./combine","./defaultValue","./defined","./defineProperties","./GeocodeType","./Rectangle","./Resource"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(e,r,o){t.defined("url",e),t.defined("apiKey",r),i(o)&&t.typeOf.object("params",o),e=u.createIfNeeded(e),e.appendForwardSlash(),e.setQueryParameters({key:r}),this._url=e,this._params=n(o,{})}return o(l.prototype,{url:{get:function(){return this._url}},params:{get:function(){return this._params}}}),l.prototype.geocode=function(n){return t.typeOf.string("query",n),this._url.getDerivedResource({url:"json",queryParameters:r(this._params,{q:n})}).fetchJson().then(function(t){return t.results.map(function(t){var r,n=t.bounds;if(i(n))r=s.fromDegrees(n.southwest.lng,n.southwest.lat,n.northeast.lng,n.northeast.lat);else{var o=t.geometry.lat,a=t.geometry.lng;r=e.fromDegrees(o,a)}return{displayName:t.formatted,destination:r}})})},l}),r("Core/Packable",["./DeveloperError"],function(e){"use strict";return{packedLength:void 0,pack:e.throwInstantiationError,unpack:e.throwInstantiationError}}),r("Core/PackableForInterpolation",["./DeveloperError"],function(e){"use strict";return{packedInterpolationLength:void 0,convertPackedArrayForInterpolation:e.throwInstantiationError,unpackInterpolationResult:e.throwInstantiationError}}),r("ThirdParty/measureText",[],function(){var e=function(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)};return function(t,r,n,i){var o=t.measureText(r),a=e(t.canvas,"font-family"),s=e(t.canvas,"font-size").replace("px",""),u=e(t.canvas,"font-style"),l=e(t.canvas,"font-weight"),c=!/\S/.test(r);o.fontsize=s;var h=document.createElement("div");h.style.position="absolute",h.style.opacity=0,h.style.font=u+" "+l+" "+s+"px "+a,h.innerHTML=r+"<br/>"+r,document.body.appendChild(h),o.leading=1.2*s;var f=e(h,"height");if(f=f.replace("px",""),f>=2*s&&(o.leading=f/2|0),document.body.removeChild(h),c)o.ascent=0,o.descent=0,o.bounds={minx:0,maxx:o.width,miny:0,maxy:0},o.height=0;else{var d=document.createElement("canvas");d.width=o.width+100,d.height=3*s,d.style.opacity=1,d.style.fontFamily=a,d.style.fontSize=s,d.style.fontStyle=u,d.style.fontWeight=l;var p=d.getContext("2d");p.font=u+" "+l+" "+s+"px "+a;var m=d.width,y=d.height,g=y/2;p.fillStyle="white",p.fillRect(-1,-1,m+2,y+2),n&&(p.strokeStyle="black",p.lineWidth=t.lineWidth,p.strokeText(r,50,g)),i&&(p.fillStyle="black",p.fillText(r,50,g));for(var E=p.getImageData(0,0,m,y).data,_=0,v=4*m,w=E.length;++_<w&&255===E[_];);var T=_/v|0;for(_=w-1;--_>0&&255===E[_];);var O=_/v|0;for(_=0;_<w&&255===E[_];)(_+=v)>=w&&(_=_-w+4);var S=_%v/4|0,b=1;for(_=w-3;_>=0&&255===E[_];)(_-=v)<0&&(_=w-3-4*b++);var C=_%v/4+1|0;o.ascent=g-T,o.descent=O-g,o.bounds={minx:S-50,maxx:C-50,miny:0,maxy:O-T},o.height=O-T+1}return o}}),r("Core/writeTextToCanvas",["../ThirdParty/measureText","./Color","./defaultValue","./defined","./DeveloperError"],function(e,t,r,n,i){"use strict";function o(o,s){if(!n(o))throw new i("text is required.");if(""!==o){s=r(s,r.EMPTY_OBJECT);var u=r(s.font,"10px sans-serif"),l=r(s.stroke,!1),c=r(s.fill,!0),h=r(s.strokeWidth,1),f=r(s.backgroundColor,t.TRANSPARENT),d=r(s.padding,0),p=2*d,m=document.createElement("canvas");m.width=1,m.height=1,m.style.font=u;var y=m.getContext("2d");n(a)||(n(y.imageSmoothingEnabled)?a="imageSmoothingEnabled":n(y.mozImageSmoothingEnabled)?a="mozImageSmoothingEnabled":n(y.webkitImageSmoothingEnabled)?a="webkitImageSmoothingEnabled":n(y.msImageSmoothingEnabled)&&(a="msImageSmoothingEnabled")),y.font=u,y.lineJoin="round",y.lineWidth=h,y[a]=!1,y.textBaseline=r(s.textBaseline,"bottom"),m.style.visibility="hidden",document.body.appendChild(m);var g=e(y,o,l,c);m.dimensions=g,document.body.removeChild(m),m.style.visibility="";var E=-g.bounds.minx,_=Math.ceil(g.width)+E+p,v=g.height+p,w=v-g.ascent+p,T=v-w+p;if(m.width=_,m.height=v,y.font=u,y.lineJoin="round",y.lineWidth=h,y[a]=!1,f!==t.TRANSPARENT&&(y.fillStyle=f.toCssColorString(),y.fillRect(0,0,m.width,m.height)),l){var O=r(s.strokeColor,t.BLACK);y.strokeStyle=O.toCssColorString(),y.strokeText(o,E+d,T)}if(c){var S=r(s.fillColor,t.WHITE);y.fillStyle=S.toCssColorString(),y.fillText(o,E+d,T)}return m}}var a;return o}),r("Core/PinBuilder",["./buildModuleUrl","./Color","./defined","./DeveloperError","./Resource","./writeTextToCanvas"],function(e,t,r,n,i,o){"use strict";function a(){this._cache={}}function s(e,t,r){e.save(),e.scale(r/24,r/24),e.fillStyle=t.toCssColorString(),e.strokeStyle=t.brighten(.6,c).toCssColorString(),e.lineWidth=.846,e.beginPath(),e.moveTo(6.72,.422),e.lineTo(17.28,.422),e.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),e.lineTo(19.577,10.973),e.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),e.lineTo(14.386,14.008),e.lineTo(11.826,23.578),e.lineTo(9.614,14.008),e.lineTo(6.719,13.965),e.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),e.lineTo(4.422,3.416),e.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),e.closePath(),e.fill(),e.stroke(),e.restore()}function u(e,r,n){var i=n/2.5,o=i,a=i;r.width>r.height?a=i*(r.height/r.width):r.width<r.height&&(o=i*(r.width/r.height));var s=Math.round((n-o)/2),u=Math.round(7/24*n-a/2);e.globalCompositeOperation="destination-out",e.drawImage(r,s-1,u,o,a),e.drawImage(r,s,u-1,o,a),e.drawImage(r,s+1,u,o,a),e.drawImage(r,s,u+1,o,a),e.globalCompositeOperation="destination-over",e.fillStyle=t.BLACK.toCssColorString(),e.fillRect(s-1,u-1,o+2,a+2),e.globalCompositeOperation="destination-out",e.drawImage(r,s,u,o,a),e.globalCompositeOperation="destination-over",e.fillStyle=t.WHITE.toCssColorString(),e.fillRect(s-1,u-2,o+2,a+2)}function l(e,t,n,a,l){h[0]=e,h[1]=t,h[2]=n,h[3]=a;var c=JSON.stringify(h),f=l[c];if(r(f))return f;var d=document.createElement("canvas");d.width=a,d.height=a;var p=d.getContext("2d");if(s(p,n,a),r(e)){var m=i.createIfNeeded(e),y=m.fetchImage().then(function(e){return u(p,e,a),l[c]=d,d});return l[c]=y,y}if(r(t)){var g=o(t,{font:"bold "+a+"px sans-serif"});u(p,g,a)}return l[c]=d,d}a.prototype.fromColor=function(e,t){if(!r(e))throw new n("color is required");if(!r(t))throw new n("size is required");return l(void 0,void 0,e,t,this._cache)},a.prototype.fromUrl=function(e,t,i){if(!r(e))throw new n("url is required");if(!r(t))throw new n("color is required");if(!r(i))throw new n("size is required");return l(e,void 0,t,i,this._cache)},a.prototype.fromMakiIconId=function(t,i,o){if(!r(t))throw new n("id is required");if(!r(i))throw new n("color is required");if(!r(o))throw new n("size is required");return l(e("Assets/Textures/maki/"+encodeURIComponent(t)+".png"),void 0,i,o,this._cache)},a.prototype.fromText=function(e,t,i){if(!r(e))throw new n("text is required");if(!r(t))throw new n("color is required");if(!r(i))throw new n("size is required");return l(void 0,e,t,i,this._cache)};var c=new t,h=new Array(4);return a}),r("Renderer/PixelDatatype",["../Core/freezeObject","../Core/WebGLConstants"],function(e,t){"use strict";var r={UNSIGNED_BYTE:t.UNSIGNED_BYTE,UNSIGNED_SHORT:t.UNSIGNED_SHORT,UNSIGNED_INT:t.UNSIGNED_INT,FLOAT:t.FLOAT,HALF_FLOAT:t.HALF_FLOAT_OES,UNSIGNED_INT_24_8:t.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:t.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:t.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:t.UNSIGNED_SHORT_5_6_5,isPacked:function(e){return e===r.UNSIGNED_INT_24_8||e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(e){switch(e){case r.UNSIGNED_BYTE:return 1;case r.UNSIGNED_SHORT:case r.UNSIGNED_SHORT_4_4_4_4:case r.UNSIGNED_SHORT_5_5_5_1:case r.UNSIGNED_SHORT_5_6_5:case r.HALF_FLOAT:return 2;case r.UNSIGNED_INT:case r.FLOAT:case r.UNSIGNED_INT_24_8:return 4}},validate:function(e){return e===r.UNSIGNED_BYTE||e===r.UNSIGNED_SHORT||e===r.UNSIGNED_INT||e===r.FLOAT||e===r.HALF_FLOAT||e===r.UNSIGNED_INT_24_8||e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5}};return e(r)}),r("Core/PixelFormat",["../Renderer/PixelDatatype","./freezeObject","./WebGLConstants"],function(e,t,r){"use strict";var n={DEPTH_COMPONENT:r.DEPTH_COMPONENT,DEPTH_STENCIL:r.DEPTH_STENCIL,ALPHA:r.ALPHA,RGB:r.RGB,RGBA:r.RGBA,LUMINANCE:r.LUMINANCE,LUMINANCE_ALPHA:r.LUMINANCE_ALPHA,RGB_DXT1:r.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:r.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:r.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:r.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGB_ETC1:r.COMPRESSED_RGB_ETC1_WEBGL,componentsLength:function(e){switch(e){case n.RGB:return 3;case n.RGBA:return 4;case n.LUMINANCE_ALPHA:return 2;case n.ALPHA:case n.LUMINANCE:default:return 1}},validate:function(e){return e===n.DEPTH_COMPONENT||e===n.DEPTH_STENCIL||e===n.ALPHA||e===n.RGB||e===n.RGBA||e===n.LUMINANCE||e===n.LUMINANCE_ALPHA||e===n.RGB_DXT1||e===n.RGBA_DXT1||e===n.RGBA_DXT3||e===n.RGBA_DXT5||e===n.RGB_PVRTC_4BPPV1||e===n.RGB_PVRTC_2BPPV1||e===n.RGBA_PVRTC_4BPPV1||e===n.RGBA_PVRTC_2BPPV1||e===n.RGB_ETC1},isColorFormat:function(e){return e===n.ALPHA||e===n.RGB||e===n.RGBA||e===n.LUMINANCE||e===n.LUMINANCE_ALPHA},isDepthFormat:function(e){return e===n.DEPTH_COMPONENT||e===n.DEPTH_STENCIL},isCompressedFormat:function(e){return e===n.RGB_DXT1||e===n.RGBA_DXT1||e===n.RGBA_DXT3||e===n.RGBA_DXT5||e===n.RGB_PVRTC_4BPPV1||e===n.RGB_PVRTC_2BPPV1||e===n.RGBA_PVRTC_4BPPV1||e===n.RGBA_PVRTC_2BPPV1||e===n.RGB_ETC1},isDXTFormat:function(e){return e===n.RGB_DXT1||e===n.RGBA_DXT1||e===n.RGBA_DXT3||e===n.RGBA_DXT5},isPVRTCFormat:function(e){return e===n.RGB_PVRTC_4BPPV1||e===n.RGB_PVRTC_2BPPV1||e===n.RGBA_PVRTC_4BPPV1||e===n.RGBA_PVRTC_2BPPV1},isETC1Format:function(e){return e===n.RGB_ETC1},compressedTextureSizeInBytes:function(e,t,r){switch(e){case n.RGB_DXT1:case n.RGBA_DXT1:case n.RGB_ETC1:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*8;case n.RGBA_DXT3:case n.RGBA_DXT5:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*16;case n.RGB_PVRTC_4BPPV1:case n.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(t,8)*Math.max(r,8)*4+7)/8);case n.RGB_PVRTC_2BPPV1:case n.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(t,16)*Math.max(r,8)*2+7)/8);default:return 0}},textureSizeInBytes:function(t,r,i,o){var a=n.componentsLength(t);return e.isPacked(r)&&(a=1),a*e.sizeInBytes(r)*i*o},alignmentInBytes:function(e,t,r){var i=n.textureSizeInBytes(e,t,r,1)%4;return 0===i?4:2===i?2:1},createTypedArray:function(t,r,i,o){var a=e.sizeInBytes(r);return new(a===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:a===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:a===Float32Array.BYTES_PER_ELEMENT&&r===e.FLOAT?Float32Array:Uint32Array)(n.componentsLength(t)*i*o)},flipY:function(e,t,r,i,o){if(1===o)return e;for(var a=n.createTypedArray(t,r,i,o),s=n.componentsLength(t),u=i*s,l=0;l<o;++l)for(var c=l*o*s,h=(o-l-1)*o*s,f=0;f<u;++f)a[h+f]=e[c+f];return a}};return t(n)}),r("Core/PolygonHierarchy",["./defined"],function(e){"use strict";function t(t,r){this.positions=e(t)?t:[],this.holes=e(r)?r:[]}return t}),r("ThirdParty/earcut-2.1.1",[],function(){"use strict";function e(e,r,i){i=i||2;var o=r&&r.length,a=o?r[0]*i:e.length,s=t(e,0,a,i,!0),l=[];if(!s)return l;var c,h,f,d,p,m,y;if(o&&(s=u(e,r,s,i)),e.length>80*i){c=f=e[0],h=d=e[1];for(var g=i;g<a;g+=i)p=e[g],m=e[g+1],p<c&&(c=p),m<h&&(h=m),p>f&&(f=p),m>d&&(d=m);y=Math.max(f-c,d-h)}return n(s,l,i,c,h,y),l}function t(e,t,r,n,i){var o,a;if(i===I(e,t,r,n)>0)for(o=t;o<r;o+=n)a=b(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=b(o,e[o],e[o+1],a);return a&&_(a,a.next)&&(C(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==E(n.prev,n,n.next))n=n.next;else{if(C(n),(n=t=n.prev)===n.next)return null;r=!0}}while(r||n!==t);return t}function n(e,t,u,l,c,h,d){if(e){!d&&h&&f(e,l,c,h);for(var p,m,y=e;e.prev!==e.next;)if(p=e.prev,m=e.next,h?o(e,l,c,h):i(e))t.push(p.i/u),t.push(e.i/u),t.push(m.i/u),C(e),e=m.next,y=m.next;else if((e=m)===y){d?1===d?(e=a(e,t,u),n(e,t,u,l,c,h,2)):2===d&&s(e,t,u,l,c,h):n(r(e),t,u,l,c,h,1);break}}}function i(e){var t=e.prev,r=e,n=e.next;if(E(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(y(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&E(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function o(e,t,r,n){var i=e.prev,o=e,a=e.next;if(E(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=p(s,u,t,r,n),f=p(l,c,t,r,n),d=e.nextZ;d&&d.z<=f;){if(d!==e.prev&&d!==e.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&E(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&E(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function a(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!_(i,o)&&v(i,n,n.next,o)&&T(i,o)&&T(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),C(n),C(n.next),n=e=o),n=n.next}while(n!==e);return n}function s(e,t,i,o,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=S(u,l);return u=r(u,u.next),c=r(c,c.next),n(u,t,i,o,a,s),void n(c,t,i,o,a,s)}l=l.next}u=u.next}while(u!==e)}function u(e,n,i,o){var a,s,u,h,f,d=[];for(a=0,s=n.length;a<s;a++)u=n[a]*o,h=a<s-1?n[a+1]*o:e.length,f=t(e,u,h,o,!1),f===f.next&&(f.steiner=!0),d.push(m(f));for(d.sort(l),a=0;a<d.length;a++)c(d[a],i),i=r(i,i.next);return i}function l(e,t){return e.x-t.x}function c(e,t){if(t=h(e,t)){var n=S(t,e);r(n,n.next)}}function h(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r.prev;var u,l=r,c=r.x,h=r.y,f=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=c&&y(o<h?i:a,o,c,h,o<h?a:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&T(n,e)&&(r=n,f=u),n=n.next;return r}function f(e,t,r,n){var i=e;do{null===i.z&&(i.z=p(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,d(i)}function d(e){var t,r,n,i,o,a,s,u,l=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(u=l;s>0||u>0&&n;)0===s?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1);return e}function p(e,t,r,n,i){return e=32767*(e-r)/i,t=32767*(t-n)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function m(e){var t=e,r=e;do{t.x<r.x&&(r=t),t=t.next}while(t!==e);return r}function y(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!w(e,t)&&T(e,t)&&T(t,e)&&O(e,t)}function E(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function _(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,r,n){return!!(_(e,t)&&_(r,n)||_(e,n)&&_(r,t))||E(e,t,r)>0!=E(e,t,n)>0&&E(r,n,e)>0!=E(r,n,t)>0}function w(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&v(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function T(e,t){return E(e.prev,e,e.next)<0?E(e,t,e.next)>=0&&E(e,e.prev,t)>=0:E(e,t,e.prev)<0||E(e,e.next,t)<0}function O(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{
r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}function S(e,t){var r=new R(e.i,e.x,e.y),n=new R(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function b(e,t,r,n){var i=new R(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function C(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}return e.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(I(e,0,o,r));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,c=s<u-1?t[s+1]*r:e.length;a-=Math.abs(I(e,l,c,r))}var h=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},e.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r},e}),r("Core/GeometryOffsetAttribute",["../Core/freezeObject"],function(e){"use strict";return e({NONE:0,TOP:1,ALL:2})}),r("Core/GeometryType",["./freezeObject"],function(e){"use strict";return e({NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3})}),r("Core/PrimitiveType",["./freezeObject","./WebGLConstants"],function(e,t){"use strict";var r={POINTS:t.POINTS,LINES:t.LINES,LINE_LOOP:t.LINE_LOOP,LINE_STRIP:t.LINE_STRIP,TRIANGLES:t.TRIANGLES,TRIANGLE_STRIP:t.TRIANGLE_STRIP,TRIANGLE_FAN:t.TRIANGLE_FAN,validate:function(e){return e===r.POINTS||e===r.LINES||e===r.LINE_LOOP||e===r.LINE_STRIP||e===r.TRIANGLES||e===r.TRIANGLE_STRIP||e===r.TRIANGLE_FAN}};return e(r)}),r("Core/Geometry",["./Cartesian2","./Cartesian3","./Cartographic","./Check","./defaultValue","./defined","./DeveloperError","./GeometryOffsetAttribute","./GeometryType","./Matrix2","./Matrix3","./Matrix4","./PrimitiveType","./Quaternion","./Rectangle","./Transforms"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m){"use strict";function y(e){e=i(e,i.EMPTY_OBJECT),n.typeOf.object("options.attributes",e.attributes),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=i(e.primitiveType,f.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=i(e.geometryType,u.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}y.computeNumberOfVertices=function(e){n.typeOf.object("geometry",e);var t=-1;for(var r in e.attributes)if(e.attributes.hasOwnProperty(r)&&o(e.attributes[r])&&o(e.attributes[r].values)){var i=e.attributes[r],s=i.values.length/i.componentsPerAttribute;if(t!==s&&-1!==t)throw new a("All attribute lists must have the same number of attributes.");t=s}return t};var g=new r,E=new t,_=new h,v=[new r,new r,new r],w=[new e,new e,new e],T=[new e,new e,new e],O=new t,S=new d,b=new h,C=new l;return y._textureCoordinateRotationPoints=function(n,i,o,a){var s,u=p.center(a,g),f=r.toCartesian(u,o,E),y=m.eastNorthUpToFixedFrame(f,o,_),R=h.inverse(y,_),I=w,A=v;A[0].longitude=a.west,A[0].latitude=a.south,A[1].longitude=a.west,A[1].latitude=a.north,A[2].longitude=a.east,A[2].latitude=a.south;var M=O;for(s=0;s<3;s++)r.toCartesian(A[s],o,M),M=h.multiplyByPointAsVector(R,M,M),I[s].x=M.x,I[s].y=M.y;var x=d.fromAxisAngle(t.UNIT_Z,-i,S),N=c.fromQuaternion(x,b),P=n.length,D=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY,q=Number.NEGATIVE_INFINITY;for(s=0;s<P;s++)M=h.multiplyByPointAsVector(R,n[s],M),M=c.multiplyByVector(N,M,M),D=Math.min(D,M.x),L=Math.min(L,M.y),U=Math.max(U,M.x),q=Math.max(q,M.y);var B=l.fromRotation(i,C),F=T;F[0].x=D,F[0].y=L,F[1].x=D,F[1].y=q,F[2].x=U,F[2].y=L;var j=I[0],z=I[2].x-j.x,G=I[1].y-j.y;for(s=0;s<3;s++){var k=F[s];l.multiplyByVector(B,k,k),k.x=(k.x-j.x)/z,k.y=(k.y-j.y)/G}var H=F[0],V=F[1],W=F[2],Y=new Array(6);return e.pack(H,Y),e.pack(V,Y,2),e.pack(W,Y,4),Y},y}),r("Core/GeometryAttribute",["./defaultValue","./defined","./DeveloperError"],function(e,t,r){"use strict";function n(n){if(n=e(n,e.EMPTY_OBJECT),!t(n.componentDatatype))throw new r("options.componentDatatype is required.");if(!t(n.componentsPerAttribute))throw new r("options.componentsPerAttribute is required.");if(n.componentsPerAttribute<1||n.componentsPerAttribute>4)throw new r("options.componentsPerAttribute must be between 1 and 4.");if(!t(n.values))throw new r("options.values is required.");this.componentDatatype=n.componentDatatype,this.componentsPerAttribute=n.componentsPerAttribute,this.normalize=e(n.normalize,!1),this.values=n.values}return n}),r("Core/WindingOrder",["./freezeObject","./WebGLConstants"],function(e,t){"use strict";var r={CLOCKWISE:t.CW,COUNTER_CLOCKWISE:t.CCW,validate:function(e){return e===r.CLOCKWISE||e===r.COUNTER_CLOCKWISE}};return e(r)}),r("Core/PolygonPipeline",["../ThirdParty/earcut-2.1.1","./Cartesian2","./Cartesian3","./Cartographic","./Check","./ComponentDatatype","./defaultValue","./defined","./Ellipsoid","./EllipsoidRhumbLine","./Geometry","./GeometryAttribute","./Math","./PrimitiveType","./WindingOrder"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p){"use strict";var m=new r,y=new r,g={};g.computeArea2D=function(e){i.defined("positions",e),i.typeOf.number.greaterThanOrEquals("positions.length",e.length,3);for(var t=e.length,r=0,n=t-1,o=0;o<t;n=o++){var a=e[n],s=e[o];r+=a.x*s.y-s.x*a.y}return.5*r},g.computeWindingOrder2D=function(e){return g.computeArea2D(e)>0?p.COUNTER_CLOCKWISE:p.CLOCKWISE},g.triangulate=function(r,n){i.defined("positions",r);var o=t.packArray(r);return e(o,n,2)};var E=new r,_=new r,v=new r,w=new r,T=new r,O=new r,S=new r;g.computeSubdivision=function(e,t,n,u){u=a(u,f.RADIANS_PER_DEGREE),i.typeOf.object("ellipsoid",e),i.defined("positions",t),i.defined("indices",n),i.typeOf.number.greaterThanOrEquals("indices.length",n.length,3),i.typeOf.number.equals("indices.length % 3","0",n.length%3,0),i.typeOf.number.greaterThan("granularity",u,0);var l,p=n.slice(0),m=t.length,y=new Array(3*m),g=0;for(l=0;l<m;l++){var b=t[l];y[g++]=b.x,y[g++]=b.y,y[g++]=b.z}for(var C=[],R={},I=e.maximumRadius,A=f.chordLength(u,I),M=A*A;p.length>0;){var x,N,P=p.pop(),D=p.pop(),L=p.pop(),U=r.fromArray(y,3*L,E),q=r.fromArray(y,3*D,_),B=r.fromArray(y,3*P,v),F=r.multiplyByScalar(r.normalize(U,w),I,w),j=r.multiplyByScalar(r.normalize(q,T),I,T),z=r.multiplyByScalar(r.normalize(B,O),I,O),G=r.magnitudeSquared(r.subtract(F,j,S)),k=r.magnitudeSquared(r.subtract(j,z,S)),H=r.magnitudeSquared(r.subtract(z,F,S)),V=Math.max(G,k,H);V>M?G===V?(x=Math.min(L,D)+" "+Math.max(L,D),l=R[x],s(l)||(N=r.add(U,q,S),r.multiplyByScalar(N,.5,N),y.push(N.x,N.y,N.z),l=y.length/3-1,R[x]=l),p.push(L,l,P),p.push(l,D,P)):k===V?(x=Math.min(D,P)+" "+Math.max(D,P),l=R[x],s(l)||(N=r.add(q,B,S),r.multiplyByScalar(N,.5,N),y.push(N.x,N.y,N.z),l=y.length/3-1,R[x]=l),p.push(D,l,L),p.push(l,P,L)):H===V&&(x=Math.min(P,L)+" "+Math.max(P,L),l=R[x],s(l)||(N=r.add(B,U,S),r.multiplyByScalar(N,.5,N),y.push(N.x,N.y,N.z),l=y.length/3-1,R[x]=l),p.push(P,l,D),p.push(l,L,D)):(C.push(L),C.push(D),C.push(P))}return new c({attributes:{position:new h({componentDatatype:o.DOUBLE,componentsPerAttribute:3,values:y})},indices:C,primitiveType:d.TRIANGLES})};var b=new n,C=new n,R=new n,I=new n;return g.computeRhumbLineSubdivision=function(e,t,n,u){u=a(u,f.RADIANS_PER_DEGREE),i.typeOf.object("ellipsoid",e),i.defined("positions",t),i.defined("indices",n),i.typeOf.number.greaterThanOrEquals("indices.length",n.length,3),i.typeOf.number.equals("indices.length % 3","0",n.length%3,0),i.typeOf.number.greaterThan("granularity",u,0);var p,m=n.slice(0),y=t.length,g=new Array(3*y),w=0;for(p=0;p<y;p++){var T=t[p];g[w++]=T.x,g[w++]=T.y,g[w++]=T.z}for(var O=[],A={},M=e.maximumRadius,x=f.chordLength(u,M),N=new l(void 0,void 0,e),P=new l(void 0,void 0,e),D=new l(void 0,void 0,e);m.length>0;){var L=m.pop(),U=m.pop(),q=m.pop(),B=r.fromArray(g,3*q,E),F=r.fromArray(g,3*U,_),j=r.fromArray(g,3*L,v),z=e.cartesianToCartographic(B,b),G=e.cartesianToCartographic(F,C),k=e.cartesianToCartographic(j,R);N.setEndPoints(z,G);var H=N.surfaceDistance;P.setEndPoints(G,k);var V=P.surfaceDistance;D.setEndPoints(k,z);var W,Y,X,Z,K=D.surfaceDistance,Q=Math.max(H,V,K);Q>x?H===Q?(W=Math.min(q,U)+" "+Math.max(q,U),p=A[W],s(p)||(Y=N.interpolateUsingFraction(.5,I),X=.5*(z.height+G.height),Z=r.fromRadians(Y.longitude,Y.latitude,X,e,S),g.push(Z.x,Z.y,Z.z),p=g.length/3-1,A[W]=p),m.push(q,p,L),m.push(p,U,L)):V===Q?(W=Math.min(U,L)+" "+Math.max(U,L),p=A[W],s(p)||(Y=P.interpolateUsingFraction(.5,I),X=.5*(G.height+k.height),Z=r.fromRadians(Y.longitude,Y.latitude,X,e,S),g.push(Z.x,Z.y,Z.z),p=g.length/3-1,A[W]=p),m.push(U,p,q),m.push(p,L,q)):K===Q&&(W=Math.min(L,q)+" "+Math.max(L,q),p=A[W],s(p)||(Y=D.interpolateUsingFraction(.5,I),X=.5*(k.height+z.height),Z=r.fromRadians(Y.longitude,Y.latitude,X,e,S),g.push(Z.x,Z.y,Z.z),p=g.length/3-1,A[W]=p),m.push(L,p,U),m.push(p,q,U)):(O.push(q),O.push(U),O.push(L))}return new c({attributes:{position:new h({componentDatatype:o.DOUBLE,componentsPerAttribute:3,values:g})},indices:O,primitiveType:d.TRIANGLES})},g.scaleToGeodeticHeight=function(e,t,n,i){n=a(n,u.WGS84);var o=m,l=y;if(t=a(t,0),i=a(i,!0),s(e))for(var c=e.length,h=0;h<c;h+=3)r.fromArray(e,h,l),i&&(l=n.scaleToGeodeticSurface(l,l)),0!==t&&(o=n.geodeticSurfaceNormal(l,o),r.multiplyByScalar(o,t,o),r.add(l,o,l)),e[h]=l.x,e[h+1]=l.y,e[h+2]=l.z;return e},g}),r("Core/PolylinePipeline",["./Cartesian3","./Cartographic","./defaultValue","./defined","./DeveloperError","./Ellipsoid","./EllipsoidGeodesic","./EllipsoidRhumbLine","./IntersectionTests","./isArray","./Math","./Matrix4","./Plane"],function(e,t,r,n,i,o,a,s,u,l,c,h,f){"use strict";function d(e,t,r){var n=C;n.length=e;var i;if(t===r){for(i=0;i<e;i++)n[i]=t;return n}var o=r-t,a=o/e;for(i=0;i<e;i++){var s=t+i*a;n[i]=s}return n}function p(t,r,n,i,o,a,s,u){var l=i.scaleToGeodeticSurface(t,M),c=i.scaleToGeodeticSurface(r,x),h=y.numberOfPoints(t,r,n),f=i.cartesianToCartographic(l,R),p=i.cartesianToCartographic(c,I),m=d(h,o,a);N.setEndPoints(f,p);var g=N.surfaceDistance/h,E=u;f.height=o;var _=i.cartographicToCartesian(f,A);e.pack(_,s,E),E+=3;for(var v=1;v<h;v++){var w=N.interpolateUsingSurfaceDistance(v*g,I);w.height=m[v],_=i.cartographicToCartesian(w,A),e.pack(_,s,E),E+=3}return E}function m(t,r,n,i,o,a,u,l){var c=i.scaleToGeodeticSurface(t,M),h=i.scaleToGeodeticSurface(r,x),f=i.cartesianToCartographic(c,R),p=i.cartesianToCartographic(h,I),m=y.numberOfPointsRhumbLine(f,p,n),g=d(m,o,a);P.ellipsoid.equals(i)||(P=new s(void 0,void 0,i)),P.setEndPoints(f,p);var E=P.surfaceDistance/m,_=l;f.height=o;var v=i.cartographicToCartesian(f,A);e.pack(v,u,_),_+=3;for(var w=1;w<m;w++){var T=P.interpolateUsingSurfaceDistance(w*E,I);T.height=g[w],v=i.cartographicToCartesian(T,A),e.pack(v,u,_),_+=3}return _}var y={};y.numberOfPoints=function(t,r,n){var i=e.distance(t,r);return Math.ceil(i/n)},y.numberOfPointsRhumbLine=function(e,t,r){var n=Math.pow(e.longitude-t.longitude,2)+Math.pow(e.latitude-t.latitude,2);return Math.ceil(Math.sqrt(n/(r*r)))};var g=new t;y.extractHeights=function(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;i++){var o=e[i];n[i]=t.cartesianToCartographic(o,g).height}return n};var E=new h,_=new e,v=new e,w=new f(e.UNIT_X,0),T=new e,O=new f(e.UNIT_X,0),S=new e,b=new e,C=[],R=new t,I=new t,A=new e,M=new e,x=new e,N=new a,P=new s;y.wrapLongitude=function(t,i){var o=[],a=[];if(n(t)&&t.length>0){i=r(i,h.IDENTITY);var s=h.inverseTransformation(i,E),l=h.multiplyByPoint(s,e.ZERO,_),c=e.normalize(h.multiplyByPointAsVector(s,e.UNIT_Y,v),v),d=f.fromPointNormal(l,c,w),p=e.normalize(h.multiplyByPointAsVector(s,e.UNIT_X,T),T),m=f.fromPointNormal(l,p,O),y=1;o.push(e.clone(t[0]));for(var g=o[0],C=t.length,R=1;R<C;++R){var I=t[R];if(f.getPointDistance(m,g)<0||f.getPointDistance(m,I)<0){var A=u.lineSegmentPlane(g,I,d,S);if(n(A)){var M=e.multiplyByScalar(c,5e-9,b);f.getPointDistance(d,g)<0&&e.negate(M,M),o.push(e.add(A,M,new e)),a.push(y+1),e.negate(M,M),o.push(e.add(A,M,new e)),y=1}}o.push(e.clone(t[R])),y++,g=I}a.push(y)}return{positions:o,lengths:a}},y.generateArc=function(t){n(t)||(t={});var a=t.positions;if(!n(a))throw new i("options.positions is required.");var s=a.length,u=r(t.ellipsoid,o.WGS84),h=r(t.height,0),f=l(h);if(s<1)return[];if(1===s){var d=u.scaleToGeodeticSurface(a[0],M);if(0!==(h=f?h[0]:h)){var m=u.geodeticSurfaceNormal(d,A);e.multiplyByScalar(m,h,m),e.add(d,m,d)}return[d.x,d.y,d.z]}var g=t.minDistance;if(!n(g)){var E=r(t.granularity,c.RADIANS_PER_DEGREE);g=c.chordLength(E,u.maximumRadius)}var _,v=0;for(_=0;_<s-1;_++)v+=y.numberOfPoints(a[_],a[_+1],g);var w=3*(v+1),T=new Array(w),O=0;for(_=0;_<s-1;_++){O=p(a[_],a[_+1],g,u,f?h[_]:h,f?h[_+1]:h,T,O)}C.length=0;var S=a[s-1],b=u.cartesianToCartographic(S,R);b.height=f?h[s-1]:h;var I=u.cartographicToCartesian(b,A);return e.pack(I,T,w-3),T};var D=new t,L=new t;return y.generateRhumbArc=function(a){n(a)||(a={});var s=a.positions;if(!n(s))throw new i("options.positions is required.");var u=s.length,h=r(a.ellipsoid,o.WGS84),f=r(a.height,0),d=l(f);if(u<1)return[];if(1===u){var p=h.scaleToGeodeticSurface(s[0],M);if(0!==(f=d?f[0]:f)){var g=h.geodeticSurfaceNormal(p,A);e.multiplyByScalar(g,f,g),e.add(p,g,p)}return[p.x,p.y,p.z]}var E,_,v=r(a.granularity,c.RADIANS_PER_DEGREE),w=0,T=h.cartesianToCartographic(s[0],D);for(E=0;E<u-1;E++)_=h.cartesianToCartographic(s[E+1],L),w+=y.numberOfPointsRhumbLine(T,_,v),T=t.clone(_,D);var O=3*(w+1),S=new Array(O),b=0;for(E=0;E<u-1;E++){b=m(s[E],s[E+1],v,h,d?f[E]:f,d?f[E+1]:f,S,b)}C.length=0;var I=s[u-1],x=h.cartesianToCartographic(I,R);x.height=d?f[u-1]:f;var N=h.cartographicToCartesian(x,A);return e.pack(N,S,O-3),S},y.generateCartesianArc=function(t){for(var r=y.generateArc(t),n=r.length/3,i=new Array(n),o=0;o<n;o++)i[o]=e.unpack(r,3*o);return i},y.generateCartesianRhumbArc=function(t){for(var r=y.generateRhumbArc(t),n=r.length/3,i=new Array(n),o=0;o<n;o++)i[o]=e.unpack(r,3*o);return i},y}),r("Core/QuaternionSpline",["./defaultValue","./defined","./defineProperties","./DeveloperError","./Quaternion","./Spline"],function(e,t,r,n,i,o){"use strict";function a(e){var r=e.points,n=e.times;return function(o,a){t(a)||(a=new i);var s=e._lastTimeIndex=e.findTimeInterval(o,e._lastTimeIndex),u=(o-n[s])/(n[s+1]-n[s]),l=r[s],c=r[s+1];return i.fastSlerp(l,c,u,a)}}function s(r){r=e(r,e.EMPTY_OBJECT);var i=r.points,o=r.times;if(!t(i)||!t(o))throw new n("points and times are required.");if(i.length<2)throw new n("points.length must be greater than or equal to 2.");if(o.length!==i.length)throw new n("times.length must be equal to points.length.");this._times=o,this._points=i,this._evaluateFunction=a(this),this._lastTimeIndex=0}return r(s.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),s.prototype.findTimeInterval=o.prototype.findTimeInterval,s.prototype.wrapTime=o.prototype.wrapTime,s.prototype.clampTime=o.prototype.clampTime,s.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)},s}),r("Core/Queue",["./defineProperties"],function(e){"use strict";function t(){this._array=[],this._offset=0,this._length=0}return e(t.prototype,{length:{get:function(){return this._length}}}),t.prototype.enqueue=function(e){this._array.push(e),this._length++},t.prototype.dequeue=function(){if(0!==this._length){var e=this._array,t=this._offset,r=e[t];return e[t]=void 0,t++,t>10&&2*t>e.length&&(this._array=e.slice(t),t=0),this._offset=t,this._length--,r}},t.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},t.prototype.contains=function(e){return-1!==this._array.indexOf(e)},t.prototype.clear=function(){this._array.length=this._offset=this._length=0},t.prototype.sort=function(e){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(e)},t}),r("ThirdParty/quickselect",[],function(){"use strict";function e(e,r,i,o,a){t(e,r,i||0,o||e.length-1,a||n)}function t(e,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=n-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-u*c/s+h)),Math.min(o,Math.floor(n+(s-u)*c/s+h)),a)}var f=e[n],d=i,p=o;for(r(e,i,n),a(e[o],f)>0&&r(e,i,o);d<p;){for(r(e,d,p),d++,p--;a(e[d],f)<0;)d++;for(;a(e[p],f)>0;)p--}0===a(e[i],f)?r(e,i,p):(p++,r(e,p,o)),p<=n&&(i=p+1),n<=p&&(o=p-1)}}function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t){return e<t?-1:e>t?1:0}return e}),r("ThirdParty/rbush",["./quickselect"],function(e){"use strict";function t(e,r){if(!(this instanceof t))return new t(e,r);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&this._initFormat(r),this.clear()}function r(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function n(e,t){i(e,0,e.children.length,t,e)}function i(e,t,r,n,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,s=t;s<r;s++)a=e.children[s],o(i,e.leaf?n(a):a);return i}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function a(e,t){return e.minX-t.minX}function s(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function l(e){return e.maxX-e.minX+(e.maxY-e.minY)}function c(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function h(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,o-n)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,r,n,i,o){for(var a,s=[r,n];s.length;)n=s.pop(),r=s.pop(),n-r<=i||(a=r+Math.ceil((n-r)/i/2)*i,e(t,a,r,n,o),s.push(r,a,a,n))}return t.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!d(e,t))return r;for(var i,o,a,s,u=[];t;){for(i=0,o=t.children.length;i<o;i++)a=t.children[i],s=t.leaf?n(a):a,d(e,s)&&(t.leaf?r.push(a):f(e,s)?this._all(a,r):u.push(a));t=u.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!d(e,t))return!1;for(var n,i,o,a,s=[];t;){for(n=0,i=t.children.length;n<i;n++)if(o=t.children[n],a=t.leaf?r(o):o,d(e,a)){if(t.leaf||f(e,a))return!0;s.push(o)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(e,t){if(!e)return this;for(var n,i,o,a,s=this.data,u=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(o=r(e,s.children,t)))return s.children.splice(o,1),l.push(s),this._condense(l),this;a||s.leaf||!f(s,u)?i?(n++,s=i.children[n],a=!1):s=null:(l.push(s),c.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:a,compareMinY:s,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,i){var o,a=r-t+1,s=this._maxEntries;if(a<=s)return o=p(e.slice(t,r+1)),n(o,this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),o=p([]),o.leaf=!1,o.height=i;var u,l,c,h,f=Math.ceil(a/s),d=f*Math.ceil(Math.sqrt(s));for(m(e,t,r,d,this.compareMinX),u=t;u<=r;u+=d)for(c=Math.min(u+d-1,r),m(e,u,c,f,this.compareMinY),l=u;l<=c;l+=f)h=Math.min(l+f-1,c),o.children.push(this._build(e,l,h,i-1));return n(o,this.toBBox),o},_chooseSubtree:function(e,t,r,n){for(var i,o,a,s,l,h,f,d;;){if(n.push(t),t.leaf||n.length-1===r)break;for(f=d=1/0,i=0,o=t.children.length;i<o;i++)a=t.children[i],l=u(a),h=c(e,a)-l,h<d?(d=h,f=l<f?l:f,s=a):h===d&&l<f&&(f=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),a=[],s=this._chooseSubtree(i,this.data,t,a);for(s.children.push(e),o(s,i);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(i,a,t)},_split:function(e,t){var r=e[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);var a=this._chooseSplitIndex(r,o,i),s=p(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,n(r,this.toBBox),n(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,o,a,s,l,c,f,d;for(c=f=1/0,n=t;n<=r-t;n++)o=i(e,0,n,this.toBBox),a=i(e,n,r,this.toBBox),s=h(o,a),l=u(o)+u(a),s<c?(c=s,d=n,f=l<f?l:f):s===c&&l<f&&(f=l,d=n);return d},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:a,i=e.leaf?this.compareMinY:s;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var a,s,u=this.toBBox,c=i(e,0,t,u),h=i(e,r-t,r,u),f=l(c)+l(h);for(a=t;a<r-t;a++)s=e.children[a],o(c,e.leaf?u(s):s),f+=l(c);for(a=r-t-1;a>=t;a--)s=e.children[a],o(h,e.leaf?u(s):s),f+=l(h);return f},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)o(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)0===e[r].children.length?r>0?(t=e[r-1].children,t.splice(t.indexOf(e[r]),1)):this.clear():n(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},t}),r("Core/RectangleCollisionChecker",["../ThirdParty/rbush","./Check"],function(e,t){"use strict";function r(){this._tree=e()}function n(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.id=""}function i(e,t){return e.id===t.id}n.fromRectangleAndId=function(e,t,r){return r.minX=t.west,r.minY=t.south,r.maxX=t.east,r.maxY=t.north,r.id=e,r},r.prototype.insert=function(e,r){t.typeOf.string("id",e),t.typeOf.object("rectangle",r);var i=n.fromRectangleAndId(e,r,new n);this._tree.insert(i)};var o=new n;r.prototype.remove=function(e,r){t.typeOf.string("id",e),t.typeOf.object("rectangle",r);var a=n.fromRectangleAndId(e,r,o);this._tree.remove(a,i)};var a=new n;return r.prototype.collides=function(e){t.typeOf.object("rectangle",e);var r=n.fromRectangleAndId("",e,a);return this._tree.collides(r)},r}),r("Core/ReferenceFrame",["./freezeObject"],function(e){"use strict";return e({FIXED:0,INERTIAL:1})}),r("Core/Simon1994PlanetaryPositions",["./Cartesian3","./defined","./DeveloperError","./JulianDate","./Math","./Matrix3","./TimeConstants","./TimeStandard"],function(e,t,r,n,i,o,a,s){"use strict";function u(e){var t=6.239996+.0172019696544*e;return.001657*Math.sin(t+.01671*Math.sin(t))}function l(e,t){t=n.addSeconds(e,v,t);var r=n.totalDays(t)-w;return t=n.addSeconds(t,u(r),t)}function c(n,a,s,u,l,c,d){if(s<0&&(s=-s,l+=i.PI),s<0||s>i.PI)throw new r("The inclination is out of range. Inclination must be greater than or equal to zero and less than or equal to Pi radians.");var p=n*(1-a),y=u-l,g=l,E=f(c-u,a);if("Hyperbolic"===h(a,0)&&Math.abs(i.negativePiToPi(E))>=Math.acos(-1/a))throw new r("The true anomaly of the hyperbolic orbit lies outside of the bounds of the hyperbola.");m(y,s,g,C);var _=p*(1+a),v=Math.cos(E),w=Math.sin(E),T=1+a*v;if(T<=i.Epsilon10)throw new r("elements cannot be converted to cartesian");var O=_/T;return t(d)?(d.x=O*v,d.y=O*w,d.z=0):d=new e(O*v,O*w,0),o.multiplyByVector(C,d,d)}function h(e,t){if(e<0)throw new r("eccentricity cannot be negative.");return e<=t?"Circular":e<1-t?"Elliptical":e<=1+t?"Parabolic":"Hyperbolic"}function f(e,t){if(t<0||t>=1)throw new r("eccentricity out of range.");return p(d(e,t),t)}function d(e,t){if(t<0||t>=1)throw new r("eccentricity out of range.");var n=Math.floor(e/i.TWO_PI);e-=n*i.TWO_PI;var o,a=e+t*Math.sin(e)/(1-Math.sin(e+t)+Math.sin(e)),s=Number.MAX_VALUE;for(o=0;o<R&&Math.abs(s-a)>I;++o){s=a;a=s-(s-t*Math.sin(s)-e)/(1-t*Math.cos(s))}if(o>=R)throw new r("Kepler equation did not converge");return s=a+n*i.TWO_PI}function p(e,t){if(t<0||t>=1)throw new r("eccentricity out of range.");var n=Math.floor(e/i.TWO_PI);e-=n*i.TWO_PI;var o=Math.cos(e)-t,a=Math.sin(e)*Math.sqrt(1-t*t),s=Math.atan2(a,o);return s=i.zeroToTwoPi(s),e<0&&(s-=i.TWO_PI),s+=n*i.TWO_PI}function m(e,n,a,s){if(n<0||n>i.PI)throw new r("inclination out of range");var u=Math.cos(e),l=Math.sin(e),c=Math.cos(n),h=Math.sin(n),f=Math.cos(a),d=Math.sin(a);return t(s)?(s[0]=f*u-d*l*c,s[1]=d*u+f*l*c,s[2]=l*h,s[3]=-f*l-d*u*c,s[4]=-d*l+f*u*c,s[5]=u*h,s[6]=d*h,s[7]=-f*h,s[8]=c):s=new o(f*u-d*l*c,-f*l-d*u*c,d*h,d*u+f*l*c,-d*l+f*u*c,-f*h,l*h,u*h,c),s}function y(e,t){l(e,Ce);var r=Ce.dayNumber-T.dayNumber+(Ce.secondsOfDay-T.secondsOfDay)/a.SECONDS_PER_DAY,n=r/(10*a.DAYS_PER_JULIAN_CENTURY),i=.3595362*n,o=A+j*Math.cos(N*i)+X*Math.sin(N*i)+z*Math.cos(P*i)+Z*Math.sin(P*i)+G*Math.cos(D*i)+K*Math.sin(D*i)+k*Math.cos(L*i)+Q*Math.sin(L*i)+H*Math.cos(U*i)+J*Math.sin(U*i)+V*Math.cos(q*i)+$*Math.sin(q*i)+W*Math.cos(B*i)+ee*Math.sin(B*i)+Y*Math.cos(F*i)+te*Math.sin(F*i),s=M+x*n+ce*Math.cos(re*i)+Ee*Math.sin(re*i)+he*Math.cos(ne*i)+_e*Math.sin(ne*i)+fe*Math.cos(ie*i)+ve*Math.sin(ie*i)+de*Math.cos(oe*i)+we*Math.sin(oe*i)+pe*Math.cos(ae*i)+Te*Math.sin(ae*i)+me*Math.cos(se*i)+Oe*Math.sin(se*i)+ye*Math.cos(ue*i)+Se*Math.sin(ue*i)+ge*Math.cos(le*i)+be*Math.sin(le*i);return c(o,.0167086342-.0004203654*n,469.97289*b*n,102.93734808*S+11612.3529*b*n,174.87317577*S-8679.27034*b*n,s,t)}function g(e,t){l(e,Ce);var r=Ce.dayNumber-T.dayNumber+(Ce.secondsOfDay-T.secondsOfDay)/a.SECONDS_PER_DAY,n=r/a.DAYS_PER_JULIAN_CENTURY,i=n*n,o=i*n,s=o*n,u=383397.7725+.004*n,h=.055545526-1.6e-8*n,f=5.15668983*S,d=-8e-5*n+.02966*i-42e-6*o-1.3e-7*s,p=83.35324312*S,m=14643420.2669*n-38.2702*i-.045047*o+21301e-8*s,y=125.04455501*S,g=-6967919.3631*n+6.3602*i+.007625*o-3586e-8*s,E=218.31664563*S,_=1732559343.4847*n-6.391*i+.006588*o-3169e-8*s,v=297.85019547*S+b*(1602961601.209*n-6.3706*i+.006593*o-3169e-8*s),w=93.27209062*S+b*(1739527262.8478*n-12.7512*i-.001037*o+417e-8*s),C=134.96340251*S+b*(1717915923.2178*n+31.8792*i+.051635*o-2447e-7*s),R=357.52910918*S+b*(129596581.0481*n-.5532*i+136e-6*o-1149e-8*s),I=310.17137918*S-b*(6967051.436*n+6.2068*i+.007618*o-3219e-8*s),A=2*v,M=4*v,x=6*v,N=2*C,P=3*C,D=4*C,L=2*w;u+=3400.4*Math.cos(A)-635.6*Math.cos(A-C)-235.6*Math.cos(C)+218.1*Math.cos(A-R)+181*Math.cos(A+C),h+=.014216*Math.cos(A-C)+.008551*Math.cos(A-N)-.001383*Math.cos(C)+.001356*Math.cos(A+C)-.001147*Math.cos(M-P)-914e-6*Math.cos(M-N)+869e-6*Math.cos(A-R-C)-627e-6*Math.cos(A)-394e-6*Math.cos(M-D)+282e-6*Math.cos(A-R-N)-279e-6*Math.cos(v-C)-236e-6*Math.cos(N)+231e-6*Math.cos(M)+229e-6*Math.cos(x-D)-201e-6*Math.cos(N-L),d+=486.26*Math.cos(A-L)-40.13*Math.cos(A)+37.51*Math.cos(L)+25.73*Math.cos(N-L)+19.97*Math.cos(A-R-L),m+=-55609*Math.sin(A-C)-34711*Math.sin(A-N)-9792*Math.sin(C)+9385*Math.sin(M-P)+7505*Math.sin(M-N)+5318*Math.sin(A+C)+3484*Math.sin(M-D)-3417*Math.sin(A-R-C)-2530*Math.sin(x-D)-2376*Math.sin(A)-2075*Math.sin(A-P)-1883*Math.sin(N)-1736*Math.sin(x-5*C)+1626*Math.sin(R)-1370*Math.sin(x-P),g+=-5392*Math.sin(A-L)-540*Math.sin(R)-441*Math.sin(A)+423*Math.sin(L)-288*Math.sin(N-L),_+=-3332.9*Math.sin(A)+1197.4*Math.sin(A-C)-662.5*Math.sin(R)+396.3*Math.sin(C)-218*Math.sin(A-R);var U=2*I,q=3*I;d+=46.997*Math.cos(I)*n-.614*Math.cos(A-L+I)*n+.614*Math.cos(A-L-I)*n-.0297*Math.cos(U)*i-.0335*Math.cos(I)*i+.0012*Math.cos(A-L+U)*i-16e-5*Math.cos(I)*o+4e-5*Math.cos(q)*o+4e-5*Math.cos(U)*o;var B=2.116*Math.sin(I)*n-.111*Math.sin(A-L-I)*n-.0015*Math.sin(I)*i;return m+=B,_+=B,g+=-520.77*Math.sin(I)*n+13.66*Math.sin(A-L+I)*n+1.12*Math.sin(A-I)*n-1.06*Math.sin(L-I)*n+.66*Math.sin(U)*i+.371*Math.sin(I)*i-.035*Math.sin(A-L+U)*i-.015*Math.sin(A-L+I)*i+.0014*Math.sin(I)*o-.0011*Math.sin(q)*o-9e-4*Math.sin(U)*o,u*=O,c(u,h,f+d*b,p+m*b,y+g*b,E+_*b,t)}function E(t,r){return r=g(t,r),e.multiplyByScalar(r,Re,r)}var _={},v=32.184,w=2451545,T=new n(2451545,0,s.TAI),O=1e3,S=i.RADIANS_PER_DEGREE,b=i.RADIANS_PER_ARCSECOND,C=new o,R=50,I=i.EPSILON8,A=149598022260.7121,M=100.46645683*S,x=1295977422.83429*b,N=16002,P=21863,D=32004,L=10931,U=14529,q=16368,B=15318,F=32794,j=64e-7*14959787e4,z=-2273887.624,G=927506.794,k=14959787e4*-8e-7,H=32e-7*14959787e4,V=-613351.267,W=284235.953,Y=-164557.657,X=-2243968.05,Z=-688150.202,K=1017265.516,Q=807828.498,J=14e-7*14959787e4,$=359034.888,ee=14959787e4*-28e-7,te=329115.314,re=10,ne=16002,ie=21863,oe=10931,ae=1473,se=32004,ue=4387,le=73,ce=-325e-7,he=-322e-7,fe=1e-7*-79,de=232*1e-7,pe=1e-7*-52,me=97e-7,ye=55e-7,ge=-41e-7,Ee=-105e-7,_e=-137e-7,ve=258e-7,we=35e-7,Te=1e-7*-116,Oe=-88e-7,Se=-112e-7,be=-8e-6,Ce=new n(0,0,s.TAI),Re=-.01215058143522694,Ie=new o(1.0000000000000002,5.619723173785822e-16,4.690511510146299e-19,-5.154129427414611e-16,.9174820620691819,-.39777715593191376,-2.23970096136568e-16,.39777715593191376,.9174820620691819),Ae=new e;return _.computeSunPositionInEarthInertialFrame=function(r,i){return t(r)||(r=n.now()),t(i)||(i=new e),Ae=y(r,Ae),i=e.negate(Ae,i),E(r,Ae),e.subtract(i,Ae,i),o.multiplyByVector(Ie,i,i),i},_.computeMoonPositionInEarthInertialFrame=function(e,r){return t(e)||(e=n.now()),r=g(e,r),o.multiplyByVector(Ie,r,r),r},_}),r("Core/Spherical",["./Check","./defaultValue","./defined"],function(e,t,r){"use strict";function n(e,r,n){this.clock=t(e,0),this.cone=t(r,0),this.magnitude=t(n,1)}return n.fromCartesian3=function(t,i){e.typeOf.object("cartesian3",t);var o=t.x,a=t.y,s=t.z,u=o*o+a*a;return r(i)||(i=new n),i.clock=Math.atan2(a,o),i.cone=Math.atan2(Math.sqrt(u),s),i.magnitude=Math.sqrt(u+s*s),i},n.clone=function(e,t){if(r(e))return r(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new n(e.clock,e.cone,e.magnitude)},n.normalize=function(t,i){return e.typeOf.object("spherical",t),r(i)?(i.clock=t.clock,i.cone=t.cone,i.magnitude=1,i):new n(t.clock,t.cone,1)},n.equals=function(e,t){return e===t||r(e)&&r(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude},n.equalsEpsilon=function(e,n,i){return i=t(i,0),e===n||r(e)&&r(n)&&Math.abs(e.clock-n.clock)<=i&&Math.abs(e.cone-n.cone)<=i&&Math.abs(e.magnitude-n.magnitude)<=i},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this.clock+", "+this.cone+", "+this.magnitude+")"},n}),r("Core/TerrainData",["./defineProperties","./DeveloperError"],function(e,t){"use strict";function r(){t.throwInstantiationError()}return e(r.prototype,{credits:{get:t.throwInstantiationError},waterMask:{get:t.throwInstantiationError}}),r.prototype.interpolateHeight=t.throwInstantiationError,r.prototype.isChildAvailable=t.throwInstantiationError,r.prototype.createMesh=t.throwInstantiationError,r.prototype.upsample=t.throwInstantiationError,r.prototype.wasCreatedByUpsampling=t.throwInstantiationError,r}),r("Core/TileEdge",[],function(){"use strict";return{WEST:0,NORTH:1,EAST:2,SOUTH:3,NORTHWEST:4,NORTHEAST:5,SOUTHWEST:6,SOUTHEAST:7}}),r("Core/TilingScheme",["./defineProperties","./DeveloperError"],function(e,t){
"use strict";function r(e){throw new t("This type should not be instantiated directly.  Instead, use WebMercatorTilingScheme or GeographicTilingScheme.")}return e(r.prototype,{ellipsoid:{get:t.throwInstantiationError},rectangle:{get:t.throwInstantiationError},projection:{get:t.throwInstantiationError}}),r.prototype.getNumberOfXTilesAtLevel=t.throwInstantiationError,r.prototype.getNumberOfYTilesAtLevel=t.throwInstantiationError,r.prototype.rectangleToNativeRectangle=t.throwInstantiationError,r.prototype.tileXYToNativeRectangle=t.throwInstantiationError,r.prototype.tileXYToRectangle=t.throwInstantiationError,r.prototype.positionToTileXY=t.throwInstantiationError,r}),r("Core/TimeIntervalCollection",["./binarySearch","./defaultValue","./defined","./defineProperties","./DeveloperError","./Event","./GregorianDate","./isLeapYear","./Iso8601","./JulianDate","./TimeInterval"],function(e,t,r,n,i,o,a,s,u,l,c){"use strict";function h(e,t){return l.compare(e.start,t.start)}function f(e){if(this._intervals=[],this._changedEvent=new o,r(e))for(var t=e.length,n=0;n<t;n++)this.addInterval(e[n])}function d(e,t,n){r(n)||(n=new l),l.toGregorianDate(e,y);var i=y.millisecond+t.millisecond,o=y.second+t.second,a=y.minute+t.minute,u=y.hour+t.hour,c=y.day+t.day,h=y.month+t.month,f=y.year+t.year;for(i>=1e3&&(o+=Math.floor(i/1e3),i%=1e3),o>=60&&(a+=Math.floor(o/60),o%=60),a>=60&&(u+=Math.floor(a/60),a%=60),u>=24&&(c+=Math.floor(u/24),u%=24),g[2]=s(f)?29:28;c>g[h]||h>=13;)c>g[h]&&(c-=g[h],++h),h>=13&&(--h,f+=Math.floor(h/12),h%=12,++h),g[2]=s(f)?29:28;return y.millisecond=i,y.second=o,y.minute=a,y.hour=u,y.day=c,y.month=h,y.year=f,l.fromGregorianDate(y,n)}function p(e,t){if(!r(e)||0===e.length)return!1;if(t.year=0,t.month=0,t.day=0,t.hour=0,t.minute=0,t.second=0,t.millisecond=0,"P"===e[0]){var n=e.match(_);if(!r(n))return!1;if(r(n[1])&&(t.year=Number(n[1].replace(",","."))),r(n[2])&&(t.month=Number(n[2].replace(",","."))),r(n[3])&&(t.day=7*Number(n[3].replace(",","."))),r(n[4])&&(t.day+=Number(n[4].replace(",","."))),r(n[5])&&(t.hour=Number(n[5].replace(",","."))),r(n[6])&&(t.minute=Number(n[6].replace(",","."))),r(n[7])){var i=Number(n[7].replace(",","."));t.second=Math.floor(i),t.millisecond=i%1*1e3}}else"Z"!==e[e.length-1]&&(e+="Z"),l.toGregorianDate(l.fromIso8601(e,E),t);return t.year||t.month||t.day||t.hour||t.minute||t.second||t.millisecond}n(f.prototype,{changedEvent:{get:function(){return this._changedEvent}},start:{get:function(){var e=this._intervals;return 0===e.length?void 0:e[0].start}},isStartIncluded:{get:function(){var e=this._intervals;return 0!==e.length&&e[0].isStartIncluded}},stop:{get:function(){var e=this._intervals,t=e.length;return 0===t?void 0:e[t-1].stop}},isStopIncluded:{get:function(){var e=this._intervals,t=e.length;return 0!==t&&e[t-1].isStopIncluded}},length:{get:function(){return this._intervals.length}},isEmpty:{get:function(){return 0===this._intervals.length}}}),f.prototype.equals=function(e,t){if(this===e)return!0;if(!(e instanceof f))return!1;var r=this._intervals,n=e._intervals,i=r.length;if(i!==n.length)return!1;for(var o=0;o<i;o++)if(!c.equals(r[o],n[o],t))return!1;return!0},f.prototype.get=function(e){if(!r(e))throw new i("index is required.");return this._intervals[e]},f.prototype.removeAll=function(){this._intervals.length>0&&(this._intervals.length=0,this._changedEvent.raiseEvent(this))},f.prototype.findIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t]:void 0},f.prototype.findDataForIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t].data:void 0},f.prototype.contains=function(e){return this.indexOf(e)>=0};var m=new c;f.prototype.indexOf=function(t){if(!r(t))throw new i("date is required");var n=this._intervals;m.start=t,m.stop=t;var o=e(n,m,h);return o>=0?n[o].isStartIncluded?o:o>0&&n[o-1].stop.equals(t)&&n[o-1].isStopIncluded?o-1:~o:(o=~o,o>0&&o-1<n.length&&c.contains(n[o-1],t)?o-1:~o)},f.prototype.findInterval=function(e){e=t(e,t.EMPTY_OBJECT);for(var n=e.start,i=e.stop,o=e.isStartIncluded,a=e.isStopIncluded,s=this._intervals,u=0,l=s.length;u<l;u++){var c=s[u];if((!r(n)||c.start.equals(n))&&(!r(i)||c.stop.equals(i))&&(!r(o)||c.isStartIncluded===o)&&(!r(a)||c.isStopIncluded===a))return s[u]}},f.prototype.addInterval=function(t,n){if(!r(t))throw new i("interval is required");if(!t.isEmpty){var o=this._intervals;if(0===o.length||l.greaterThan(t.start,o[o.length-1].stop))return o.push(t),void this._changedEvent.raiseEvent(this);var a=e(o,t,h);a<0?a=~a:a>0&&t.isStartIncluded&&o[a-1].isStartIncluded&&o[a-1].start.equals(t.start)?--a:a<o.length&&!t.isStartIncluded&&o[a].isStartIncluded&&o[a].start.equals(t.start)&&++a;var s;for(a>0&&((s=l.compare(o[a-1].stop,t.start))>0||0===s&&(o[a-1].isStopIncluded||t.isStartIncluded))&&((r(n)?n(o[a-1].data,t.data):o[a-1].data===t.data)?(t=new c(l.greaterThan(t.stop,o[a-1].stop)?{start:o[a-1].start,stop:t.stop,isStartIncluded:o[a-1].isStartIncluded,isStopIncluded:t.isStopIncluded,data:t.data}:{start:o[a-1].start,stop:o[a-1].stop,isStartIncluded:o[a-1].isStartIncluded,isStopIncluded:o[a-1].isStopIncluded||t.stop.equals(o[a-1].stop)&&t.isStopIncluded,data:t.data}),o.splice(a-1,1),--a):(s=l.compare(o[a-1].stop,t.stop),(s>0||0===s&&o[a-1].isStopIncluded&&!t.isStopIncluded)&&o.splice(a,0,new c({start:t.stop,stop:o[a-1].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:o[a-1].isStopIncluded,data:o[a-1].data})),o[a-1]=new c({start:o[a-1].start,stop:t.start,isStartIncluded:o[a-1].isStartIncluded,isStopIncluded:!t.isStartIncluded,data:o[a-1].data})));a<o.length&&((s=l.compare(t.stop,o[a].start))>0||0===s&&(t.isStopIncluded||o[a].isStartIncluded));)if(r(n)?n(o[a].data,t.data):o[a].data===t.data)t=new c({start:t.start,stop:l.greaterThan(o[a].stop,t.stop)?o[a].stop:t.stop,isStartIncluded:t.isStartIncluded,isStopIncluded:l.greaterThan(o[a].stop,t.stop)?o[a].isStopIncluded:t.isStopIncluded,data:t.data}),o.splice(a,1);else{if(o[a]=new c({start:t.stop,stop:o[a].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:o[a].isStopIncluded,data:o[a].data}),!o[a].isEmpty)break;o.splice(a,1)}o.splice(a,0,t),this._changedEvent.raiseEvent(this)}},f.prototype.removeInterval=function(t){if(!r(t))throw new i("interval is required");if(t.isEmpty)return!1;var n=this._intervals,o=e(n,t,h);o<0&&(o=~o);var a=!1;for(o>0&&(l.greaterThan(n[o-1].stop,t.start)||n[o-1].stop.equals(t.start)&&n[o-1].isStopIncluded&&t.isStartIncluded)&&(a=!0,(l.greaterThan(n[o-1].stop,t.stop)||n[o-1].isStopIncluded&&!t.isStopIncluded&&n[o-1].stop.equals(t.stop))&&n.splice(o,0,new c({start:t.stop,stop:n[o-1].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:n[o-1].isStopIncluded,data:n[o-1].data})),n[o-1]=new c({start:n[o-1].start,stop:t.start,isStartIncluded:n[o-1].isStartIncluded,isStopIncluded:!t.isStartIncluded,data:n[o-1].data})),o<n.length&&!t.isStartIncluded&&n[o].isStartIncluded&&t.start.equals(n[o].start)&&(a=!0,n.splice(o,0,new c({start:n[o].start,stop:n[o].start,isStartIncluded:!0,isStopIncluded:!0,data:n[o].data})),++o);o<n.length&&l.greaterThan(t.stop,n[o].stop);)a=!0,n.splice(o,1);return o<n.length&&t.stop.equals(n[o].stop)&&(a=!0,!t.isStopIncluded&&n[o].isStopIncluded?o+1<n.length&&n[o+1].start.equals(t.stop)&&n[o].data===n[o+1].data?(n.splice(o,1),n[o]=new c({start:n[o].start,stop:n[o].stop,isStartIncluded:!0,isStopIncluded:n[o].isStopIncluded,data:n[o].data})):n[o]=new c({start:t.stop,stop:t.stop,isStartIncluded:!0,isStopIncluded:!0,data:n[o].data}):n.splice(o,1)),o<n.length&&(l.greaterThan(t.stop,n[o].start)||t.stop.equals(n[o].start)&&t.isStopIncluded&&n[o].isStartIncluded)&&(a=!0,n[o]=new c({start:t.stop,stop:n[o].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:n[o].isStopIncluded,data:n[o].data})),a&&this._changedEvent.raiseEvent(this),a},f.prototype.intersect=function(e,t,n){if(!r(e))throw new i("other is required.");for(var o=new f,a=0,s=0,u=this._intervals,h=e._intervals;a<u.length&&s<h.length;){var d=u[a],p=h[s];if(l.lessThan(d.stop,p.start))++a;else if(l.lessThan(p.stop,d.start))++s;else{if(r(n)||r(t)&&t(d.data,p.data)||!r(t)&&p.data===d.data){var m=c.intersect(d,p,new c,n);m.isEmpty||o.addInterval(m,t)}l.lessThan(d.stop,p.stop)||d.stop.equals(p.stop)&&!d.isStopIncluded&&p.isStopIncluded?++a:++s}}return o},f.fromJulianDateArray=function(e,n){if(!r(e))throw new i("options is required.");if(!r(e.julianDates))throw new i("options.iso8601Array is required.");r(n)||(n=new f);var o,a=e.julianDates,s=a.length,l=e.dataCallback,h=t(e.isStartIncluded,!0),d=t(e.isStopIncluded,!0),p=t(e.leadingInterval,!1),m=t(e.trailingInterval,!1),y=0;p&&(++y,o=new c({start:u.MINIMUM_VALUE,stop:a[0],isStartIncluded:!0,isStopIncluded:!h}),o.data=r(l)?l(o,n.length):n.length,n.addInterval(o));for(var g=0;g<s-1;++g){var E=a[g],_=a[g+1];o=new c({start:E,stop:_,isStartIncluded:n.length!==y||h,isStopIncluded:g===s-2&&d}),o.data=r(l)?l(o,n.length):n.length,n.addInterval(o),E=_}return m&&(o=new c({start:a[s-1],stop:u.MAXIMUM_VALUE,isStartIncluded:!d,isStopIncluded:!0}),o.data=r(l)?l(o,n.length):n.length,n.addInterval(o)),n};var y=new a,g=[0,31,28,31,30,31,30,31,31,30,31,30,31],E=new l,_=/P(?:([\d.,]+)Y)?(?:([\d.,]+)M)?(?:([\d.,]+)W)?(?:([\d.,]+)D)?(?:T(?:([\d.,]+)H)?(?:([\d.,]+)M)?(?:([\d.,]+)S)?)?/,v=new a;return f.fromIso8601=function(e,t){if(!r(e))throw new i("options is required.");if(!r(e.iso8601))throw new i("options.iso8601 is required.");var n=e.iso8601.split("/"),o=l.fromIso8601(n[0]),a=l.fromIso8601(n[1]),s=[];if(p(n[2],v)){var u=l.clone(o);for(s.push(u);l.compare(u,a)<0;){u=d(u,v);l.compare(a,u)<=0&&l.clone(a,u),s.push(u)}}else s.push(o,a);return f.fromJulianDateArray({julianDates:s,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},t)},f.fromIso8601DateArray=function(e,t){if(!r(e))throw new i("options is required.");if(!r(e.iso8601Dates))throw new i("options.iso8601Dates is required.");return f.fromJulianDateArray({julianDates:e.iso8601Dates.map(function(e){return l.fromIso8601(e)}),isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},t)},f.fromIso8601DurationArray=function(e,n){if(!r(e))throw new i("options is required.");if(!r(e.epoch))throw new i("options.epoch is required.");if(!r(e.iso8601Durations))throw new i("options.iso8601Durations is required.");for(var o,a,s=e.epoch,u=e.iso8601Durations,l=t(e.relativeToPrevious,!1),c=[],h=u.length,m=0;m<h;++m)(p(u[m],v)||0===m)&&(o=l&&r(a)?d(a,v):d(s,v),c.push(o),a=o);return f.fromJulianDateArray({julianDates:c,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},n)},f}),r("Core/Tipsify",["./defaultValue","./defined","./DeveloperError"],function(e,t,r){"use strict";var n={};return n.calculateACMR=function(n){n=e(n,e.EMPTY_OBJECT);var i=n.indices,o=n.maximumIndex,a=e(n.cacheSize,24);if(!t(i))throw new r("indices is required.");var s=i.length;if(s<3||s%3!=0)throw new r("indices length must be a multiple of three.");if(o<=0)throw new r("maximumIndex must be greater than zero.");if(a<3)throw new r("cacheSize must be greater than two.");if(!t(o)){o=0;for(var u=0,l=i[u];u<s;)l>o&&(o=l),++u,l=i[u]}for(var c=[],h=0;h<o+1;h++)c[h]=0;for(var f=a+1,d=0;d<s;++d)f-c[i[d]]>a&&(c[i[d]]=f,++f);return(f-a+1)/(s/3)},n.tipsify=function(n){function i(e,t,r,n){for(;t.length>=1;){var i=t[t.length-1];if(t.splice(t.length-1,1),e[i].numLiveTriangles>0)return i}for(;o<n;){if(e[o].numLiveTriangles>0)return++o-1;++o}return-1}n=e(n,e.EMPTY_OBJECT);var o,a=n.indices,s=n.maximumIndex,u=e(n.cacheSize,24);if(!t(a))throw new r("indices is required.");var l=a.length;if(l<3||l%3!=0)throw new r("indices length must be a multiple of three.");if(s<=0)throw new r("maximumIndex must be greater than zero.");if(u<3)throw new r("cacheSize must be greater than two.");var c=0,h=0,f=a[h],d=l;if(t(s))c=s+1;else{for(;h<d;)f>c&&(c=f),++h,f=a[h];if(-1===c)return 0;++c}var p,m=[];for(p=0;p<c;p++)m[p]={numLiveTriangles:0,timeStamp:0,vertexTriangles:[]};h=0;for(var y=0;h<d;)m[a[h]].vertexTriangles.push(y),++m[a[h]].numLiveTriangles,m[a[h+1]].vertexTriangles.push(y),++m[a[h+1]].numLiveTriangles,m[a[h+2]].vertexTriangles.push(y),++m[a[h+2]].numLiveTriangles,++y,h+=3;var g=0,E=u+1;o=1;var _,v,w=[],T=[],O=0,S=[],b=l/3,C=[];for(p=0;p<b;p++)C[p]=!1;for(var R,I;-1!==g;){w=[],v=m[g],I=v.vertexTriangles.length;for(var A=0;A<I;++A)if(y=v.vertexTriangles[A],!C[y]){C[y]=!0,h=y+y+y;for(var M=0;M<3;++M)R=a[h],w.push(R),T.push(R),S[O]=R,++O,_=m[R],--_.numLiveTriangles,E-_.timeStamp>u&&(_.timeStamp=E,++E),++h}g=function(e,t,r,n,o,a,s){for(var u,l=-1,c=-1,h=0;h<r.length;){var f=r[h];n[f].numLiveTriangles&&(u=0,o-n[f].timeStamp+2*n[f].numLiveTriangles<=t&&(u=o-n[f].timeStamp),(u>c||-1===c)&&(c=u,l=f)),++h}return-1===l?i(n,a,e,s):l}(a,u,w,m,E,T,c)}return S},n}),r("Core/TranslationRotationScale",["./Cartesian3","./defaultValue","./defined","./Quaternion"],function(e,t,r,n){"use strict";var i=new e(1,1,1),o=e.ZERO,a=n.IDENTITY,s=function(r,s,u){this.translation=e.clone(t(r,o)),this.rotation=n.clone(t(s,a)),this.scale=e.clone(t(u,i))};return s.prototype.equals=function(t){return this===t||r(t)&&e.equals(this.translation,t.translation)&&n.equals(this.rotation,t.rotation)&&e.equals(this.scale,t.scale)},s}),r("Core/VertexFormat",["./defaultValue","./defined","./DeveloperError","./freezeObject"],function(e,t,r,n){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT),this.position=e(t.position,!1),this.normal=e(t.normal,!1),this.st=e(t.st,!1),this.bitangent=e(t.bitangent,!1),this.tangent=e(t.tangent,!1),this.color=e(t.color,!1)}return i.POSITION_ONLY=n(new i({position:!0})),i.POSITION_AND_NORMAL=n(new i({position:!0,normal:!0})),i.POSITION_NORMAL_AND_ST=n(new i({position:!0,normal:!0,st:!0})),i.POSITION_AND_ST=n(new i({position:!0,st:!0})),i.POSITION_AND_COLOR=n(new i({position:!0,color:!0})),i.ALL=n(new i({position:!0,normal:!0,st:!0,tangent:!0,bitangent:!0})),i.DEFAULT=i.POSITION_NORMAL_AND_ST,i.packedLength=6,i.pack=function(n,i,o){if(!t(n))throw new r("value is required");if(!t(i))throw new r("array is required");return o=e(o,0),i[o++]=n.position?1:0,i[o++]=n.normal?1:0,i[o++]=n.st?1:0,i[o++]=n.tangent?1:0,i[o++]=n.bitangent?1:0,i[o]=n.color?1:0,i},i.unpack=function(n,o,a){if(!t(n))throw new r("array is required");return o=e(o,0),t(a)||(a=new i),a.position=1===n[o++],a.normal=1===n[o++],a.st=1===n[o++],a.tangent=1===n[o++],a.bitangent=1===n[o++],a.color=1===n[o],a},i.clone=function(e,r){if(t(e))return t(r)||(r=new i),r.position=e.position,r.normal=e.normal,r.st=e.st,r.tangent=e.tangent,r.bitangent=e.bitangent,r.color=e.color,r},i}),r("Core/WebMercatorTilingScheme",["./Cartesian2","./defaultValue","./defined","./defineProperties","./Ellipsoid","./Rectangle","./WebMercatorProjection"],function(e,t,r,n,i,o,a){"use strict";function s(n){if(n=t(n,{}),this._ellipsoid=t(n.ellipsoid,i.WGS84),this._numberOfLevelZeroTilesX=t(n.numberOfLevelZeroTilesX,1),this._numberOfLevelZeroTilesY=t(n.numberOfLevelZeroTilesY,1),this._projection=new a(this._ellipsoid),r(n.rectangleSouthwestInMeters)&&r(n.rectangleNortheastInMeters))this._rectangleSouthwestInMeters=n.rectangleSouthwestInMeters,this._rectangleNortheastInMeters=n.rectangleNortheastInMeters;else{var s=this._ellipsoid.maximumRadius*Math.PI;this._rectangleSouthwestInMeters=new e(-s,-s),this._rectangleNortheastInMeters=new e(s,s)}var u=this._projection.unproject(this._rectangleSouthwestInMeters),l=this._projection.unproject(this._rectangleNortheastInMeters);this._rectangle=new o(u.longitude,u.latitude,l.longitude,l.latitude)}return n(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),s.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},s.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},s.prototype.rectangleToNativeRectangle=function(e,t){var n=this._projection,i=n.project(o.southwest(e)),a=n.project(o.northeast(e));return r(t)?(t.west=i.x,t.south=i.y,t.east=a.x,t.north=a.y,t):new o(i.x,i.y,a.x,a.y)},s.prototype.tileXYToNativeRectangle=function(e,t,n,i){var a=this.getNumberOfXTilesAtLevel(n),s=this.getNumberOfYTilesAtLevel(n),u=(this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x)/a,l=this._rectangleSouthwestInMeters.x+e*u,c=this._rectangleSouthwestInMeters.x+(e+1)*u,h=(this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y)/s,f=this._rectangleNortheastInMeters.y-t*h,d=this._rectangleNortheastInMeters.y-(t+1)*h;return r(i)?(i.west=l,i.south=d,i.east=c,i.north=f,i):new o(l,d,c,f)},s.prototype.tileXYToRectangle=function(t,r,n,i){var o=this.tileXYToNativeRectangle(t,r,n,i),a=this._projection,s=a.unproject(new e(o.west,o.south)),u=a.unproject(new e(o.east,o.north));return o.west=s.longitude,o.south=s.latitude,o.east=u.longitude,o.north=u.latitude,o},s.prototype.positionToTileXY=function(t,n,i){var a=this._rectangle;if(o.contains(a,t)){var s=this.getNumberOfXTilesAtLevel(n),u=this.getNumberOfYTilesAtLevel(n),l=this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x,c=l/s,h=this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y,f=h/u,d=this._projection,p=d.project(t),m=p.x-this._rectangleSouthwestInMeters.x,y=this._rectangleNortheastInMeters.y-p.y,g=m/c|0;g>=s&&(g=s-1);var E=y/f|0;return E>=u&&(E=u-1),r(i)?(i.x=g,i.y=E,i):new e(g,E)}},s}),r("Core/WeightSpline",["./Check","./defaultValue","./defined","./defineProperties","./DeveloperError","./Spline"],function(e,t,r,n,i,o){"use strict";function a(r){r=t(r,t.EMPTY_OBJECT);var n=r.weights,o=r.times;if(e.defined("weights",n),e.defined("times",o),e.typeOf.number.greaterThanOrEquals("weights.length",n.length,3),n.length%o.length!=0)throw new i("times.length must be a factor of weights.length.");this._times=o,this._weights=n,this._count=n.length/o.length,this._lastTimeIndex=0}return n(a.prototype,{times:{get:function(){return this._times}},weights:{get:function(){return this._weights}}}),a.prototype.findTimeInterval=o.prototype.findTimeInterval,a.prototype.wrapTime=o.prototype.wrapTime,a.prototype.clampTime=o.prototype.clampTime,a.prototype.evaluate=function(e,t){var n=this.weights,i=this.times,o=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),a=(e-i[o])/(i[o+1]-i[o]);r(t)||(t=new Array(this._count));for(var s=0;s<this._count;s++){var u=o*this._count+s;t[s]=n[u]*(1-a)+n[u+this._count]*a}return t},a}),r("Core/arrayFill",["./Check","./defaultValue","./defined"],function(e,t,r){"use strict";function n(n,i,o,a){if(e.defined("array",n),e.defined("value",i),r(o)&&e.typeOf.number("start",o),r(a)&&e.typeOf.number("end",a),"function"==typeof n.fill)return n.fill(i,o,a);for(var s=n.length>>>0,u=t(o,0),l=u<0?Math.max(s+u,0):Math.min(u,s),c=t(a,s),h=c<0?Math.max(s+c,0):Math.min(c,s);l<h;)n[l]=i,l++;return n}return n}),r("Core/arrayRemoveDuplicates",["./Check","./defaultValue","./defined","./Math"],function(e,t,r,n){"use strict";function i(n,i,a){if(e.defined("equalsEpsilon",i),r(n)){a=t(a,!1);var s=n.length;if(s<2)return n;var u,l,c;for(u=1;u<s&&(l=n[u-1],c=n[u],!i(l,c,o));++u);if(u===s)return a&&i(n[0],n[n.length-1],o)?n.slice(1):n;for(var h=n.slice(0,u);u<s;++u)c=n[u],i(l,c,o)||(h.push(c),l=c);return a&&h.length>1&&i(h[0],h[h.length-1],o)&&h.shift(),h}}var o=n.EPSILON10;return i}),r("Core/arraySlice",["./Check","./defined","./FeatureDetection"],function(e,t,r){"use strict";function n(n,i,o){if(e.defined("array",n),t(i)&&e.typeOf.number("begin",i),t(o)&&e.typeOf.number("end",o),"function"==typeof n.slice)return n.slice(i,o);for(var a=Array.prototype.slice.call(n,i,o),s=r.typedArrayTypes,u=s.length,l=0;l<u;++l)if(n instanceof s[l]){a=new s[l](a);break}return a}return n}),r("Core/barycentricCoordinates",["./Cartesian2","./Cartesian3","./Check","./defined","./Math"],function(e,t,r,n,i){"use strict";function o(o,l,c,h,f){r.defined("point",o),r.defined("p0",l),r.defined("p1",c),r.defined("p2",h),n(f)||(f=new t);var d,p,m,y,g,E,_,v;if(n(l.z)){if(t.equalsEpsilon(o,l,i.EPSILON14))return t.clone(t.UNIT_X,f);if(t.equalsEpsilon(o,c,i.EPSILON14))return t.clone(t.UNIT_Y,f);if(t.equalsEpsilon(o,h,i.EPSILON14))return t.clone(t.UNIT_Z,f);d=t.subtract(c,l,a),p=t.subtract(h,l,s),m=t.subtract(o,l,u),y=t.dot(d,d),g=t.dot(d,p),E=t.dot(d,m),_=t.dot(p,p),v=t.dot(p,m)}else{if(e.equalsEpsilon(o,l,i.EPSILON14))return t.clone(t.UNIT_X,f);if(e.equalsEpsilon(o,c,i.EPSILON14))return t.clone(t.UNIT_Y,f);if(e.equalsEpsilon(o,h,i.EPSILON14))return t.clone(t.UNIT_Z,f);d=e.subtract(c,l,a),p=e.subtract(h,l,s),m=e.subtract(o,l,u),y=e.dot(d,d),g=e.dot(d,p),E=e.dot(d,m),_=e.dot(p,p),v=e.dot(p,m)}var w=y*_-g*g,T=1/w;return f.y=(_*E-g*v)*T,f.z=(y*v-g*E)*T,f.x=1-f.y-f.z,f}var a=new t,s=new t,u=new t;return o}),r("Core/createGuid",[],function(){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}return e}),r("Core/Ion",["./Credit","./defined","./Resource"],function(e,t,r){"use strict";var n,i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0NjA1MGJkOS1mNjk2LTQwYWMtYTkxMi1lZGIzZWNjNjI0ZWEiLCJpZCI6MjU5LCJzY29wZXMiOlsiYXNyIiwiZ2MiXSwiaWF0IjoxNTU2NzIzNzE3fQ.hujJ-wMWiVAv65Pb49rstfekinqrqZRHU9OfPbMnIL8",o={};return o.defaultAccessToken=i,o.defaultServer=new r({url:"https://api.cesium.com/"}),o.getDefaultTokenCredit=function(r){if(r===i){if(!t(n)){n=new e('<b>             This application is using Cesium\'s default ion access token. Please assign <i>Cesium.Ion.defaultAccessToken</i>             with an access token from your ion account before making any Cesium API calls.             You can sign up for a free ion account at <a href="https://cesium.com">https://cesium.com</a>.</b>',!0)}return n}},o}),r("Core/IonResource",["../ThirdParty/when","./Check","./Credit","./defaultValue","./defined","./defineProperties","./Ion","./Resource","./RuntimeError"],function(e,t,r,n,i,o,a,s,u){"use strict";function l(e,r){t.defined("endpoint",e),t.defined("endpointResource",r);var n,o=e.externalType,a=i(o);if(a){if("3DTILES"!==o&&"STK_TERRAIN_SERVER"!==o)throw new u("Ion.createResource does not support external imagery assets; use IonImageryProvider instead.");n={url:e.options.url}}else n={url:e.url,retryAttempts:1,retryCallback:c};s.call(this,n),this._ionEndpoint=e,this._ionEndpointResource=r,this._ionRoot=void 0,this._pendingPromise=void 0,this._credits=void 0,this._isExternal=a}function c(t,r){var o=n(t._ionRoot,t),a=o._ionEndpointResource;return i(r)&&(401===r.statusCode||r.target instanceof Image)?(i(o._pendingPromise)||(o._pendingPromise=a.fetchJson().then(function(e){return o._ionEndpoint=e,e}).always(function(e){return o._pendingPromise=void 0,e})),o._pendingPromise.then(function(e){return t._ionEndpoint=e,!0})):e.resolve(!1)}return i(Object.create)&&(l.prototype=Object.create(s.prototype),l.prototype.constructor=l),l.fromAssetId=function(e,t){var r=l._createEndpointResource(e,t);return r.fetchJson().then(function(e){return new l(e,r)})},o(l.prototype,{credits:{get:function(){return i(this._ionRoot)?this._ionRoot.credits:i(this._credits)?this._credits:(this._credits=l.getCreditsFromEndpoint(this._ionEndpoint,this._ionEndpointResource),this._credits)}}}),l.getCreditsFromEndpoint=function(e,t){var n=e.attributions.map(r.getIonCredit),o=a.getDefaultTokenCredit(t.queryParameters.access_token);return i(o)&&n.push(r.clone(o)),n},l.prototype.clone=function(e){var t=n(this._ionRoot,this);return i(e)||(e=new l(t._ionEndpoint,t._ionEndpointResource)),e=s.prototype.clone.call(this,e),e._ionRoot=t,e._isExternal=this._isExternal,e},l.prototype.fetchImage=function(e){if(!this._isExternal){var t=e;e={preferBlob:!0},i(t)&&(e.flipY=t.flipY,e.preferImageBitmap=t.preferImageBitmap)}return s.prototype.fetchImage.call(this,e)},l.prototype._makeRequest=function(e){if(this._isExternal)return s.prototype._makeRequest.call(this,e);var t="*/*;access_token="+this._ionEndpoint.accessToken,r=t,n=this.headers;return i(n)&&i(n.Accept)&&(r=n.Accept+","+t),i(e.headers)?i(e.headers.Accept)?e.headers.Accept=e.headers.Accept+","+t:e.headers.Accept=r:e.headers={Accept:r},s.prototype._makeRequest.call(this,e)},l._createEndpointResource=function(e,r){t.defined("assetId",e),r=n(r,n.EMPTY_OBJECT);var o=n(r.server,a.defaultServer),u=n(r.accessToken,a.defaultAccessToken);o=s.createIfNeeded(o);var l={url:"v1/assets/"+e+"/endpoint"};return i(u)&&(l.queryParameters={access_token:u}),o.getDerivedResource(l)},l}),r("Core/createWorldTerrain",["./CesiumTerrainProvider","./defaultValue","./IonResource"],function(e,t,r){"use strict";function n(n){return n=t(n,t.EMPTY_OBJECT),new e({url:r.fromAssetId(1),requestVertexNormals:t(n.requestVertexNormals,!1),requestWaterMask:t(n.requestWaterMask,!1)})}return n}),r("Core/oneTimeWarning",["./defaultValue","./defined","./DeveloperError"],function(e,t,r){"use strict";function n(n,o){if(!t(n))throw new r("identifier is required.");t(i[n])||(i[n]=!0,console.warn(e(o,n)))}var i={};return n.geometryOutlines="Entity geometry outlines are unsupported on terrain. Outlines will be disabled. To enable outlines, disable geometry terrain clamping by explicitly setting height to 0.",n.geometryZIndex="Entity geometry with zIndex are unsupported when height or extrudedHeight are defined.  zIndex will be ignored",n.geometryHeightReference="Entity corridor, ellipse, polygon or rectangle with heightReference must also have a defined height.  heightReference will be ignored",n.geometryExtrudedHeightReference="Entity corridor, ellipse, polygon or rectangle with extrudedHeightReference must also have a defined extrudedHeight.  extrudedHeightReference will be ignored",n}),r("Core/deprecationWarning",["./defined","./DeveloperError","./oneTimeWarning"],function(e,t,r){"use strict";function n(n,i){if(!e(n)||!e(i))throw new t("identifier and message are required.");r(n,i)}return n}),r("Core/getFilenameFromUri",["../ThirdParty/Uri","./defined","./DeveloperError"],function(e,t,r){"use strict";function n(n){if(!t(n))throw new r("uri is required.");var i=new e(n);i.normalize();var o=i.path,a=o.lastIndexOf("/");return-1!==a&&(o=o.substr(a+1)),o}return n}),r("Core/getImagePixels",["./defined"],function(e){"use strict";function t(t,n,i){e(n)||(n=t.width),e(i)||(i=t.height);var o=r[n];e(o)||(o={},r[n]=o);var a=o[i];if(!e(a)){var s=document.createElement("canvas");s.width=n,s.height=i,a=s.getContext("2d"),a.globalCompositeOperation="copy",o[i]=a}return a.drawImage(t,0,0,n,i),a.getImageData(0,0,n,i).data}var r={};return t}),r("Core/getMagic",["./defaultValue","./getStringFromTypedArray"],function(e,t){"use strict";function r(r,n){return n=e(n,0),t(r,n,Math.min(4,r.length))}return r}),r("Core/isBitSet",[],function(){"use strict";function e(e,t){return 0!=(e&t)}return e}),r("Core/loadCRN",["../ThirdParty/when","./CompressedTextureBuffer","./defined","./DeveloperError","./Resource","./TaskProcessor"],function(e,t,r,n,i,o){"use strict";function a(o){if(!r(o))throw new n("resourceOrUrlOrBuffer is required.");var a;if(o instanceof ArrayBuffer||ArrayBuffer.isView(o))a=e.resolve(o);else{a=i.createIfNeeded(o).fetchArrayBuffer()}if(r(a))return a.then(function(e){if(r(e)){var t=[];return e instanceof ArrayBuffer?t.push(e):0===e.byteOffset&&e.byteLength===e.buffer.byteLength?t.push(e.buffer):(e=e.slice(0,e.length),t.push(e.buffer)),s.scheduleTask(e,t)}}).then(function(e){return t.clone(e)})}var s=new o("transcodeCRNToDXT",Number.POSITIVE_INFINITY);return a}),r("Core/loadImageFromTypedArray",["../ThirdParty/when","./Check","./defined","./defaultValue","./FeatureDetection","./Resource"],function(e,t,r,n,i,o){"use strict";function a(i){var a=i.uint8Array,s=i.format,u=i.request,l=n(i.flipY,!1);t.typeOf.object("uint8Array",a),t.typeOf.string("format",s);var c,h=new Blob([a],{type:s});return o.supportsImageBitmapOptions().then(function(t){return t?e(o.createImageBitmapFromBlob(h,{flipY:l,premultiplyAlpha:!1})):(c=window.URL.createObjectURL(h),new o({url:c,request:u}).fetchImage({flipY:l}))}).then(function(e){return r(c)&&window.URL.revokeObjectURL(c),e}).otherwise(function(t){return r(c)&&window.URL.revokeObjectURL(c),e.reject(t)})}return a}),r("Core/loadKTX",["../ThirdParty/when","./Check","./CompressedTextureBuffer","./defined","./PixelFormat","./Resource","./RuntimeError","./WebGLConstants"],function(e,t,r,n,i,o,a,s){"use strict";function u(r){t.defined("resourceOrUrlOrBuffer",r);var i;if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))i=e.resolve(r);else{i=o.createIfNeeded(r).fetchArrayBuffer()}if(n(i))return i.then(function(e){if(n(e))return l(e)})}function l(e){var t,o=new Uint8Array(e),u=!0;for(t=0;t<c.length;++t)if(c[t]!==o[t]){u=!1;break}if(!u)throw new a("Invalid KTX file.");var l,p;n(e.buffer)?(l=new DataView(e.buffer),p=e.byteOffset):(l=new DataView(e),p=0),p+=12;var m=l.getUint32(p,!0);if(p+=d,m!==h)throw new a("File is the wrong endianness.");var y=l.getUint32(p,!0);p+=d;var g=l.getUint32(p,!0);p+=d;var E=l.getUint32(p,!0);p+=d;var _=l.getUint32(p,!0);p+=d;var v=l.getUint32(p,!0);p+=d;var w=l.getUint32(p,!0);p+=d;var T=l.getUint32(p,!0);p+=d;var O=l.getUint32(p,!0);p+=d;var S=l.getUint32(p,!0);p+=d;var b=l.getUint32(p,!0);p+=d;var C=l.getUint32(p,!0);p+=d;var R=l.getUint32(p,!0);p+=d,p+=R;var I=l.getUint32(p,!0);p+=d;var A;if(A=n(e.buffer)?new Uint8Array(e.buffer,p,I):new Uint8Array(e,p,I),_===s.RGB8?_=i.RGB:_===s.RGBA8&&(_=i.RGBA),!i.validate(_))throw new a("glInternalFormat is not a valid format.");if(i.isCompressedFormat(_)){if(0!==y)throw new a("glType must be zero when the texture is compressed.");if(1!==g)throw new a("The type size for compressed textures must be 1.");if(0!==E)throw new a("glFormat must be zero when the texture is compressed.")}else{if(y!==s.UNSIGNED_BYTE)throw new a("Only unsigned byte buffers are supported.");if(v!==E)throw new a("The base internal format must be the same as the format for uncompressed textures.")}if(0!==O)throw new a("3D textures are unsupported.");if(0!==S)throw new a("Texture arrays are unsupported.");var M=A.byteOffset,x=new Array(C);for(t=0;t<C;++t){for(var N=x[t]={},P=0;P<b;++P){var D=w>>t,L=T>>t,U=i.isCompressedFormat(_)?i.compressedTextureSizeInBytes(_,D,L):i.textureSizeInBytes(_,y,D,L),q=new Uint8Array(A.buffer,M,U);N[f[P]]=new r(_,D,L,q),M+=U}M+=3-(M+3)%4+4}var B=x;if(1===b)for(t=0;t<C;++t)B[t]=B[t][f[0]];return 1===C&&(B=B[0]),B}var c=[171,75,84,88,32,49,49,187,13,10,26,10],h=67305985,f=["positiveX","negativeX","positiveY","negativeY","positiveZ","negativeZ"],d=4;return u});r("Core/mergeSort",["./defined","./DeveloperError"],function(e,t){"use strict";function r(e,t,r,n,i,s){var u,l,c=i-n+1,h=s-i,f=o,d=a;for(u=0;u<c;++u)f[u]=e[n+u];for(l=0;l<h;++l)d[l]=e[i+l+1];u=0,l=0;for(var p=n;p<=s;++p){var m=f[u],y=d[l];u<c&&(l>=h||t(m,y,r)<=0)?(e[p]=m,++u):l<h&&(e[p]=y,++l)}}function n(e,t,i,o,a){if(!(o>=a)){var s=Math.floor(.5*(o+a));n(e,t,i,o,s),n(e,t,i,s+1,a),r(e,t,i,o,s,a)}}function i(r,i,s){if(!e(r))throw new t("array is required.");if(!e(i))throw new t("comparator is required.");var u=r.length,l=Math.ceil(.5*u);o.length=l,a.length=l,n(r,i,s,0,u-1),o.length=0,a.length=0}var o=[],a=[];return i}),r("Core/pointInsideTriangle",["./barycentricCoordinates","./Cartesian3"],function(e,t){"use strict";function r(t,r,i,o){return e(t,r,i,o,n),n.x>0&&n.y>0&&n.z>0}var n=new t;return r}),r("Core/sampleTerrain",["../ThirdParty/when","./Check"],function(e,t){"use strict";function r(e,r,i){return t.typeOf.object("terrainProvider",e),t.typeOf.number("level",r),t.defined("positions",i),e.readyPromise.then(function(){return n(e,r,i)})}function n(t,r,n){var a,s=t.tilingScheme,u=[],l={};for(a=0;a<n.length;++a){var c=s.positionToTileXY(n[a],r),h=c.toString();if(!l.hasOwnProperty(h)){var f={x:c.x,y:c.y,level:r,tilingScheme:s,terrainProvider:t,
positions:[]};l[h]=f,u.push(f)}l[h].positions.push(n[a])}var d=[];for(a=0;a<u.length;++a){var p=u[a],m=p.terrainProvider.requestTileGeometry(p.x,p.y,p.level),y=m.then(i(p)).otherwise(o(p));d.push(y)}return e.all(d,function(){return n})}function i(e){var t=e.positions,r=e.tilingScheme.tileXYToRectangle(e.x,e.y,e.level);return function(e){for(var n=0;n<t.length;++n){var i=t[n];i.height=e.interpolateHeight(r,i.longitude,i.latitude)}}}function o(e){var t=e.positions;return function(){for(var e=0;e<t.length;++e){t[e].height=void 0}}}return r}),r("Core/sampleTerrainMostDetailed",["../ThirdParty/when","./Cartesian2","./defined","./DeveloperError","./sampleTerrain"],function(e,t,r,n,i){"use strict";function o(t,s){if(!r(t))throw new n("terrainProvider is required.");if(!r(s))throw new n("positions is required.");return t.readyPromise.then(function(){var u=[],l=[],c=t.availability;if(!r(c))throw new n("sampleTerrainMostDetailed requires a terrain provider that has tile availability.");for(var h=[],f=0;f<s.length;++f){var d=s[f],p=c.computeMaximumLevelAtPosition(d);if(l[f]=p,0===p){t.tilingScheme.positionToTileXY(d,1,a);var m=t.loadTileDataAvailability(a.x,a.y,1);r(m)&&h.push(m)}var y=u[p];r(y)||(u[p]=y=[]),y.push(d)}return e.all(h).then(function(){return e.all(u.map(function(e,n){if(r(e))return i(t,n,e)}))}).then(function(){for(var e=[],r=0;r<s.length;++r){var n=s[r];c.computeMaximumLevelAtPosition(n)!==l[r]&&e.push(n)}if(e.length>0)return o(t,e)}).then(function(){return s})})}var a=new t;return o}),r("Core/subdivideArray",["./defined","./DeveloperError"],function(e,t){"use strict";function r(r,n){if(!e(r))throw new t("array is required.");if(!e(n)||n<1)throw new t("numberOfArrays must be greater than 0.");for(var i=[],o=r.length,a=0;a<o;){var s=Math.ceil((o-a)/n--);i.push(r.slice(a,a+s)),a+=s}return i}return r}),r("Core/webGLConstantToGlslType",["./WebGLConstants"],function(e){"use strict";function t(t){switch(t){case e.FLOAT:return"float";case e.FLOAT_VEC2:return"vec2";case e.FLOAT_VEC3:return"vec3";case e.FLOAT_VEC4:return"vec4";case e.FLOAT_MAT2:return"mat2";case e.FLOAT_MAT3:return"mat3";case e.FLOAT_MAT4:return"mat4";case e.SAMPLER_2D:return"sampler2D";case e.BOOL:return"bool"}}return t}),r("Core/wrapFunction",["./DeveloperError"],function(e){"use strict";function t(t,r,n){if("function"!=typeof r)throw new e("oldFunction is required to be a function.");if("function"!=typeof n)throw new e("oldFunction is required to be a function.");return function(){n.apply(t,arguments),r.apply(t,arguments)}}return t}),r("Cesium",["./Core/ApproximateTerrainHeights","./Core/ArcType","./Core/AssociativeArray","./Core/AttributeCompression","./Core/AxisAlignedBoundingBox","./Core/BoundingRectangle","./Core/BoundingSphere","./Core/Cartesian2","./Core/Cartesian3","./Core/Cartesian4","./Core/Cartographic","./Core/CartographicGeocoderService","./Core/CatmullRomSpline","./Core/CesiumTerrainProvider","./Core/Check","./Core/Clock","./Core/ClockRange","./Core/ClockStep","./Core/Color","./Core/ComponentDatatype","./Core/CompressedTextureBuffer","./Core/CornerType","./Core/Credit","./Core/CubicRealPolynomial","./Core/CullingVolume","./Core/DefaultProxy","./Core/DeveloperError","./Core/DistanceDisplayCondition","./Core/DoublyLinkedList","./Core/EarthOrientationParameters","./Core/EarthOrientationParametersSample","./Core/EasingFunction","./Core/Ellipsoid","./Core/EllipsoidGeodesic","./Core/EllipsoidRhumbLine","./Core/EllipsoidTangentPlane","./Core/EllipsoidTerrainProvider","./Core/EllipsoidalOccluder","./Core/EncodedCartesian3","./Core/Event","./Core/EventHelper","./Core/ExtrapolationType","./Core/GeocodeType","./Core/GeocoderService","./Core/GeographicProjection","./Core/GeographicTilingScheme","./Core/GregorianDate","./Core/HeadingPitchRange","./Core/HeadingPitchRoll","./Core/Heap","./Core/HeightmapTerrainData","./Core/HeightmapTessellator","./Core/HermitePolynomialApproximation","./Core/HermiteSpline","./Core/Iau2000Orientation","./Core/Iau2006XysData","./Core/Iau2006XysSample","./Core/IauOrientationAxes","./Core/IauOrientationParameters","./Core/IndexDatatype","./Core/InterpolationAlgorithm","./Core/Intersect","./Core/IntersectionTests","./Core/Intersections2D","./Core/Interval","./Core/Iso8601","./Core/JulianDate","./Core/KeyboardEventModifier","./Core/LagrangePolynomialApproximation","./Core/LeapSecond","./Core/LinearApproximation","./Core/LinearSpline","./Core/ManagedArray","./Core/MapProjection","./Core/MapboxApi","./Core/Math","./Core/Matrix2","./Core/Matrix3","./Core/Matrix4","./Core/NearFarScalar","./Core/Occluder","./Core/OpenCageGeocoderService","./Core/OrientedBoundingBox","./Core/Packable","./Core/PackableForInterpolation","./Core/PinBuilder","./Core/PixelFormat","./Core/Plane","./Core/PolygonHierarchy","./Core/PolygonPipeline","./Core/PolylinePipeline","./Core/PrimitiveType","./Core/QuadraticRealPolynomial","./Core/QuantizedMeshTerrainData","./Core/QuarticRealPolynomial","./Core/Quaternion","./Core/QuaternionSpline","./Core/Queue","./Core/Ray","./Core/Rectangle","./Core/RectangleCollisionChecker","./Core/ReferenceFrame","./Core/Request","./Core/RequestErrorEvent","./Core/RequestScheduler","./Core/RequestState","./Core/RequestType","./Core/Resource","./Core/RuntimeError","./Core/Simon1994PlanetaryPositions","./Core/Spherical","./Core/Spline","./Core/TaskProcessor","./Core/TerrainData","./Core/TerrainEncoding","./Core/TerrainMesh","./Core/TerrainProvider","./Core/TerrainQuantization","./Core/TileAvailability","./Core/TileEdge","./Core/TileProviderError","./Core/TilingScheme","./Core/TimeConstants","./Core/TimeInterval","./Core/TimeIntervalCollection","./Core/TimeStandard","./Core/Tipsify","./Core/Transforms","./Core/TranslationRotationScale","./Core/TridiagonalSystemSolver","./Core/TrustedServers","./Core/VertexFormat","./Core/Visibility","./Core/WebMercatorProjection","./Core/WebMercatorTilingScheme","./Core/WeightSpline","./Core/WindingOrder","./Core/appendForwardSlash","./Core/arrayFill","./Core/arrayRemoveDuplicates","./Core/arraySlice","./Core/barycentricCoordinates","./Core/binarySearch","./Core/buildModuleUrl","./Core/clone","./Core/combine","./Core/createGuid","./Core/createWorldTerrain","./Core/defaultValue","./Core/defineProperties","./Core/defined","./Core/deprecationWarning","./Core/destroyObject","./Core/formatError","./Core/freezeObject","./Core/getAbsoluteUri","./Core/getBaseUri","./Core/getExtensionFromUri","./Core/getFilenameFromUri","./Core/getImagePixels","./Core/getMagic","./Core/getStringFromTypedArray","./Core/getTimestamp","./Core/isArray","./Core/isBitSet","./Core/isBlobUri","./Core/isCrossOriginUrl","./Core/isDataUri","./Core/isLeapYear","./Core/loadAndExecuteScript","./Core/loadCRN","./Core/loadImageFromTypedArray","./Core/loadKTX","./Core/mergeSort","./Core/objectToQuery","./Core/oneTimeWarning","./Core/parseResponseHeaders","./Core/pointInsideTriangle","./Core/queryToObject","./Core/sampleTerrain","./Core/sampleTerrainMostDetailed","./Core/scaleToGeodeticSurface","./Core/subdivideArray","./Core/webGLConstantToGlslType","./Core/wrapFunction"],function(e,t,r,n,i,o,a,s,u,l,c,h,f,d,p,m,y,g,E,_,v,w,T,O,S,b,C,R,I,A,M,x,N,P,D,L,U,q,B,F,j,z,G,k,H,V,W,Y,X,Z,K,Q,J,$,ee,te,re,ne,ie,oe,ae,se,ue,le,ce,he,fe,de,pe,me,ye,ge,Ee,_e,ve,we,Te,Oe,Se,be,Ce,Re,Ie,Ae,Me,xe,Ne,Pe,De,Le,Ue,qe,Be,Fe,je,ze,Ge,ke,He,Ve,We,Ye,Xe,Ze,Ke,Qe,Je,$e,et,tt,rt,nt,it,ot,at,st,ut,lt,ct,ht,ft,dt,pt,mt,yt,gt,Et,_t,vt,wt,Tt,Ot,St,bt,Ct,Rt,It,At,Mt,xt,Nt,Pt,Dt,Lt,Ut,qt,Bt,Ft,jt,zt,Gt,kt,Ht,Vt,Wt,Yt,Xt,Zt,Kt,Qt,Jt,$t,er,tr,rr,nr,ir,or,ar,sr,ur,lr,cr,hr,fr,dr,pr,mr,yr,gr,Er,_r,vr,wr,Tr){"use strict";var Or={VERSION:"1.57",_shaders:{}};return Or.ApproximateTerrainHeights=e,Or.ArcType=t,Or.AssociativeArray=r,Or.AttributeCompression=n,Or.AxisAlignedBoundingBox=i,Or.BoundingRectangle=o,Or.BoundingSphere=a,Or.Cartesian2=s,Or.Cartesian3=u,Or.Cartesian4=l,Or.Cartographic=c,Or.CartographicGeocoderService=h,Or.CatmullRomSpline=f,Or.CesiumTerrainProvider=d,Or.Check=p,Or.Clock=m,Or.ClockRange=y,Or.ClockStep=g,Or.Color=E,Or.ComponentDatatype=_,Or.CompressedTextureBuffer=v,Or.CornerType=w,Or.Credit=T,Or.CubicRealPolynomial=O,Or.CullingVolume=S,Or.DefaultProxy=b,Or.DeveloperError=C,Or.DistanceDisplayCondition=R,Or.DoublyLinkedList=I,Or.EarthOrientationParameters=A,Or.EarthOrientationParametersSample=M,Or.EasingFunction=x,Or.Ellipsoid=N,Or.EllipsoidGeodesic=P,Or.EllipsoidRhumbLine=D,Or.EllipsoidTangentPlane=L,Or.EllipsoidTerrainProvider=U,Or.EllipsoidalOccluder=q,Or.EncodedCartesian3=B,Or.Event=F,Or.EventHelper=j,Or.ExtrapolationType=z,Or.GeocodeType=G,Or.GeocoderService=k,Or.GeographicProjection=H,Or.GeographicTilingScheme=V,Or.GregorianDate=W,Or.HeadingPitchRange=Y,Or.HeadingPitchRoll=X,Or.Heap=Z,Or.HeightmapTerrainData=K,Or.HeightmapTessellator=Q,Or.HermitePolynomialApproximation=J,Or.HermiteSpline=$,Or.Iau2000Orientation=ee,Or.Iau2006XysData=te,Or.Iau2006XysSample=re,Or.IauOrientationAxes=ne,Or.IauOrientationParameters=ie,Or.IndexDatatype=oe,Or.InterpolationAlgorithm=ae,Or.Intersect=se,Or.IntersectionTests=ue,Or.Intersections2D=le,Or.Interval=ce,Or.Iso8601=he,Or.JulianDate=fe,Or.KeyboardEventModifier=de,Or.LagrangePolynomialApproximation=pe,Or.LeapSecond=me,Or.LinearApproximation=ye,Or.LinearSpline=ge,Or.ManagedArray=Ee,Or.MapProjection=_e,Or.MapboxApi=ve,Or.Math=we,Or.Matrix2=Te,Or.Matrix3=Oe,Or.Matrix4=Se,Or.NearFarScalar=be,Or.Occluder=Ce,Or.OpenCageGeocoderService=Re,Or.OrientedBoundingBox=Ie,Or.Packable=Ae,Or.PackableForInterpolation=Me,Or.PinBuilder=xe,Or.PixelFormat=Ne,Or.Plane=Pe,Or.PolygonHierarchy=De,Or.PolygonPipeline=Le,Or.PolylinePipeline=Ue,Or.PrimitiveType=qe,Or.QuadraticRealPolynomial=Be,Or.QuantizedMeshTerrainData=Fe,Or.QuarticRealPolynomial=je,Or.Quaternion=ze,Or.QuaternionSpline=Ge,Or.Queue=ke,Or.Ray=He,Or.Rectangle=Ve,Or.RectangleCollisionChecker=We,Or.ReferenceFrame=Ye,Or.Request=Xe,Or.RequestErrorEvent=Ze,Or.RequestScheduler=Ke,Or.RequestState=Qe,Or.RequestType=Je,Or.Resource=$e,Or.RuntimeError=et,Or.Simon1994PlanetaryPositions=tt,Or.Spherical=rt,Or.Spline=nt,Or.TaskProcessor=it,Or.TerrainData=ot,Or.TerrainEncoding=at,Or.TerrainMesh=st,Or.TerrainProvider=ut,Or.TerrainQuantization=lt,Or.TileAvailability=ct,Or.TileEdge=ht,Or.TileProviderError=ft,Or.TilingScheme=dt,Or.TimeConstants=pt,Or.TimeInterval=mt,Or.TimeIntervalCollection=yt,Or.TimeStandard=gt,Or.Tipsify=Et,Or.Transforms=_t,Or.TranslationRotationScale=vt,Or.TridiagonalSystemSolver=wt,Or.TrustedServers=Tt,Or.VertexFormat=Ot,Or.Visibility=St,Or.WebMercatorProjection=bt,Or.WebMercatorTilingScheme=Ct,Or.WeightSpline=Rt,Or.WindingOrder=It,Or.appendForwardSlash=At,Or.arrayFill=Mt,Or.arrayRemoveDuplicates=xt,Or.arraySlice=Nt,Or.barycentricCoordinates=Pt,Or.binarySearch=Dt,Or.buildModuleUrl=Lt,Or.clone=Ut,Or.combine=qt,Or.createGuid=Bt,Or.createWorldTerrain=Ft,Or.defaultValue=jt,Or.defineProperties=zt,Or.defined=Gt,Or.deprecationWarning=kt,Or.destroyObject=Ht,Or.formatError=Vt,Or.freezeObject=Wt,Or.getAbsoluteUri=Yt,Or.getBaseUri=Xt,Or.getExtensionFromUri=Zt,Or.getFilenameFromUri=Kt,Or.getImagePixels=Qt,Or.getMagic=Jt,Or.getStringFromTypedArray=$t,Or.getTimestamp=er,Or.isArray=tr,Or.isBitSet=rr,Or.isBlobUri=nr,Or.isCrossOriginUrl=ir,Or.isDataUri=or,Or.isLeapYear=ar,Or.loadAndExecuteScript=sr,Or.loadCRN=ur,Or.loadImageFromTypedArray=lr,Or.loadKTX=cr,Or.mergeSort=hr,Or.objectToQuery=fr,Or.oneTimeWarning=dr,Or.parseResponseHeaders=pr,Or.pointInsideTriangle=mr,Or.queryToObject=yr,Or.sampleTerrain=gr,Or.sampleTerrainMostDetailed=Er,Or.scaleToGeodeticSurface=_r,Or.subdivideArray=vr,Or.webGLConstantToGlslType=wr,Or.wrapFunction=Tr,Or}),t(["Cesium"],function(e){"use strict";"undefined"!=typeof window?window.Cesium=e:"undefined"!=typeof self?self.Cesium=e:"undefined"!=typeof module?module.exports=e:console.log("Unable to load Cesium.")},void 0,!0)}();